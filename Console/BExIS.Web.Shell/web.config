<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=152368
  -->
<configuration>
  <configSections>
    <sectionGroup name="telerik">
      <section name="webAssets" type="Telerik.Web.Mvc.Configuration.WebAssetConfigurationSection, Telerik.Web.Mvc" requirePermission="false" />
    </sectionGroup>
  </configSections>
  <connectionStrings>
    <!--<add name="ApplicationServices" connectionString="Server=bx2train.inf-bb.uni-jena.de;Port=5432;Database=BUDC2016;Userid=postgres;Password=1;Pooling=true;MinPoolSize=1;MaxPoolSize=100;ConnectionLifeTime=300;" />-->
    <add name="ApplicationServices" connectionString="Server=localhost;Port=5432;Database=BExIS_Ext;Userid=postgres;Password=1;Pooling=true;MinPoolSize=1;MaxPoolSize=100;ConnectionLifeTime=300;" />
  </connectionStrings>
  <appSettings>
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />
    <add key="UseSchemaInDatabaseGeneration" value="False" />
    <add key="ThrowErrorWhenParialContentNotFound" value="False" />

    <add key="ApplicationName" value="BEXIS" />
    <add key="ApplicationVersion" value="2.10.0" />

    <!-- Keep it as false, there are some test data in the database-->
    <add key="CreateDatabase" value="false" />
    <add key="UpdateSeedData" value="false" />
    <add key="ShowQueries" value="true" />
    <add key="DatabaseDialect" value="PostgreSQL82Dialect" />
    <!--PostgreSQL82Dialect, DB2Dialect-->
    <add key="AutoCommitTransactions" value="False" />
    <add key="IoCProviderTypeInfo" value="Vaiona.IoC.Unity.UnityIoC, Vaiona.IoC" />
    <!--
      an absolute path like: D:\bpp\Tech\ModuleBranches\C_DLM\Workspace, a relative path like: ..\..\ or empty. 
      The default is empty and it point to the place of automatically generated workspace for debug mode which is the level as the folder containing the web.config file.
      Indeed the workspace folder is at the same level as the Shell.
    -->
    <add key="WorkspacePath" value="" />
    <add key="DataPath" value="C:\Data" />
    <add key="DefaultCulture" value="en-US" />

    <add key="TenantId" value="bexis" />
    <add key="ThemesPath" value="~/Themes/" />
    <add key="DefaultThemeName" value="default" />
    <add key="ActiveLayoutName" value="_Layout" />
    
    <add key="loginUrl" value="SAM/Account/LogOn" />
    
    <add key="IsLoggingEnable" value="true" />
    <add key="IsCallLoggingEnable" value="true" />
    <add key="IsPerformanceLoggingEnable" value="true" />
    <add key="IsDiagnosticLoggingEnable" value="true" />
    <add key="IsExceptionLoggingEnable" value="true" />
    <add key="microsoft.visualstudio.teamsystems.aspnetdevserver:/" value="1204;True;6700;1;-8587979243650517162" />
    <add key="microsoft.visualstudio.teamsystems.backupinfo" value="1;web.config.backup" />
  </appSettings>
  <!--
    Eine Beschreibung der Änderungen von 'web.config' finden Sie unter 'http://go.microsoft.com/fwlink/?LinkId=235367'.

    Die folgenden Attribute können für das <httpRuntime>-Tag festgelegt werden.
      <system.Web>
        <httpRuntime targetFramework="4.5.2" />
      </system.Web>
  -->
  <system.web>
    <!-- Enable sending session cookies ONLY via HTTPS -->
    <!--
    <httpCookies requireSSL="true" />
    -->
  
    <globalization uiCulture="en-US" culture="en-US" />
    <sessionState timeout="30" mode="InProc" />
    <!-- 20 minutes session timeout, set the cookie name as a cobination of the appname + version-->
    <compilation debug="true" targetFramework="4.5.2">
      <assemblies>
        <add assembly="System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies>
    </compilation>
    <authentication mode="Forms">
	  <!-- Enable sending auth cookies ONLY via HTTPS -->
	  <!--
      <forms loginUrl="SAM/Account/LogOn" timeout="2700" requireSSL="true"/>
	  -->
	  <forms loginUrl="SAM/Account/LogOn" timeout="60" requireSSL="false" />
      <!--MVC does not use this settings, instead it uses a loginUrl key in the appSettings!!? -->
    </authentication>
    <membership>
      <providers>
        <clear />
        <add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="/" />
      </providers>
    </membership>
    <profile>
      <providers>
        <clear />
        <!--<add name="AspNetSqlProfileProvider" type="System.Web.Profile.SqlProfileProvider" connectionStringName="ApplicationServices" applicationName="/" />-->
      </providers>
    </profile>
    <roleManager enabled="true">
      <providers>
        <clear />
        <add name="AspNetSqlRoleProvider" type="System.Web.Security.SqlRoleProvider" connectionStringName="ApplicationServices" applicationName="/" />
        <!--<add name="AspNetWindowsTokenRoleProvider" type="System.Web.Security.WindowsTokenRoleProvider" applicationName="/" />-->
      </providers>
    </roleManager>
    <pages controlRenderingCompatibilityVersion="4.0">
      <namespaces>
        <add namespace="System.Web.Helpers" />
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Routing" />
        <add namespace="System.Web.WebPages" />
        
      <add namespace="Telerik.Web.Mvc.UI" /></namespaces>
    </pages>
    
    <httpRuntime maxRequestLength="1048576" executionTimeout="480" />

  <httpHandlers>
            <add verb="GET,HEAD" path="asset.axd" validate="false" type="Telerik.Web.Mvc.WebAssetHttpHandler, Telerik.Web.Mvc" />
  </httpHandlers>
    
</system.web>
  <system.webServer>
  
    <!-- Permanent HTTPS redirect and adding HSTS incl. preloading and subdomains to improve security -->
    <!--
    <rewrite>
        <rules>
            <rule name="HTTP to HTTPS redirect" stopProcessing="true">
                <match url="(.*)" />
                <conditions>
                    <add input="{HTTPS}" pattern="off" ignoreCase="true" />
                </conditions>
                <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" redirectType="Permanent" />
            </rule>
        </rules>
        <outboundRules>
            <rule name="Add Strict-Transport-Security when HTTPS" enabled="true">
                <match serverVariable="RESPONSE_Strict_Transport_Security" pattern=".*" />
                <conditions>
                    <add input="{HTTPS}" pattern="on" ignoreCase="true" />
                </conditions>
                <action type="Rewrite" value="max-age=31536000; includeSubDomains; preload" />
            </rule>
			<rule name="Replace Server Header" patternSyntax="Wildcard" enabled="true">
                <match serverVariable="RESPONSE_SERVER" pattern="*" />
                <action type="Rewrite" value="nginx" />
			</rule>
        </outboundRules>
    </rewrite>
    -->
    
    <!--<modulees runAllManagedmoduleesForAllRequests="true">-->
      <!--<remove name="SessionPerRequestmodulee" />
      <add name="SessionPerRequestmodulee" type="Vaiona.Web.Httpmodulees.SessionPerRequestmodulee, Vaiona.Web" preCondition="managedHandler" />-->
    <!--</modulees>-->
    
    <security>
      <requestFiltering>
        <!-- maximum allowed content length set to 1 TByte -->
        <requestLimits maxAllowedContentLength="1073741824" />
      </requestFiltering>
    </security>
  <validation validateIntegratedModeConfiguration="false" /><handlers>
            <remove name="asset" />
            <add name="asset" preCondition="integratedMode" verb="GET,HEAD" path="asset.axd" type="Telerik.Web.Mvc.WebAssetHttpHandler, Telerik.Web.Mvc" />
            <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
            <remove name="OPTIONSVerbHandler" />
            <remove name="TRACEVerbHandler" />
            <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
        </handlers>
    <httpProtocol>
      <customHeaders>
        <!-- Remove header to impreove security -->
        <remove name="X-Powered-By" />
      </customHeaders>
    </httpProtocol>	
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <!--<probing privatePath="Plugins" />--> <!--The probing path to be used to dynamicaaly load the module assemblies during the application start up. It is used by the BExIS.Ext.Kernel.PluginInitializer-->
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.ServiceLocation" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <!--<dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages.Razor" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>-->
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Web.Helpers" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="PostSharp" publicKeyToken="b13fd38b8f9c99d7" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.1.0.0" newVersion="2.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.Unity" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.0" newVersion="3.5.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.Unity.Configuration" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.0" newVersion="3.5.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <telerik>
    <webAssets useTelerikContentDeliveryNetwork="false" />
  </telerik>
</configuration>