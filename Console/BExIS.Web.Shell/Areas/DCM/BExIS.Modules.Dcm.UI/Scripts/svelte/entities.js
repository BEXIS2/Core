import{S as L,i as H,s as B,Z as ee,n as V,e as N,_ as U,b as k,a0 as te,a1 as ne,a2 as se,o as le,t as m,d as _,f as w,W as j,X as ke,Y as we,L as re,B as J,c as p,h as S,m as d,g,q as P,u as A,v as z,y as Pe,aA as Ue,a as X,r as M,l as Le,I as ue,D,E as F,G,j as Te,H as ve,w as ae,x as fe,z as Se,V as He,J as Be,K as W,R as Z,N as x,M as je,C as O,F as ie,aa as ze,aw as Re,ax as Je,p as We,$ as Ce,aB as Xe,an as Ye,P as Ze,ap as Ee,aq as Qe,U as ye}from"./assets/Api.js";import{C as xe}from"./assets/Collapse.js";import{j as et,k as tt,l as nt,n as st,o as lt,p as rt,a as ut,q as at,t as ft,u as it,g as ot}from"./assets/Caller.js";import{S as ct,C as mt,a as _t,b as pt,c as dt}from"./assets/Select.js";import{K as gt,V as $t,v as be,w as Y}from"./assets/vest.production.js";import{c as bt,a as ht}from"./assets/index.js";function kt(r){let e,n;const t=r[4].default,u=ee(t,r,r[3],null);let s=[r[1],{class:r[0]}],l={};for(let f=0;f<s.length;f+=1)l=V(l,s[f]);return{c(){e=N("h6"),u&&u.c(),U(e,l)},m(f,a){k(f,e,a),u&&u.m(e,null),n=!0},p(f,[a]){u&&u.p&&(!n||a&8)&&te(u,t,f,f[3],n?se(t,f[3],a,null):ne(f[3]),null),U(e,l=le(s,[a&2&&f[1],(!n||a&1)&&{class:f[0]}]))},i(f){n||(m(u,f),n=!0)},o(f){_(u,f),n=!1},d(f){f&&w(e),u&&u.d(f)}}}function wt(r,e,n){let t;const u=["class"];let s=j(e,u),{$$slots:l={},$$scope:f}=e,{class:a=""}=e;return r.$$set=i=>{e=V(V({},e),ke(i)),n(1,s=j(e,u)),"class"in i&&n(2,a=i.class),"$$scope"in i&&n(3,f=i.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=we(a,"card-subtitle"))},[t,s,a,f,l]}class vt extends L{constructor(e){super(),H(this,e,wt,kt,B,{class:2})}}function St(r){let e,n;const t=r[4].default,u=ee(t,r,r[3],null);let s=[r[1],{class:r[0]}],l={};for(let f=0;f<s.length;f+=1)l=V(l,s[f]);return{c(){e=N("p"),u&&u.c(),U(e,l)},m(f,a){k(f,e,a),u&&u.m(e,null),n=!0},p(f,[a]){u&&u.p&&(!n||a&8)&&te(u,t,f,f[3],n?se(t,f[3],a,null):ne(f[3]),null),U(e,l=le(s,[a&2&&f[1],(!n||a&1)&&{class:f[0]}]))},i(f){n||(m(u,f),n=!0)},o(f){_(u,f),n=!1},d(f){f&&w(e),u&&u.d(f)}}}function Tt(r,e,n){let t;const u=["class"];let s=j(e,u),{$$slots:l={},$$scope:f}=e,{class:a=""}=e;return r.$$set=i=>{e=V(V({},e),ke(i)),n(1,s=j(e,u)),"class"in i&&n(2,a=i.class),"$$scope"in i&&n(3,f=i.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=we(a,"card-text"))},[t,s,a,f,l]}class Ct extends L{constructor(e){super(),H(this,e,Tt,St,B,{class:2})}}function Et(r){let e,n;const t=r[4].default,u=ee(t,r,r[3],null);let s=[r[1],{class:r[0]}],l={};for(let f=0;f<s.length;f+=1)l=V(l,s[f]);return{c(){e=N("h5"),u&&u.c(),U(e,l)},m(f,a){k(f,e,a),u&&u.m(e,null),n=!0},p(f,[a]){u&&u.p&&(!n||a&8)&&te(u,t,f,f[3],n?se(t,f[3],a,null):ne(f[3]),null),U(e,l=le(s,[a&2&&f[1],(!n||a&1)&&{class:f[0]}]))},i(f){n||(m(u,f),n=!0)},o(f){_(u,f),n=!1},d(f){f&&w(e),u&&u.d(f)}}}function yt(r,e,n){let t;const u=["class"];let s=j(e,u),{$$slots:l={},$$scope:f}=e,{class:a=""}=e;return r.$$set=i=>{e=V(V({},e),ke(i)),n(1,s=j(e,u)),"class"in i&&n(2,a=i.class),"$$scope"in i&&n(3,f=i.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=we(a,"card-title"))},[t,s,a,f,l]}class It extends L{constructor(e){super(),H(this,e,yt,Et,B,{class:2})}}function qt(r){let e,n;const t=r[10].default,u=ee(t,r,r[9],null);let s=[r[1],{class:r[0]}],l={};for(let f=0;f<s.length;f+=1)l=V(l,s[f]);return{c(){e=N("div"),u&&u.c(),U(e,l)},m(f,a){k(f,e,a),u&&u.m(e,null),n=!0},p(f,[a]){u&&u.p&&(!n||a&512)&&te(u,t,f,f[9],n?se(t,f[9],a,null):ne(f[9]),null),U(e,l=le(s,[a&2&&f[1],(!n||a&1)&&{class:f[0]}]))},i(f){n||(m(u,f),n=!0)},o(f){_(u,f),n=!1},d(f){f&&w(e),u&&u.d(f)}}}function Nt(r,e,n){let t;const u=["class","sm","md","lg","xl","xxl","fluid"];let s=j(e,u),{$$slots:l={},$$scope:f}=e,{class:a=""}=e,{sm:i=void 0}=e,{md:o=void 0}=e,{lg:b=void 0}=e,{xl:v=void 0}=e,{xxl:C=void 0}=e,{fluid:E=!1}=e;return r.$$set=c=>{e=V(V({},e),ke(c)),n(1,s=j(e,u)),"class"in c&&n(2,a=c.class),"sm"in c&&n(3,i=c.sm),"md"in c&&n(4,o=c.md),"lg"in c&&n(5,b=c.lg),"xl"in c&&n(6,v=c.xl),"xxl"in c&&n(7,C=c.xxl),"fluid"in c&&n(8,E=c.fluid),"$$scope"in c&&n(9,f=c.$$scope)},r.$$.update=()=>{r.$$.dirty&508&&n(0,t=we(a,{"container-sm":i,"container-md":o,"container-lg":b,"container-xl":v,"container-xxl":C,"container-fluid":E,container:!i&&!o&&!b&&!v&&!C&&!E}))},[t,s,a,i,o,b,v,C,E,f,l]}class Oe extends L{constructor(e){super(),H(this,e,Nt,qt,B,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}function Ie(r,e,n){const t=r.slice();return t[7]=e[n],t}function Mt(r){let e;return{c(){e=P(r[2])},m(n,t){k(n,e,t)},p(n,t){t&4&&A(e,n[2])},d(n){n&&w(e)}}}function qe(r){let e,n,t,u,s,l=r[7].value+"",f,a,i,o,b;return{c(){e=N("div"),n=N("input"),u=S(),s=N("label"),f=P(l),i=S(),X(n,"class","form-check-input"),X(n,"type","checkbox"),n.__value=t=r[7].key,n.value=n.__value,r[6][0].push(n),X(s,"class","form-check-label"),X(s,"for",a=r[3]+"}"),X(e,"class","form-check")},m(v,C){k(v,e,C),M(e,n),n.checked=~r[0].indexOf(n.__value),M(e,u),M(e,s),M(s,f),M(e,i),o||(b=Le(n,"change",r[5]),o=!0)},p(v,C){C&2&&t!==(t=v[7].key)&&(n.__value=t,n.value=n.__value),C&1&&(n.checked=~v[0].indexOf(n.__value)),C&2&&l!==(l=v[7].value+"")&&A(f,l),C&8&&a!==(a=v[3]+"}")&&X(s,"for",a)},d(v){v&&w(e),r[6][0].splice(r[6][0].indexOf(n),1),o=!1,b()}}}function Dt(r){let e,n=r[1],t=[];for(let u=0;u<n.length;u+=1)t[u]=qe(Ie(r,n,u));return{c(){for(let u=0;u<t.length;u+=1)t[u].c();e=z()},m(u,s){for(let l=0;l<t.length;l+=1)t[l].m(u,s);k(u,e,s)},p(u,s){if(s&11){n=u[1];let l;for(l=0;l<n.length;l+=1){const f=Ie(u,n,l);t[l]?t[l].p(f,s):(t[l]=qe(f),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(u){Pe(t,u),u&&w(e)}}}function Ft(r){let e,n,t,u;return e=new re({props:{for:r[3],$$slots:{default:[Mt]},$$scope:{ctx:r}}}),t=new J({props:{style:"max-height: 210px; overflow:auto; overflow-x:hidden;",$$slots:{default:[Dt]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,[l]){const f={};l&8&&(f.for=s[3]),l&1028&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&1035&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function Gt(r,e,n){let{source:t}=e,{target:u}=e,{title:s}=e,{description:l=""}=e,{key:f}=e;const a=[[]];function i(){u=Ue(a[0],this.__value,this.checked),n(0,u)}return r.$$set=o=>{"source"in o&&n(1,t=o.source),"target"in o&&n(0,u=o.target),"title"in o&&n(2,s=o.title),"description"in o&&n(4,l=o.description),"key"in o&&n(3,f=o.key)},[u,t,s,f,l,i,a]}class Kt extends L{constructor(e){super(),H(this,e,Gt,Ft,B,{source:1,target:0,title:2,description:4,key:3})}}function Ne(r,e,n){const t=r.slice();return t[13]=e[n],t}function Vt(r){let e;return{c(){e=P(r[2])},m(n,t){k(n,e,t)},p(n,t){t&4&&A(e,n[2])},d(n){n&&w(e)}}}function Me(r){let e,n=r[13].text+"",t,u;return{c(){e=N("option"),t=P(n),e.__value=u=r[13].id,e.value=e.__value},m(s,l){k(s,e,l),M(e,t)},p(s,l){l&2&&n!==(n=s[13].text+"")&&A(t,n),l&2&&u!==(u=s[13].id)&&(e.__value=u,e.value=e.__value)},d(s){s&&w(e)}}}function Pt(r){let e,n,t,u=r[1],s=[];for(let l=0;l<u.length;l+=1)s[l]=Me(Ne(r,u,l));return{c(){e=N("option"),e.textContent="-- Please select --",n=S();for(let l=0;l<s.length;l+=1)s[l].c();t=z(),e.__value=null,e.value=e.__value},m(l,f){k(l,e,f),k(l,n,f);for(let a=0;a<s.length;a+=1)s[a].m(l,f);k(l,t,f)},p(l,f){if(f&2){u=l[1];let a;for(a=0;a<u.length;a+=1){const i=Ne(l,u,a);s[a]?s[a].p(i,f):(s[a]=Me(i),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=u.length}},d(l){l&&w(e),l&&w(n),Pe(s,l),l&&w(t)}}}function Lt(r){let e,n,t,u,s;e=new re({props:{$$slots:{default:[Vt]},$$scope:{ctx:r}}});function l(a){r[8](a)}let f={type:"select",id:r[0],valid:r[3],invalid:r[4],feedback:r[5],$$slots:{default:[Pt]},$$scope:{ctx:r}};return r[6]!==void 0&&(f.value=r[6]),t=new ue({props:f}),D.push(()=>F(t,"value",l)),t.$on("change",r[9]),t.$on("select",r[10]),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(a,i){d(e,a,i),k(a,n,i),d(t,a,i),s=!0},p(a,i){const o={};i&65540&&(o.$$scope={dirty:i,ctx:a}),e.$set(o);const b={};i&1&&(b.id=a[0]),i&8&&(b.valid=a[3]),i&16&&(b.invalid=a[4]),i&32&&(b.feedback=a[5]),i&65538&&(b.$$scope={dirty:i,ctx:a}),!u&&i&64&&(u=!0,b.value=a[6],G(()=>u=!1)),t.$set(b)},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),s=!1},d(a){g(e,a),a&&w(n),g(t,a)}}}function Ht(r){let e,n;return e=new J({props:{$$slots:{default:[Lt]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,[u]){const s={};u&65663&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Bt(r,e,n){let t,{id:u}=e,{source:s}=e,{target:l}=e,{title:f}=e,{valid:a}=e,{invalid:i}=e,{feedback:o}=e;function b($){$!=null&&n(6,t=$.id)}function v($){n(7,l=s.find(I=>I.id===$))}function C($){t=$,n(6,t)}function E($){Te.call(this,r,$)}function c($){Te.call(this,r,$)}return r.$$set=$=>{"id"in $&&n(0,u=$.id),"source"in $&&n(1,s=$.source),"target"in $&&n(7,l=$.target),"title"in $&&n(2,f=$.title),"valid"in $&&n(3,a=$.valid),"invalid"in $&&n(4,i=$.invalid),"feedback"in $&&n(5,o=$.feedback)},r.$$.update=()=>{r.$$.dirty&128&&b(l),r.$$.dirty&64&&v(t)},n(6,t=null),[u,s,f,a,i,o,t,l,C,E,c]}class Ae extends L{constructor(e){super(),H(this,e,Bt,Ht,B,{id:0,source:1,target:7,title:2,valid:3,invalid:4,feedback:5})}}function Ot(r){let e;return{c(){e=P(r[1])},m(n,t){k(n,e,t)},p(n,t){t&2&&A(e,n[1])},d(n){n&&w(e)}}}function At(r){let e,n,t;function u(l){r[9](l)}let s={items:r[0],optionIdentifier:r[2],labelIdentifier:r[3],isMulti:r[4],placeholder:"-- Please select --"};return r[5]!==void 0&&(s.value=r[5]),e=new ct({props:s}),D.push(()=>F(e,"value",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&1&&(a.items=l[0]),f&4&&(a.optionIdentifier=l[2]),f&8&&(a.labelIdentifier=l[3]),f&16&&(a.isMulti=l[4]),!n&&f&32&&(n=!0,a.value=l[5],G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function Ut(r){let e,n,t,u;return e=new re({props:{$$slots:{default:[Ot]},$$scope:{ctx:r}}}),t=new J({props:{$$slots:{default:[At]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,[l]){const f={};l&4098&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&4157&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function jt(r,e,n){let t,{source:u}=e,{target:s}=e,{title:l}=e,{optionIdentifier:f="value"}=e,{labelIdentifier:a="label"}=e,{isMulti:i=!0}=e,{isComplex:o=!1}=e,{isTargetComplex:b=!1}=e,v=!1;function C(c){if(console.log("------"),o&&!b&&v){n(6,s=[]);for(let $ in c){let I=c[$];s.push(I.key)}}if(!o&&!b&&v){n(6,s=[]);for(let $ in c)s.push(c[$].value)}console.log("selection "+l,c),console.log("target "+l,s)}ve(async()=>{if(o&&!b){let c=[];for(let $ in s){let I=s[$];c.push(u.find(y=>y.key===I))}v=!0,c.length>0&&n(5,t=c),console.log(t)}!o&&!b&&(console.log("source",u),console.log("target",s),v=!0,s!=null&&s!==void 0&&s!=""&&n(5,t=s))});function E(c){t=c,n(5,t)}return r.$$set=c=>{"source"in c&&n(0,u=c.source),"target"in c&&n(6,s=c.target),"title"in c&&n(1,l=c.title),"optionIdentifier"in c&&n(2,f=c.optionIdentifier),"labelIdentifier"in c&&n(3,a=c.labelIdentifier),"isMulti"in c&&n(4,i=c.isMulti),"isComplex"in c&&n(7,o=c.isComplex),"isTargetComplex"in c&&n(8,b=c.isTargetComplex)},r.$$.update=()=>{r.$$.dirty&32&&C(t)},n(5,t=null),[u,l,f,a,i,t,s,o,b,E]}class oe extends L{constructor(e){super(),H(this,e,jt,Ut,B,{source:0,target:6,title:1,optionIdentifier:2,labelIdentifier:3,isMulti:4,isComplex:7,isTargetComplex:8})}}const he=gt((r={},e)=>{$t(e),be("name","name is required",()=>{Y(r.name).isNotBlank()}),be("description","description is required",()=>{Y(r.description).isNotBlank()}),be("metadataStructure","metadatastructure is required",()=>{Y(r.metadataStructure).isNotNull(),Y(r.metadataStructure).isNotUndefined()}),be("entityType","entity is required",()=>{Y(r.entityType).isNotNull(),Y(r.entityType).isNotUndefined()})});function zt(r){let e,n;return e=new Be({props:{color:"info",size:"sm",type:"grow","text-center":!0}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Rt(r){let e,n,t,u,s,l,f,a,i,o,b,v,C,E,c,$,I,y,K,R,ce;return n=new Z({props:{$$slots:{default:[Zt]},$$scope:{ctx:r}}}),u=new Z({props:{$$slots:{default:[tn]},$$scope:{ctx:r}}}),l=new Z({props:{$$slots:{default:[un]},$$scope:{ctx:r}}}),o=new Z({props:{$$slots:{default:[on]},$$scope:{ctx:r}}}),E=new Z({props:{$$slots:{default:[_n]},$$scope:{ctx:r}}}),$=new x({props:{type:"submit",color:"primary",disabled:r[9],$$slots:{default:[pn]},$$scope:{ctx:r}}}),y=new x({props:{type:"button",color:"danger",$$slots:{default:[dn]},$$scope:{ctx:r}}}),y.$on("click",r[26]),{c(){e=N("form"),p(n.$$.fragment),t=S(),p(u.$$.fragment),s=S(),p(l.$$.fragment),f=S(),a=N("h3"),a.textContent="Group",i=S(),p(o.$$.fragment),b=S(),v=N("h3"),v.textContent="Additional",C=S(),p(E.$$.fragment),c=S(),p($.$$.fragment),I=S(),p(y.$$.fragment)},m(T,q){k(T,e,q),d(n,e,null),M(e,t),d(u,e,null),M(e,s),d(l,e,null),M(e,f),M(e,a),M(e,i),d(o,e,null),M(e,b),M(e,v),M(e,C),d(E,e,null),M(e,c),d($,e,null),M(e,I),d(y,e,null),K=!0,R||(ce=Le(e,"submit",je(r[11])),R=!0)},p(T,q){const me={};q&268435856&&(me.$$scope={dirty:q,ctx:T}),n.$set(me);const _e={};q&268435840&&(_e.$$scope={dirty:q,ctx:T}),u.$set(_e);const pe={};q&268435854&&(pe.$$scope={dirty:q,ctx:T}),l.$set(pe);const de={};q&268435744&&(de.$$scope={dirty:q,ctx:T}),o.$set(de);const ge={};q&268435777&&(ge.$$scope={dirty:q,ctx:T}),E.$set(ge);const Q={};q&512&&(Q.disabled=T[9]),q&268435456&&(Q.$$scope={dirty:q,ctx:T}),$.$set(Q);const $e={};q&268435456&&($e.$$scope={dirty:q,ctx:T}),y.$set($e)},i(T){K||(m(n.$$.fragment,T),m(u.$$.fragment,T),m(l.$$.fragment,T),m(o.$$.fragment,T),m(E.$$.fragment,T),m($.$$.fragment,T),m(y.$$.fragment,T),K=!0)},o(T){_(n.$$.fragment,T),_(u.$$.fragment,T),_(l.$$.fragment,T),_(o.$$.fragment,T),_(E.$$.fragment,T),_($.$$.fragment,T),_(y.$$.fragment,T),K=!1},d(T){T&&w(e),g(n),g(u),g(l),g(o),g(E),g($),g(y),R=!1,ce()}}}function Jt(r){let e;return{c(){e=P("Name")},m(n,t){k(n,e,t)},d(n){n&&w(e)}}}function Wt(r){let e,n,t,u,s;e=new re({props:{for:"name",$$slots:{default:[Jt]},$$scope:{ctx:r}}});function l(a){r[14](a)}let f={id:"name",valid:r[7].isValid("name"),invalid:r[7].hasErrors("name"),feedback:r[7].getErrors("name"),required:!0};return r[8].name!==void 0&&(f.value=r[8].name),t=new ue({props:f}),D.push(()=>F(t,"value",l)),t.$on("input",r[12]),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(a,i){d(e,a,i),k(a,n,i),d(t,a,i),s=!0},p(a,i){const o={};i&268435456&&(o.$$scope={dirty:i,ctx:a}),e.$set(o);const b={};i&128&&(b.valid=a[7].isValid("name")),i&128&&(b.invalid=a[7].hasErrors("name")),i&128&&(b.feedback=a[7].getErrors("name")),!u&&i&256&&(u=!0,b.value=a[8].name,G(()=>u=!1)),t.$set(b)},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),s=!1},d(a){g(e,a),a&&w(n),g(t,a)}}}function Xt(r){let e,n;return e=new J({props:{$$slots:{default:[Wt]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,u){const s={};u&268435840&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Yt(r){let e,n,t;function u(l){r[15](l)}let s={id:"entityType",title:"Entity",source:r[4],valid:r[7].isValid("entityType"),invalid:r[7].hasErrors("entityType"),feedback:r[7].getErrors("entityType")};return r[8].entityType!==void 0&&(s.target=r[8].entityType),e=new Ae({props:s}),D.push(()=>F(e,"target",u)),e.$on("change",r[12]),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&16&&(a.source=l[4]),f&128&&(a.valid=l[7].isValid("entityType")),f&128&&(a.invalid=l[7].hasErrors("entityType")),f&128&&(a.feedback=l[7].getErrors("entityType")),!n&&f&256&&(n=!0,a.target=l[8].entityType,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function Zt(r){let e,n,t,u;return e=new O({props:{xs:"6",$$slots:{default:[Xt]},$$scope:{ctx:r}}}),t=new O({props:{xs:"6",$$slots:{default:[Yt]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,l){const f={};l&268435840&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&268435856&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function Qt(r){let e;return{c(){e=P("Description")},m(n,t){k(n,e,t)},d(n){n&&w(e)}}}function xt(r){let e,n,t,u,s;e=new re({props:{for:"description",$$slots:{default:[Qt]},$$scope:{ctx:r}}});function l(a){r[16](a)}let f={id:"description",type:"textarea",valid:r[7].isValid("description"),invalid:r[7].hasErrors("description"),feedback:r[7].getErrors("description"),required:!0};return r[8].description!==void 0&&(f.value=r[8].description),t=new ue({props:f}),D.push(()=>F(t,"value",l)),t.$on("input",r[12]),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(a,i){d(e,a,i),k(a,n,i),d(t,a,i),s=!0},p(a,i){const o={};i&268435456&&(o.$$scope={dirty:i,ctx:a}),e.$set(o);const b={};i&128&&(b.valid=a[7].isValid("description")),i&128&&(b.invalid=a[7].hasErrors("description")),i&128&&(b.feedback=a[7].getErrors("description")),!u&&i&256&&(u=!0,b.value=a[8].description,G(()=>u=!1)),t.$set(b)},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),_(t.$$.fragment,a),s=!1},d(a){g(e,a),a&&w(n),g(t,a)}}}function en(r){let e,n;return e=new J({props:{$$slots:{default:[xt]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,u){const s={};u&268435840&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function tn(r){let e,n;return e=new O({props:{xs:"12",$$slots:{default:[en]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,u){const s={};u&268435840&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function nn(r){let e,n,t;function u(l){r[19](l)}let s={id:"metadataInvalidSaveMode",type:"switch",label:"Invalid save mode"};return r[8].metadataInvalidSaveMode!==void 0&&(s.value=r[8].metadataInvalidSaveMode),e=new ue({props:s}),D.push(()=>F(e,"value",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};!n&&f&256&&(n=!0,a.value=l[8].metadataInvalidSaveMode,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function sn(r){let e,n,t,u,s,l,f,a,i,o;function b(c){r[17](c)}let v={id:"metadataStructure",title:"Structure",source:r[1],valid:r[7].isValid("metadataStructure"),invalid:r[7].hasErrors("metadataStructure"),feedback:r[7].getErrors("metadataStructure")};r[8].metadataStructure!==void 0&&(v.target=r[8].metadataStructure),t=new Ae({props:v}),D.push(()=>F(t,"target",b)),t.$on("change",r[12]);function C(c){r[18](c)}let E={title:"Required input fields",source:r[3],optionIdentifier:"key",labelIdentifier:"value",isComplex:!0};return r[8].metadataFields!==void 0&&(E.target=r[8].metadataFields),l=new oe({props:E}),D.push(()=>F(l,"target",C)),i=new J({props:{$$slots:{default:[nn]},$$scope:{ctx:r}}}),{c(){e=N("h3"),e.textContent="Metadata",n=S(),p(t.$$.fragment),s=S(),p(l.$$.fragment),a=S(),p(i.$$.fragment)},m(c,$){k(c,e,$),k(c,n,$),d(t,c,$),k(c,s,$),d(l,c,$),k(c,a,$),d(i,c,$),o=!0},p(c,$){const I={};$&2&&(I.source=c[1]),$&128&&(I.valid=c[7].isValid("metadataStructure")),$&128&&(I.invalid=c[7].hasErrors("metadataStructure")),$&128&&(I.feedback=c[7].getErrors("metadataStructure")),!u&&$&256&&(u=!0,I.target=c[8].metadataStructure,G(()=>u=!1)),t.$set(I);const y={};$&8&&(y.source=c[3]),!f&&$&256&&(f=!0,y.target=c[8].metadataFields,G(()=>f=!1)),l.$set(y);const K={};$&268435712&&(K.$$scope={dirty:$,ctx:c}),i.$set(K)},i(c){o||(m(t.$$.fragment,c),m(l.$$.fragment,c),m(i.$$.fragment,c),o=!0)},o(c){_(t.$$.fragment,c),_(l.$$.fragment,c),_(i.$$.fragment,c),o=!1},d(c){c&&w(e),c&&w(n),g(t,c),c&&w(s),g(l,c),c&&w(a),g(i,c)}}}function ln(r){let e,n,t;function u(l){r[20](l)}let s={id:"hasDatastructure",type:"switch",label:"Use datastructures?"};return r[8].hasDatastructure!==void 0&&(s.checked=r[8].hasDatastructure),e=new ue({props:s}),D.push(()=>F(e,"checked",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};!n&&f&256&&(n=!0,a.checked=l[8].hasDatastructure,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function De(r){let e,n,t;function u(l){r[21](l)}let s={key:"datastructures",title:"Datastructures",source:r[2]};return r[8].datastructureList!==void 0&&(s.target=r[8].datastructureList),e=new Kt({props:s}),D.push(()=>F(e,"target",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&4&&(a.source=l[2]),!n&&f&256&&(n=!0,a.target=l[8].datastructureList,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function rn(r){let e,n,t,u,s,l;t=new J({props:{$$slots:{default:[ln]},$$scope:{ctx:r}}});let f=r[8].hasDatastructure&&De(r);return{c(){e=N("h3"),e.textContent="Datastructure",n=S(),p(t.$$.fragment),u=S(),f&&f.c(),s=z()},m(a,i){k(a,e,i),k(a,n,i),d(t,a,i),k(a,u,i),f&&f.m(a,i),k(a,s,i),l=!0},p(a,i){const o={};i&268435712&&(o.$$scope={dirty:i,ctx:a}),t.$set(o),a[8].hasDatastructure?f?(f.p(a,i),i&256&&m(f,1)):(f=De(a),f.c(),m(f,1),f.m(s.parentNode,s)):f&&(ae(),_(f,1,1,()=>{f=null}),fe())},i(a){l||(m(t.$$.fragment,a),m(f),l=!0)},o(a){_(t.$$.fragment,a),_(f),l=!1},d(a){a&&w(e),a&&w(n),g(t,a),a&&w(u),f&&f.d(a),a&&w(s)}}}function un(r){let e,n,t,u;return e=new O({props:{$$slots:{default:[sn]},$$scope:{ctx:r}}}),t=new O({props:{$$slots:{default:[rn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,l){const f={};l&268435850&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&268435716&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function an(r){let e,n,t;function u(l){r[22](l)}let s={title:"Permission",source:r[5],optionIdentifier:"key",labelIdentifier:"value",isComplex:!0};return r[8].permissionGroups!==void 0&&(s.target=r[8].permissionGroups),e=new oe({props:s}),D.push(()=>F(e,"target",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&32&&(a.source=l[5]),!n&&f&256&&(n=!0,a.target=l[8].permissionGroups,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function fn(r){let e,n,t;function u(l){r[23](l)}let s={title:"Notification",source:r[5],optionIdentifier:"key",labelIdentifier:"value",isComplex:!0};return r[8].notificationGroups!==void 0&&(s.target=r[8].notificationGroups),e=new oe({props:s}),D.push(()=>F(e,"target",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&32&&(a.source=l[5]),!n&&f&256&&(n=!0,a.target=l[8].notificationGroups,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function on(r){let e,n,t,u;return e=new O({props:{$$slots:{default:[an]},$$scope:{ctx:r}}}),t=new O({props:{$$slots:{default:[fn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,l){const f={};l&268435744&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&268435744&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function cn(r){let e,n,t;function u(l){r[24](l)}let s={title:"Disabled hooks",source:r[0]};return r[8].disabledHooks!==void 0&&(s.target=r[8].disabledHooks),e=new oe({props:s}),D.push(()=>F(e,"target",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&1&&(a.source=l[0]),!n&&f&256&&(n=!0,a.target=l[8].disabledHooks,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function mn(r){let e,n,t;function u(l){r[25](l)}let s={title:"Allowed file types",source:r[6]};return r[8].allowedFileTypes!==void 0&&(s.target=r[8].allowedFileTypes),e=new oe({props:s}),D.push(()=>F(e,"target",u)),{c(){p(e.$$.fragment)},m(l,f){d(e,l,f),t=!0},p(l,f){const a={};f&64&&(a.source=l[6]),!n&&f&256&&(n=!0,a.target=l[8].allowedFileTypes,G(()=>n=!1)),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function _n(r){let e,n,t,u;return e=new O({props:{$$slots:{default:[cn]},$$scope:{ctx:r}}}),t=new O({props:{$$slots:{default:[mn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,l){const f={};l&268435713&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&268435776&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function pn(r){let e,n;return e=new ie({props:{icon:bt}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function dn(r){let e,n;return e=new ie({props:{icon:ht}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function gn(r){let e,n,t,u;const s=[Rt,zt],l=[];function f(a,i){return a[8]?0:1}return e=f(r),n=l[e]=s[e](r),{c(){n.c(),t=z()},m(a,i){l[e].m(a,i),k(a,t,i),u=!0},p(a,[i]){let o=e;e=f(a),e===o?l[e].p(a,i):(ae(),_(l[o],1,1,()=>{l[o]=null}),fe(),n=l[e],n?n.p(a,i):(n=l[e]=s[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){u||(m(n),u=!0)},o(a){_(n),u=!1},d(a){l[e].d(a),a&&w(t)}}}function $n(r,e,n){let t,u,{id:s=0}=e,{hooks:l=[]}=e,{metadataStructures:f=[]}=e,{dataStructures:a=[]}=e,{systemKeys:i=[]}=e,{entities:o=[]}=e,{groups:b=[]}=e,{filetypes:v=[]}=e;const C=Se();ve(async()=>{console.log("start entity template",s),He("https://localhost:44345","davidschoene","123456"),E(),he.reset()});async function E(){n(8,t=await et(s)),console.log("load entity",t),s>0&&n(7,$=he(t))}async function c(){console.log("before submit",t);const h=await tt(t);h!=!1&&(console.log("save",h),C("save",h))}let $=he.get();function I(h){setTimeout(async()=>{n(7,$=he(t,h.target.id))},10)}function y(h){r.$$.not_equal(t.name,h)&&(t.name=h,n(8,t))}function K(h){r.$$.not_equal(t.entityType,h)&&(t.entityType=h,n(8,t))}function R(h){r.$$.not_equal(t.description,h)&&(t.description=h,n(8,t))}function ce(h){r.$$.not_equal(t.metadataStructure,h)&&(t.metadataStructure=h,n(8,t))}function T(h){r.$$.not_equal(t.metadataFields,h)&&(t.metadataFields=h,n(8,t))}function q(h){r.$$.not_equal(t.metadataInvalidSaveMode,h)&&(t.metadataInvalidSaveMode=h,n(8,t))}function me(h){r.$$.not_equal(t.hasDatastructure,h)&&(t.hasDatastructure=h,n(8,t))}function _e(h){r.$$.not_equal(t.datastructureList,h)&&(t.datastructureList=h,n(8,t))}function pe(h){r.$$.not_equal(t.permissionGroups,h)&&(t.permissionGroups=h,n(8,t))}function de(h){r.$$.not_equal(t.notificationGroups,h)&&(t.notificationGroups=h,n(8,t))}function ge(h){r.$$.not_equal(t.disabledHooks,h)&&(t.disabledHooks=h,n(8,t))}function Q(h){r.$$.not_equal(t.allowedFileTypes,h)&&(t.allowedFileTypes=h,n(8,t))}const $e=()=>C("cancel");return r.$$set=h=>{"id"in h&&n(13,s=h.id),"hooks"in h&&n(0,l=h.hooks),"metadataStructures"in h&&n(1,f=h.metadataStructures),"dataStructures"in h&&n(2,a=h.dataStructures),"systemKeys"in h&&n(3,i=h.systemKeys),"entities"in h&&n(4,o=h.entities),"groups"in h&&n(5,b=h.groups),"filetypes"in h&&n(6,v=h.filetypes)},r.$$.update=()=>{r.$$.dirty&128&&n(9,u=!$.isValid())},n(8,t=null),[l,f,a,i,o,b,v,$,t,u,C,c,I,s,y,K,R,ce,T,q,me,_e,pe,de,ge,Q,$e]}class bn extends L{constructor(e){super(),H(this,e,$n,gn,B,{id:13,hooks:0,metadataStructures:1,dataStructures:2,systemKeys:3,entities:4,groups:5,filetypes:6})}}function hn(r){let e;return{c(){e=P(r[0])},m(n,t){k(n,e,t)},p(n,t){t&1&&A(e,n[0])},d(n){n&&w(e)}}}function kn(r){let e,n;return e=new It({props:{$$slots:{default:[hn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,u){const s={};u&65&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Fe(r){let e;return{c(){e=P(r[1])},m(n,t){k(n,e,t)},p(n,t){t&2&&A(e,n[1])},d(n){n&&w(e)}}}function wn(r){let e,n=r[1]&&Fe(r);return{c(){n&&n.c(),e=z()},m(t,u){n&&n.m(t,u),k(t,e,u)},p(t,u){t[1]?n?n.p(t,u):(n=Fe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&w(e)}}}function vn(r){let e,n=r[2].text+"",t,u,s,l,f,a=r[3].text+"",i;return{c(){e=N("span"),t=P(n),u=S(),s=N("br"),l=S(),f=N("span"),i=P(a)},m(o,b){k(o,e,b),M(e,t),k(o,u,b),k(o,s,b),k(o,l,b),k(o,f,b),M(f,i)},p(o,b){b&4&&n!==(n=o[2].text+"")&&A(t,n),b&8&&a!==(a=o[3].text+"")&&A(i,a)},d(o){o&&w(e),o&&w(u),o&&w(s),o&&w(l),o&&w(f)}}}function Sn(r){let e,n,t,u;return e=new vt({props:{$$slots:{default:[wn]},$$scope:{ctx:r}}}),t=new Ct({props:{$$slots:{default:[vn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,l){const f={};l&66&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&76&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function Tn(r){let e;return{c(){e=P("no action setup")},m(n,t){k(n,e,t)},d(n){n&&w(e)}}}function Cn(r){let e;const n=r[5].default,t=ee(n,r,r[6],null),u=t||Tn();return{c(){u&&u.c()},m(s,l){u&&u.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&64)&&te(t,n,s,s[6],e?se(n,s[6],l,null):ne(s[6]),null)},i(s){e||(m(u,s),e=!0)},o(s){_(u,s),e=!1},d(s){u&&u.d(s)}}}function En(r){let e,n,t,u,s,l;return e=new _t({props:{$$slots:{default:[kn]},$$scope:{ctx:r}}}),t=new pt({props:{$$slots:{default:[Sn]},$$scope:{ctx:r}}}),s=new dt({props:{$$slots:{default:[Cn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment),u=S(),p(s.$$.fragment)},m(f,a){d(e,f,a),k(f,n,a),d(t,f,a),k(f,u,a),d(s,f,a),l=!0},p(f,a){const i={};a&65&&(i.$$scope={dirty:a,ctx:f}),e.$set(i);const o={};a&78&&(o.$$scope={dirty:a,ctx:f}),t.$set(o);const b={};a&64&&(b.$$scope={dirty:a,ctx:f}),s.$set(b)},i(f){l||(m(e.$$.fragment,f),m(t.$$.fragment,f),m(s.$$.fragment,f),l=!0)},o(f){_(e.$$.fragment,f),_(t.$$.fragment,f),_(s.$$.fragment,f),l=!1},d(f){g(e,f),f&&w(n),g(t,f),f&&w(u),g(s,f)}}}function yn(r){let e,n;return e=new mt({props:{class:"mb-3",$$slots:{default:[En]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,[u]){const s={};u&79&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function In(r,e,n){let{$$slots:t={},$$scope:u}=e,{id:s}=e,{name:l=""}=e,{description:f=""}=e,{entityType:a}=e,{metadataStructure:i}=e;return new Se,r.$$set=o=>{"id"in o&&n(4,s=o.id),"name"in o&&n(0,l=o.name),"description"in o&&n(1,f=o.description),"entityType"in o&&n(2,a=o.entityType),"metadataStructure"in o&&n(3,i=o.metadataStructure),"$$scope"in o&&n(6,u=o.$$scope)},[l,f,a,i,s,t,u]}class qn extends L{constructor(e){super(),H(this,e,In,yn,B,{id:4,name:0,description:1,entityType:2,metadataStructure:3})}}function Ge(r,e,n){const t=r.slice();return t[4]=e[n],t[6]=n,t}function Nn(r){let e,n;return e=new Be({props:{color:"info",size:"sm",type:"grow","text-center":!0}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Mn(r){let e=[],n=new Map,t,u,s=r[0];const l=f=>f[4].id;for(let f=0;f<s.length;f+=1){let a=Ge(r,s,f),i=l(a);n.set(i,e[f]=Ke(i,a))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=z()},m(f,a){for(let i=0;i<e.length;i+=1)e[i].m(f,a);k(f,t,a),u=!0},p(f,a){a&7&&(s=f[0],ae(),e=Re(e,a,l,1,f,s,n,t.parentNode,Je,Ke,t,Ge),fe())},i(f){if(!u){for(let a=0;a<s.length;a+=1)m(e[a]);u=!0}},o(f){for(let a=0;a<e.length;a+=1)_(e[a]);u=!1},d(f){for(let a=0;a<e.length;a+=1)e[a].d(f);f&&w(t)}}}function Dn(r){let e,n;return e=new ie({props:{icon:Xe}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Fn(r){let e,n;return e=new ie({props:{icon:Ye}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Gn(r){let e,n,t,u;return e=new x({props:{$$slots:{default:[Dn]},$$scope:{ctx:r}}}),e.$on("click",function(){Ce(r[1](r[4].id))&&r[1](r[4].id).apply(this,arguments)}),t=new x({props:{$$slots:{default:[Fn]},$$scope:{ctx:r}}}),t.$on("click",function(){Ce(r[2](r[6],r[4].id))&&r[2](r[6],r[4].id).apply(this,arguments)}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,l){r=s;const f={};l&128&&(f.$$scope={dirty:l,ctx:r}),e.$set(f);const a={};l&128&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function Kn(r){let e,n,t;const u=[r[4]];let s={$$slots:{default:[Gn]},$$scope:{ctx:r}};for(let l=0;l<u.length;l+=1)s=V(s,u[l]);return e=new qn({props:s}),{c(){p(e.$$.fragment),n=S()},m(l,f){d(e,l,f),k(l,n,f),t=!0},p(l,f){const a=f&1?le(u,[We(l[4])]):{};f&129&&(a.$$scope={dirty:f,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){g(e,l),l&&w(n)}}}function Ke(r,e){let n,t,u;return t=new O({props:{xs:"6",ms:"4",md:"5",$$slots:{default:[Kn]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=z(),p(t.$$.fragment),this.first=n},m(s,l){k(s,n,l),d(t,s,l),u=!0},p(s,l){e=s;const f={};l&129&&(f.$$scope={dirty:l,ctx:e}),t.$set(f)},i(s){u||(m(t.$$.fragment,s),u=!0)},o(s){_(t.$$.fragment,s),u=!1},d(s){s&&w(n),g(t,s)}}}function Vn(r){let e,n,t,u;const s=[Mn,Nn],l=[];function f(a,i){return a[0]?0:1}return e=f(r),n=l[e]=s[e](r),{c(){n.c(),t=z()},m(a,i){l[e].m(a,i),k(a,t,i),u=!0},p(a,i){let o=e;e=f(a),e===o?l[e].p(a,i):(ae(),_(l[o],1,1,()=>{l[o]=null}),fe(),n=l[e],n?n.p(a,i):(n=l[e]=s[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){u||(m(n),u=!0)},o(a){_(n),u=!1},d(a){l[e].d(a),a&&w(t)}}}function Pn(r){let e,n,t;return n=new Z({props:{$$slots:{default:[Vn]},$$scope:{ctx:r}}}),{c(){e=N("div"),p(n.$$.fragment),ze(e,"padding-top","20px")},m(u,s){k(u,e,s),d(n,e,null),t=!0},p(u,[s]){const l={};s&129&&(l.$$scope={dirty:s,ctx:u}),n.$set(l)},i(u){t||(m(n.$$.fragment,u),t=!0)},o(u){_(n.$$.fragment,u),t=!1},d(u){u&&w(e),g(n)}}}function Ln(r,e,n){const t=Se();let{entitytemplates:u=null}=e;function s(f){console.log("edit",f),t("edit",f)}async function l(f,a){console.log(f,a),await nt(a)===!0&&n(0,u=u.filter((o,b)=>b!==f))}return r.$$set=f=>{"entitytemplates"in f&&n(0,u=f.entitytemplates)},[u,s,l]}class Hn extends L{constructor(e){super(),H(this,e,Ln,Pn,B,{entitytemplates:0})}}function Bn(r){let e,n;return e=new bn({props:{id:r[8],hooks:r[0],metadataStructures:r[1],dataStructures:r[2],systemKeys:r[3],entities:r[4],groups:r[5],filetypes:r[6]}}),e.$on("save",r[10]),e.$on("cancel",r[13]),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,u){const s={};u&256&&(s.id=t[8]),u&1&&(s.hooks=t[0]),u&2&&(s.metadataStructures=t[1]),u&4&&(s.dataStructures=t[2]),u&8&&(s.systemKeys=t[3]),u&16&&(s.entities=t[4]),u&32&&(s.groups=t[5]),u&64&&(s.filetypes=t[6]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function On(r){let e,n;return e=new Oe({props:{$$slots:{default:[Bn]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p(t,u){const s={};u&131583&&(s.$$scope={dirty:u,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Ve(r){let e,n,t,u;return n=new x({props:{color:"primary",class:"mb-3",disabled:r[7],$$slots:{default:[An]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){e=N("div"),p(n.$$.fragment)},m(s,l){k(s,e,l),d(n,e,null),u=!0},p(s,l){const f={};l&128&&(f.disabled=s[7]),l&131072&&(f.$$scope={dirty:l,ctx:s}),n.$set(f)},i(s){u||(m(n.$$.fragment,s),Ze(()=>{t||(t=Ee(e,ye,{},!0)),t.run(1)}),u=!0)},o(s){_(n.$$.fragment,s),t||(t=Ee(e,ye,{},!1)),t.run(0),u=!1},d(s){s&&w(e),g(n),s&&t&&t.end()}}}function An(r){let e,n;return e=new ie({props:{icon:Qe}}),{c(){p(e.$$.fragment)},m(t,u){d(e,t,u),n=!0},p:W,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Un(r){let e,n,t,u,s=!r[7]&&Ve(r);function l(a){r[14](a)}let f={};return r[9]!==void 0&&(f.entitytemplates=r[9]),n=new Hn({props:f}),D.push(()=>F(n,"entitytemplates",l)),n.$on("edit",r[12]),{c(){s&&s.c(),e=S(),p(n.$$.fragment)},m(a,i){s&&s.m(a,i),k(a,e,i),d(n,a,i),u=!0},p(a,i){a[7]?s&&(ae(),_(s,1,1,()=>{s=null}),fe()):s?(s.p(a,i),i&128&&m(s,1)):(s=Ve(a),s.c(),m(s,1),s.m(e.parentNode,e));const o={};!t&&i&512&&(t=!0,o.entitytemplates=a[9],G(()=>t=!1)),n.$set(o)},i(a){u||(m(s),m(n.$$.fragment,a),u=!0)},o(a){_(s),_(n.$$.fragment,a),u=!1},d(a){s&&s.d(a),a&&w(e),g(n,a)}}}function jn(r){let e,n,t,u;return e=new xe({props:{isOpen:r[7],$$slots:{default:[On]},$$scope:{ctx:r}}}),t=new Oe({props:{$$slots:{default:[Un]},$$scope:{ctx:r}}}),{c(){p(e.$$.fragment),n=S(),p(t.$$.fragment)},m(s,l){d(e,s,l),k(s,n,l),d(t,s,l),u=!0},p(s,[l]){const f={};l&128&&(f.isOpen=s[7]),l&131583&&(f.$$scope={dirty:l,ctx:s}),e.$set(f);const a={};l&131712&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){u||(m(e.$$.fragment,s),m(t.$$.fragment,s),u=!0)},o(s){_(e.$$.fragment,s),_(t.$$.fragment,s),u=!1},d(s){g(e,s),s&&w(n),g(t,s)}}}function zn(r,e,n){let t,u,s=[],l=[],f=[],a=[],i=[],o=[],b=[],v=!1;ve(async()=>{console.log("start entity template"),He("https://localhost:44345","davidschoene","123456"),n(0,s=await st()),n(1,l=await lt()),n(2,f=await rt()),n(3,a=await ut()),n(4,i=await at()),n(5,o=await ft()),n(6,b=await it()),n(9,u=await ot()),console.log("hooks",s),console.log("metadataStructures",l),console.log("dataStructures",f),console.log("systemKeys",a),console.log("entities",i),console.log("groups",o),console.log("filetypes",b),console.log("entitytemplates",u)});async function C(y){const K=y.detail;console.log(K),n(9,u=u.filter(R=>R.id!==K.id)),n(9,u=[...u,K]),n(7,v=!1)}async function E(){n(8,t=0),n(7,v=!v)}async function c(y){""+y.detail,n(7,v=!1),setTimeout(async()=>{n(8,t=y.detail),n(7,v=!0)},500)}const $=()=>n(7,v=!1);function I(y){u=y,n(9,u)}return n(8,t=0),n(9,u=[]),[s,l,f,a,i,o,b,v,t,u,C,E,c,$,I]}class Rn extends L{constructor(e){super(),H(this,e,zn,jn,B,{})}}new Rn({target:document.getElementById("entities")});
