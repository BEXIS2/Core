import{S as _e,i as ge,s as he,e as le,b as C,H as pe,h as p,k as g,q,a as I,l as h,m,r as R,c as T,G as u,u as $e,C as Nn,D as An,E as Bn,F as Pn,g as V,d as N,w as x,V as ee,y as H,z as F,n as w,p as Qt,A as G,W as te,B as z,v as Ee,f as ye,Q as Un,o as tt,R as Zl,T as jl,U as xl,P as Le,K as ie,M as hl,X as es,L as qn,J as oe,Y as Fl,a0 as Yt}from"../chunks/index.8b48ad28.js";import{A as nt,s as ts}from"../chunks/store.36de5848.js";import{S as Rn,k as ns,i as ls}from"../chunks/Select.56c86c6c.js";import{T as Bt}from"../chunks/TextInput.65f17824.js";import{S as Cn}from"../chunks/SlideToggle.7f5857fe.js";import{K as Gl,V as zl,v as At,w as Re,T as ss}from"../chunks/vest.production.5c15686f.js";import{S as Ln}from"../chunks/Spinner.61cd4034.js";import{D as Mn}from"../chunks/DropdownKvP.3f860669.js";import{F as Xt,g as is,P as rs,h as as}from"../chunks/Page.74e7a17c.js";import{g as os,f as Jt}from"../chunks/BaseCaller.ca2e38d9.js";function ml(l){let e,n,t,s,a,i,r,o,f;return{c(){e=g("p"),n=g("b"),t=q("String detected"),s=q(`\r
 If not correct, please check if placeholder for missing values provided correctly.`),a=g("br"),i=I(),r=g("b"),o=q("missing value = "),f=q(l[1])},l(d){e=h(d,"P",{});var c=m(e);n=h(c,"B",{});var _=m(n);t=R(_,"String detected"),_.forEach(p),s=R(c,`\r
 If not correct, please check if placeholder for missing values provided correctly.`),a=h(c,"BR",{}),i=T(c),r=h(c,"B",{});var b=m(r);o=R(b,"missing value = "),f=R(b,l[1]),b.forEach(p),c.forEach(p)},m(d,c){C(d,e,c),u(e,n),u(n,t),u(e,s),u(e,a),u(e,i),u(e,r),u(r,o),u(r,f)},p(d,c){c&2&&$e(f,d[1])},d(d){d&&p(e)}}}function fs(l){let e,n=l[0]==="string"&&ml(l);return{c(){n&&n.c(),e=le()},l(t){n&&n.l(t),e=le()},m(t,s){n&&n.m(t,s),C(t,e,s)},p(t,[s]){t[0]==="string"?n?n.p(t,s):(n=ml(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:pe,o:pe,d(t){n&&n.d(t),t&&p(e)}}}function us(l,e,n){let{type:t}=e,{missingvalue:s="not set"}=e;return l.$$set=a=>{"type"in a&&n(0,t=a.type),"missingvalue"in a&&n(1,s=a.missingvalue)},[t,s]}class cs extends _e{constructor(e){super(),ge(this,e,us,fs,he,{type:0,missingvalue:1})}}const ds=l=>({}),vl=l=>({}),ps=l=>({}),bl=l=>({}),_s=l=>({}),$l=l=>({});function gs(l){let e,n,t,s,a,i,r;const o=l[1].property,f=Nn(o,l,l[0],$l),d=l[1].displaypattern,c=Nn(d,l,l[0],bl),_=l[1].description,b=Nn(_,l,l[0],vl);return{c(){e=g("div"),n=g("div"),f&&f.c(),t=I(),s=g("div"),c&&c.c(),a=I(),i=g("div"),b&&b.c()},l($){e=h($,"DIV",{});var y=m(e);n=h(y,"DIV",{});var D=m(n);f&&f.l(D),D.forEach(p),t=T(y),s=h(y,"DIV",{});var O=m(s);c&&c.l(O),O.forEach(p),a=T(y),i=h(y,"DIV",{});var K=m(i);b&&b.l(K),K.forEach(p),y.forEach(p)},m($,y){C($,e,y),u(e,n),f&&f.m(n,null),u(e,t),u(e,s),c&&c.m(s,null),u(e,a),u(e,i),b&&b.m(i,null),r=!0},p($,[y]){f&&f.p&&(!r||y&1)&&An(f,o,$,$[0],r?Pn(o,$[0],y,_s):Bn($[0]),$l),c&&c.p&&(!r||y&1)&&An(c,d,$,$[0],r?Pn(d,$[0],y,ps):Bn($[0]),bl),b&&b.p&&(!r||y&1)&&An(b,_,$,$[0],r?Pn(_,$[0],y,ds):Bn($[0]),vl)},i($){r||(V(f,$),V(c,$),V(b,$),r=!0)},o($){N(f,$),N(c,$),N(b,$),r=!1},d($){$&&p(e),f&&f.d($),c&&c.d($),b&&b.d($)}}}function hs(l,e,n){let{$$slots:t={},$$scope:s}=e;return l.$$set=a=>{"$$scope"in a&&n(0,s=a.$$scope)},[s,t]}class zt extends _e{constructor(e){super(),ge(this,e,hs,gs,he,{})}}function kl(l){let e,n,t,s;return{c(){e=g("aside"),n=g("div"),t=g("p"),s=q("If variables are defined as part of the primary key and are optional, there may be complications when uploading."),this.h()},l(a){e=h(a,"ASIDE",{class:!0});var i=m(e);n=h(i,"DIV",{class:!0});var r=m(n);t=h(r,"P",{});var o=m(t);s=R(o,"If variables are defined as part of the primary key and are optional, there may be complications when uploading."),o.forEach(p),r.forEach(p),i.forEach(p),this.h()},h(){w(n,"class","alert-message"),w(e,"class","alert variant-filled-warning")},m(a,i){C(a,e,i),u(e,n),u(n,t),u(t,s)},d(a){a&&p(e)}}}function ms(l){let e;return{c(){e=q("Mark as part of primary keys")},l(n){e=R(n,"Mark as part of primary keys")},m(n,t){C(n,e,t)},d(n){n&&p(e)}}}function vs(l){let e;return{c(){e=q("Value can be optional")},l(n){e=R(n,"Value can be optional")},m(n,t){C(n,e,t)},d(n){n&&p(e)}}}function bs(l){let e,n,t,s,a,i,r,o,f,d,c,_,b,$,y,D,O,K=l[0]&&l[1]&&kl();function Y(P){l[4](P)}let U={name:"isKey",$$slots:{default:[ms]},$$scope:{ctx:l}};l[0]!==void 0&&(U.checked=l[0]),_=new Cn({props:U}),x.push(()=>ee(_,"checked",Y));function J(P){l[5](P)}let Z={name:"isOptional",$$slots:{default:[vs]},$$scope:{ctx:l}};return l[1]!==void 0&&(Z.checked=l[1]),y=new Cn({props:Z}),x.push(()=>ee(y,"checked",J)),{c(){e=g("div"),n=g("div"),t=g("h1"),s=q(l[3]),a=q(" ("),i=q(l[2]),r=q(")"),o=I(),f=g("div"),K&&K.c(),d=I(),c=g("div"),H(_.$$.fragment),$=I(),H(y.$$.fragment),this.h()},l(P){e=h(P,"DIV",{class:!0});var v=m(e);n=h(v,"DIV",{class:!0});var S=m(n);t=h(S,"H1",{});var L=m(t);s=R(L,l[3]),a=R(L," ("),i=R(L,l[2]),r=R(L,")"),L.forEach(p),S.forEach(p),o=T(v),f=h(v,"DIV",{});var X=m(f);K&&K.l(X),d=T(X),c=h(X,"DIV",{style:!0});var k=m(c);F(_.$$.fragment,k),$=T(k),F(y.$$.fragment,k),k.forEach(p),X.forEach(p),v.forEach(p),this.h()},h(){w(n,"class","col-span-4"),Qt(c,"float","right"),w(e,"class","grid grid-cols-6")},m(P,v){C(P,e,v),u(e,n),u(n,t),u(t,s),u(t,a),u(t,i),u(t,r),u(e,o),u(e,f),K&&K.m(f,null),u(f,d),u(f,c),G(_,c,null),u(c,$),G(y,c,null),O=!0},p(P,[v]){(!O||v&8)&&$e(s,P[3]),(!O||v&4)&&$e(i,P[2]),P[0]&&P[1]?K||(K=kl(),K.c(),K.m(f,d)):K&&(K.d(1),K=null);const S={};v&64&&(S.$$scope={dirty:v,ctx:P}),!b&&v&1&&(b=!0,S.checked=P[0],te(()=>b=!1)),_.$set(S);const L={};v&64&&(L.$$scope={dirty:v,ctx:P}),!D&&v&2&&(D=!0,L.checked=P[1],te(()=>D=!1)),y.$set(L)},i(P){O||(V(_.$$.fragment,P),V(y.$$.fragment,P),O=!0)},o(P){N(_.$$.fragment,P),N(y.$$.fragment,P),O=!1},d(P){P&&p(e),K&&K.d(),z(_),z(y)}}}function $s(l,e,n){let{index:t}=e,{name:s}=e,{isKey:a}=e,{isOptional:i}=e;function r(f){a=f,n(0,a)}function o(f){i=f,n(1,i)}return l.$$set=f=>{"index"in f&&n(2,t=f.index),"name"in f&&n(3,s=f.name),"isKey"in f&&n(0,a=f.isKey),"isOptional"in f&&n(1,i=f.isOptional)},[a,i,t,s,r,o]}class ks extends _e{constructor(e){super(),ge(this,e,$s,bs,he,{index:2,name:3,isKey:0,isOptional:1})}}function Es(l){let e,n;return{c(){e=g("p"),n=q("no content so fare")},l(t){e=h(t,"P",{});var s=m(e);n=R(s,"no content so fare"),s.forEach(p)},m(t,s){C(t,e,s),u(e,n)},p:pe,i:pe,o:pe,d(t){t&&p(e)}}}class ys extends _e{constructor(e){super(),ge(this,e,null,Es,he,{})}}const Nt=Gl((l={},e)=>{zl(e),At("description","description is required",()=>{Re(l.description).isNotBlank()}),At("dataType","datatype is required",()=>{Re(l.dataType).isNotNull(),Re(l.dataType).isNotUndefined()}),At("unit","unit is required",()=>{Re(l.unit).isNotNull(),Re(l.unit).isNotUndefined()})});function El(l,e,n){const t=l.slice();return t[25]=e[n],t}function yl(l,e,n){const t=l.slice();return t[25]=e[n],t}function wl(l,e,n){const t=l.slice();return t[25]=e[n],t}function Vl(l){let e,n,t,s,a,i,r,o,f,d,c,_,b,$,y,D,O,K;function Y(v){l[10](v)}function U(v){l[11](v)}let J={name:l[0].name,index:l[3]};l[0].isKey!==void 0&&(J.isKey=l[0].isKey),l[0].isOptional!==void 0&&(J.isOptional=l[0].isOptional),t=new ks({props:J}),x.push(()=>ee(t,"isKey",Y)),x.push(()=>ee(t,"isOptional",U)),o=new zt({props:{pSize:"8",$$slots:{property:[ws]},$$scope:{ctx:l}}}),d=new zt({props:{$$slots:{description:[Is],displaypattern:[Ds],property:[Vs]},$$scope:{ctx:l}}}),_=new zt({props:{$$slots:{description:[Ss],property:[Ts]},$$scope:{ctx:l}}}),$=new zt({props:{$$slots:{description:[As],property:[Ns]},$$scope:{ctx:l}}});const Z=[l[0]];let P={};for(let v=0;v<Z.length;v+=1)P=Zl(P,Z[v]);return O=new ys({props:P}),{c(){e=g("div"),n=g("header"),H(t.$$.fragment),i=I(),r=g("section"),H(o.$$.fragment),f=I(),H(d.$$.fragment),c=I(),H(_.$$.fragment),b=I(),H($.$$.fragment),y=I(),D=g("footer"),H(O.$$.fragment),this.h()},l(v){e=h(v,"DIV",{class:!0});var S=m(e);n=h(S,"HEADER",{class:!0});var L=m(n);F(t.$$.fragment,L),L.forEach(p),i=T(S),r=h(S,"SECTION",{class:!0});var X=m(r);F(o.$$.fragment,X),f=T(X),F(d.$$.fragment,X),c=T(X),F(_.$$.fragment,X),b=T(X),F($.$$.fragment,X),X.forEach(p),y=T(S),D=h(S,"FOOTER",{class:!0});var k=m(D);F(O.$$.fragment,k),k.forEach(p),S.forEach(p),this.h()},h(){w(n,"class","card-header"),w(r,"class","p-4"),w(D,"class","card-footer"),w(e,"class","card")},m(v,S){C(v,e,S),u(e,n),G(t,n,null),u(e,i),u(e,r),G(o,r,null),u(r,f),G(d,r,null),u(r,c),G(_,r,null),u(r,b),G($,r,null),u(e,y),u(e,D),G(O,D,null),K=!0},p(v,S){const L={};S[0]&1&&(L.name=v[0].name),S[0]&8&&(L.index=v[3]),!s&&S[0]&1&&(s=!0,L.isKey=v[0].isKey,te(()=>s=!1)),!a&&S[0]&1&&(a=!0,L.isOptional=v[0].isOptional,te(()=>a=!1)),t.$set(L);const X={};S[0]&17|S[1]&2&&(X.$$scope={dirty:S,ctx:v}),o.$set(X);const k={};S[0]&19|S[1]&2&&(k.$$scope={dirty:S,ctx:v}),d.$set(k);const W={};S[0]&21|S[1]&2&&(W.$$scope={dirty:S,ctx:v}),_.$set(W);const fe={};S[0]&1|S[1]&2&&(fe.$$scope={dirty:S,ctx:v}),$.$set(fe);const Be=S[0]&1?jl(Z,[xl(v[0])]):{};O.$set(Be)},i(v){K||(V(t.$$.fragment,v),V(o.$$.fragment,v),V(d.$$.fragment,v),V(_.$$.fragment,v),V($.$$.fragment,v),V(O.$$.fragment,v),K=!0)},o(v){N(t.$$.fragment,v),N(o.$$.fragment,v),N(d.$$.fragment,v),N(_.$$.fragment,v),N($.$$.fragment,v),N(O.$$.fragment,v),K=!1},d(v){v&&p(e),z(t),z(o),z(d),z(_),z($),z(O)}}}function ws(l){let e,n,t,s;function a(r){l[12](r)}let i={id:"description",valid:l[4].isValid("description"),invalid:l[4].hasErrors("description"),feedback:l[4].getErrors("description")};return l[0].description!==void 0&&(i.value=l[0].description),n=new Bt({props:i}),x.push(()=>ee(n,"value",a)),n.$on("input",l[7]),{c(){e=g("div"),H(n.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var o=m(e);F(n.$$.fragment,o),o.forEach(p),this.h()},h(){w(e,"slot","property")},m(r,o){C(r,e,o),G(n,e,null),s=!0},p(r,o){const f={};o[0]&16&&(f.valid=r[4].isValid("description")),o[0]&16&&(f.invalid=r[4].hasErrors("description")),o[0]&16&&(f.feedback=r[4].getErrors("description")),!t&&o[0]&1&&(t=!0,f.value=r[0].description,te(()=>t=!1)),n.$set(f)},i(r){s||(V(n.$$.fragment,r),s=!0)},o(r){N(n.$$.fragment,r),s=!1},d(r){r&&p(e),z(n)}}}function Dl(l){let e,n=l[4].getErrors("dataType"),t=[];for(let s=0;s<n.length;s+=1)t[s]=Il(yl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=le()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=le()},m(s,a){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(s,a);C(s,e,a)},p(s,a){if(a[0]&16){n=s[4].getErrors("dataType");let i;for(i=0;i<n.length;i+=1){const r=yl(s,n,i);t[i]?t[i].p(r,a):(t[i]=Il(r),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(s){Le(t,s),s&&p(e)}}}function Il(l){let e,n=l[25]+"",t,s;return{c(){e=g("div"),t=q(n),s=I(),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var i=m(e);t=R(i,n),s=T(i),i.forEach(p),this.h()},h(){w(e,"class","invalid-feedback"),Qt(e,"display","block")},m(a,i){C(a,e,i),u(e,t),u(e,s)},p(a,i){i[0]&16&&n!==(n=a[25]+"")&&$e(t,n)},d(a){a&&p(e)}}}function Vs(l){let e,n,t,s,a=l[4].hasErrors("dataType"),i;function r(d){l[16](d)}let o={id:"dataType",items:l[1],optionIdentifier:"id",labelIdentifier:"text",isMulti:!1,isClearable:!1,groupBy:l[6],placeholder:"-- Please select --",hasError:l[4].hasErrors("dataType")};l[0].dataType!==void 0&&(o.value=l[0].dataType),n=new Rn({props:o}),x.push(()=>ee(n,"value",r)),n.$on("select",l[17]),n.$on("clear",l[18]);let f=a&&Dl(l);return{c(){e=g("div"),H(n.$$.fragment),s=I(),f&&f.c(),this.h()},l(d){e=h(d,"DIV",{slot:!0});var c=m(e);F(n.$$.fragment,c),s=T(c),f&&f.l(c),c.forEach(p),this.h()},h(){w(e,"slot","property")},m(d,c){C(d,e,c),G(n,e,null),u(e,s),f&&f.m(e,null),i=!0},p(d,c){const _={};c[0]&2&&(_.items=d[1]),c[0]&16&&(_.hasError=d[4].hasErrors("dataType")),!t&&c[0]&1&&(t=!0,_.value=d[0].dataType,te(()=>t=!1)),n.$set(_),c[0]&16&&(a=d[4].hasErrors("dataType")),a?f?f.p(d,c):(f=Dl(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){i||(V(n.$$.fragment,d),i=!0)},o(d){N(n.$$.fragment,d),i=!1},d(d){d&&p(e),z(n),f&&f.d()}}}function Tl(l){let e,n=l[4].getErrors("displayPattern"),t=[];for(let s=0;s<n.length;s+=1)t[s]=Sl(wl(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=le()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=le()},m(s,a){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(s,a);C(s,e,a)},p(s,a){if(a[0]&16){n=s[4].getErrors("displayPattern");let i;for(i=0;i<n.length;i+=1){const r=wl(s,n,i);t[i]?t[i].p(r,a):(t[i]=Sl(r),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(s){Le(t,s),s&&p(e)}}}function Sl(l){let e,n=l[25]+"",t,s;return{c(){e=g("div"),t=q(n),s=I(),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var i=m(e);t=R(i,n),s=T(i),i.forEach(p),this.h()},h(){w(e,"class","invalid-feedback"),Qt(e,"display","block")},m(a,i){C(a,e,i),u(e,t),u(e,s)},p(a,i){i[0]&16&&n!==(n=a[25]+"")&&$e(t,n)},d(a){a&&p(e)}}}function Ds(l){let e,n,t,s,a=l[4].hasErrors("displayPattern"),i;function r(d){l[13](d)}let o={id:"displaypattern",items:l[0].possibleDisplayPattern,optionIdentifier:"id",labelIdentifier:"text",isMulti:!1,isClearable:!1,placeholder:"-- Please select --",hasError:l[4].hasErrors("displayPattern")};l[0].displayPattern!==void 0&&(o.value=l[0].displayPattern),n=new Rn({props:o}),x.push(()=>ee(n,"value",r)),n.$on("select",l[14]),n.$on("clear",l[15]);let f=a&&Tl(l);return{c(){e=g("div"),H(n.$$.fragment),s=I(),f&&f.c(),this.h()},l(d){e=h(d,"DIV",{slot:!0});var c=m(e);F(n.$$.fragment,c),s=T(c),f&&f.l(c),c.forEach(p),this.h()},h(){w(e,"slot","displaypattern")},m(d,c){C(d,e,c),G(n,e,null),u(e,s),f&&f.m(e,null),i=!0},p(d,c){const _={};c[0]&1&&(_.items=d[0].possibleDisplayPattern),c[0]&16&&(_.hasError=d[4].hasErrors("displayPattern")),!t&&c[0]&1&&(t=!0,_.value=d[0].displayPattern,te(()=>t=!1)),n.$set(_),c[0]&16&&(a=d[4].hasErrors("displayPattern")),a?f?f.p(d,c):(f=Tl(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){i||(V(n.$$.fragment,d),i=!0)},o(d){N(n.$$.fragment,d),i=!1},d(d){d&&p(e),z(n),f&&f.d()}}}function Is(l){let e,n,t;return n=new cs({props:{type:l[0].dataType.text}}),{c(){e=g("div"),H(n.$$.fragment),this.h()},l(s){e=h(s,"DIV",{slot:!0});var a=m(e);F(n.$$.fragment,a),a.forEach(p),this.h()},h(){w(e,"slot","description")},m(s,a){C(s,e,a),G(n,e,null),t=!0},p(s,a){const i={};a[0]&1&&(i.type=s[0].dataType.text),n.$set(i)},i(s){t||(V(n.$$.fragment,s),t=!0)},o(s){N(n.$$.fragment,s),t=!1},d(s){s&&p(e),z(n)}}}function Nl(l){let e,n=l[4].getErrors("unit"),t=[];for(let s=0;s<n.length;s+=1)t[s]=Al(El(l,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=le()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=le()},m(s,a){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(s,a);C(s,e,a)},p(s,a){if(a[0]&16){n=s[4].getErrors("unit");let i;for(i=0;i<n.length;i+=1){const r=El(s,n,i);t[i]?t[i].p(r,a):(t[i]=Al(r),t[i].c(),t[i].m(e.parentNode,e))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},d(s){Le(t,s),s&&p(e)}}}function Al(l){let e,n=l[25]+"",t,s;return{c(){e=g("div"),t=q(n),s=I(),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var i=m(e);t=R(i,n),s=T(i),i.forEach(p),this.h()},h(){w(e,"class","invalid-feedback"),Qt(e,"display","block")},m(a,i){C(a,e,i),u(e,t),u(e,s)},p(a,i){i[0]&16&&n!==(n=a[25]+"")&&$e(t,n)},d(a){a&&p(e)}}}function Ts(l){let e,n,t,s,a=l[4].hasErrors("unit"),i;function r(d){l[19](d)}let o={id:"unit",items:l[2],optionIdentifier:"id",labelIdentifier:"text",isMulti:!1,isClearable:!0,groupBy:l[6],placeholder:"-- Please select --",hasError:l[4].hasErrors("unit")};l[0].unit!==void 0&&(o.value=l[0].unit),n=new Rn({props:o}),x.push(()=>ee(n,"value",r)),n.$on("select",l[20]),n.$on("clear",l[21]);let f=a&&Nl(l);return{c(){e=g("div"),H(n.$$.fragment),s=I(),f&&f.c(),this.h()},l(d){e=h(d,"DIV",{slot:!0});var c=m(e);F(n.$$.fragment,c),s=T(c),f&&f.l(c),c.forEach(p),this.h()},h(){w(e,"slot","property")},m(d,c){C(d,e,c),G(n,e,null),u(e,s),f&&f.m(e,null),i=!0},p(d,c){const _={};c[0]&4&&(_.items=d[2]),c[0]&16&&(_.hasError=d[4].hasErrors("unit")),!t&&c[0]&1&&(t=!0,_.value=d[0].unit,te(()=>t=!1)),n.$set(_),c[0]&16&&(a=d[4].hasErrors("unit")),a?f?f.p(d,c):(f=Nl(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){i||(V(n.$$.fragment,d),i=!0)},o(d){N(n.$$.fragment,d),i=!1},d(d){d&&p(e),z(n),f&&f.d()}}}function Ss(l){let e,n;return{c(){e=g("div"),n=q(`show all information about the units in a table \r
            Nothing found? Make a new suggestion.`),this.h()},l(t){e=h(t,"DIV",{slot:!0});var s=m(e);n=R(s,`show all information about the units in a table \r
            Nothing found? Make a new suggestion.`),s.forEach(p),this.h()},h(){w(e,"slot","description")},m(t,s){C(t,e,s),u(e,n)},p:pe,d(t){t&&p(e)}}}function Ns(l){let e,n,t,s;function a(r){l[22](r)}let i={id:"template"};return l[0].template.text!==void 0&&(i.value=l[0].template.text),n=new Bt({props:i}),x.push(()=>ee(n,"value",a)),{c(){e=g("div"),H(n.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var o=m(e);F(n.$$.fragment,o),o.forEach(p),this.h()},h(){w(e,"slot","property")},m(r,o){C(r,e,o),G(n,e,null),s=!0},p(r,o){const f={};!t&&o[0]&1&&(t=!0,f.value=r[0].template.text,te(()=>t=!1)),n.$set(f)},i(r){s||(V(n.$$.fragment,r),s=!0)},o(r){N(n.$$.fragment,r),s=!1},d(r){r&&p(e),z(n)}}}function As(l){let e,n;return{c(){e=g("div"),n=q("..."),this.h()},l(t){e=h(t,"DIV",{slot:!0});var s=m(e);n=R(s,"..."),s.forEach(p),this.h()},h(){w(e,"slot","description")},m(t,s){C(t,e,s),u(e,n)},p:pe,d(t){t&&p(e)}}}function Bs(l){let e,n,t=l[5]&&Vl(l);return{c(){t&&t.c(),e=le()},l(s){t&&t.l(s),e=le()},m(s,a){t&&t.m(s,a),C(s,e,a),n=!0},p(s,a){s[5]?t?(t.p(s,a),a[0]&32&&V(t,1)):(t=Vl(s),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(Ee(),N(t,1,1,()=>{t=null}),ye())},i(s){n||(V(t),n=!0)},o(s){N(t),n=!1},d(s){t&&t.d(s),s&&p(e)}}}function Ps(l,e,n){let{variable:t}=e,{index:s}=e,{datatypes:a}=e,{units:i}=e,{isValid:r=!1}=e,o=Nt.get(),f=!1;const d=new Un,c=k=>k.group;tt(()=>{n(1,a=[...a.filter(k=>k.id!=t.dataType.id)]),n(1,a=[t.dataType,...a]),n(2,i=[...i.filter(k=>!t.possibleUnits.some(W=>W.id==k.id))]),n(2,i=[...t.possibleUnits,...i]),n(5,f=!0),Nt.reset(),setTimeout(async()=>{n(4,o=Nt(t)),$(o)},10),console.log(t)});function _(k){setTimeout(async()=>{n(4,o=Nt(t,k.target.id)),$(o)},10)}function b(k,W){n(4,o=Nt(t,W)),$(o)}function $(k){n(9,r=k.isValid()),d("var-change")}function y(k){l.$$.not_equal(t.isKey,k)&&(t.isKey=k,n(0,t))}function D(k){l.$$.not_equal(t.isOptional,k)&&(t.isOptional=k,n(0,t))}function O(k){l.$$.not_equal(t.description,k)&&(t.description=k,n(0,t))}function K(k){l.$$.not_equal(t.displayPattern,k)&&(t.displayPattern=k,n(0,t))}const Y=k=>b(k,"displayPattern"),U=k=>b(k,"displayPattern");function J(k){l.$$.not_equal(t.dataType,k)&&(t.dataType=k,n(0,t))}const Z=k=>b(k,"dataType"),P=k=>b(k,"dataType");function v(k){l.$$.not_equal(t.unit,k)&&(t.unit=k,n(0,t))}const S=k=>b(k,"unit"),L=k=>b(k,"unit");function X(k){l.$$.not_equal(t.template.text,k)&&(t.template.text=k,n(0,t))}return l.$$set=k=>{"variable"in k&&n(0,t=k.variable),"index"in k&&n(3,s=k.index),"datatypes"in k&&n(1,a=k.datatypes),"units"in k&&n(2,i=k.units),"isValid"in k&&n(9,r=k.isValid)},[t,a,i,s,o,f,c,_,b,r,y,D,O,K,Y,U,J,Z,P,v,S,L,X]}class Ms extends _e{constructor(e){super(),ge(this,e,Ps,Bs,he,{variable:0,index:3,datatypes:1,units:2,isValid:9},null,[-1,-1])}}const Os=async(l,e,n)=>{try{return(await nt.get("/dcm/StructureSuggestion/load?id="+l+"&&file="+e+"&&version="+n)).data}catch(t){console.error(t)}},Cs=async l=>{try{return(await nt.post("/dcm/StructureSuggestion/generate",l)).data}catch(e){console.error(e)}},Us=async l=>{try{return(await nt.post("/dcm/StructureSuggestion/store",l)).data}catch(e){console.error(e)}},qs=async l=>{try{return(await nt.post("/dcm/StructureSuggestion/save",l)).data}catch(e){console.error(e)}},Rs=async()=>{try{return(await nt.get("/dcm/StructureSuggestion/getDataTypes")).data}catch(l){console.error(l)}},Ls=async()=>{try{return(await nt.get("/dcm/StructureSuggestion/getUnits")).data}catch(l){console.error(l)}};function Bl(l,e,n){const t=l.slice();return t[8]=e[n],t[9]=e,t[10]=n,t}function Ks(l){let e,n;return e=new Ln({props:{color:"primary",size:"sm",type:"grow"}}),{c(){H(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){G(e,t,s),n=!0},p:pe,i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Hs(l){let e,n,t=l[0],s=[];for(let i=0;i<t.length;i+=1)s[i]=Pl(Bl(l,t,i));const a=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=le()},l(i){for(let r=0;r<s.length;r+=1)s[r].l(i);e=le()},m(i,r){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,r);C(i,e,r),n=!0},p(i,r){if(r&31){t=i[0];let o;for(o=0;o<t.length;o+=1){const f=Bl(i,t,o);s[o]?(s[o].p(f,r),V(s[o],1)):(s[o]=Pl(f),s[o].c(),V(s[o],1),s[o].m(e.parentNode,e))}for(Ee(),o=t.length;o<s.length;o+=1)a(o);ye()}},i(i){if(!n){for(let r=0;r<t.length;r+=1)V(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)N(s[r]);n=!1},d(i){Le(s,i),i&&p(e)}}}function Pl(l){let e,n,t,s,a;function i(o){l[6](o,l[10])}let r={variable:l[8],index:l[10],datatypes:l[3],units:l[2]};return l[1][l[10]]!==void 0&&(r.isValid=l[1][l[10]]),e=new Ms({props:r}),x.push(()=>ee(e,"isValid",i)),e.$on("var-change",l[4]),{c(){H(e.$$.fragment),t=I(),s=g("br")},l(o){F(e.$$.fragment,o),t=T(o),s=h(o,"BR",{})},m(o,f){G(e,o,f),C(o,t,f),C(o,s,f),a=!0},p(o,f){l=o;const d={};f&1&&(d.variable=l[8]),f&8&&(d.datatypes=l[3]),f&4&&(d.units=l[2]),!n&&f&2&&(n=!0,d.isValid=l[1][l[10]],te(()=>n=!1)),e.$set(d)},i(o){a||(V(e.$$.fragment,o),a=!0)},o(o){N(e.$$.fragment,o),a=!1},d(o){z(e,o),o&&p(t),o&&p(s)}}}function Fs(l){let e,n,t,s;const a=[Hs,Ks],i=[];function r(o,f){return o[0]&&o[3]&&o[2]&&o[1]?0:1}return n=r(l),t=i[n]=a[n](l),{c(){e=g("div"),t.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var f=m(e);t.l(f),f.forEach(p),this.h()},h(){w(e,"class","suggestion-container svelte-t5zi2e")},m(o,f){C(o,e,f),i[n].m(e,null),s=!0},p(o,[f]){let d=n;n=r(o),n===d?i[n].p(o,f):(Ee(),N(i[d],1,1,()=>{i[d]=null}),ye(),t=i[n],t?t.p(o,f):(t=i[n]=a[n](o),t.c()),V(t,1),t.m(e,null))},i(o){s||(V(t),s=!0)},o(o){N(t),s=!1},d(o){o&&p(e),i[n].d()}}}function Gs(l,e,n){let t,s,{variables:a=[]}=e,i=[],{valid:r=!0}=e;tt(async()=>{n(3,t=await Rs()),n(2,s=await Ls()),console.log("datatypes",t),console.log("units",s),o(a)});function o(c){for(let _=0;_<c.length;_++)i.push(!1)}function f(){n(5,r=i.every(c=>c===!0))}function d(c,_){l.$$.not_equal(i[_],c)&&(i[_]=c,n(1,i))}return l.$$set=c=>{"variables"in c&&n(0,a=c.variables),"valid"in c&&n(5,r=c.valid)},n(3,t=null),n(2,s=null),[a,i,s,t,f,r,d]}class zs extends _e{constructor(e){super(),ge(this,e,Gs,Fs,he,{variables:0,valid:5})}}function Ml(l){let e,n,t,s,a;return n=new Xt({props:{icon:is}}),{c(){e=g("button"),H(n.$$.fragment),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0});var r=m(e);F(n.$$.fragment,r),r.forEach(p),this.h()},h(){w(e,"class","add"),w(e,"type","button")},m(i,r){C(i,e,r),G(n,e,null),t=!0,s||(a=ie(e,"click",l[4]),s=!0)},p:pe,i(i){t||(V(n.$$.fragment,i),t=!0)},o(i){N(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n),s=!1,a()}}}function Ys(l){let e,n,t,s,a,i,r,o,f,d,c,_,b,$;function y(U){l[5](U)}let D={id:"name"};l[0]!==void 0&&(D.value=l[0]),n=new Bt({props:D}),x.push(()=>ee(n,"value",y)),n.$on("change",l[6]);function O(U){l[7](U)}let K={id:"description"};l[1]!==void 0&&(K.value=l[1]),a=new Bt({props:K}),x.push(()=>ee(a,"value",O)),a.$on("change",l[8]),d=new Xt({props:{icon:ns}});let Y=l[2]&&Ml(l);return{c(){e=g("div"),H(n.$$.fragment),s=I(),H(a.$$.fragment),r=I(),o=g("div"),f=g("button"),H(d.$$.fragment),c=I(),Y&&Y.c(),this.h()},l(U){e=h(U,"DIV",{class:!0});var J=m(e);F(n.$$.fragment,J),s=T(J),F(a.$$.fragment,J),r=T(J),o=h(J,"DIV",{class:!0});var Z=m(o);f=h(Z,"BUTTON",{type:!0});var P=m(f);F(d.$$.fragment,P),P.forEach(p),c=T(Z),Y&&Y.l(Z),Z.forEach(p),J.forEach(p),this.h()},h(){w(f,"type","button"),w(o,"class","self-center text-xl mt-5"),w(e,"class","flex space-x-3 content-center")},m(U,J){C(U,e,J),G(n,e,null),u(e,s),G(a,e,null),u(e,r),u(e,o),u(o,f),G(d,f,null),u(o,c),Y&&Y.m(o,null),_=!0,b||($=ie(f,"click",l[3]),b=!0)},p(U,[J]){const Z={};!t&&J&1&&(t=!0,Z.value=U[0],te(()=>t=!1)),n.$set(Z);const P={};!i&&J&2&&(i=!0,P.value=U[1],te(()=>i=!1)),a.$set(P),U[2]?Y?(Y.p(U,J),J&4&&V(Y,1)):(Y=Ml(U),Y.c(),V(Y,1),Y.m(o,null)):Y&&(Ee(),N(Y,1,1,()=>{Y=null}),ye())},i(U){_||(V(n.$$.fragment,U),V(a.$$.fragment,U),V(d.$$.fragment,U),V(Y),_=!0)},o(U){N(n.$$.fragment,U),N(a.$$.fragment,U),N(d.$$.fragment,U),N(Y),_=!1},d(U){U&&p(e),z(n),z(a),z(d),Y&&Y.d(),b=!1,$()}}}function Xs(l,e,n){let{displayName:t=""}=e,{description:s=""}=e,{last:a=!0}=e;const i=new Un;function r(){i("remove")}function o(){i("add")}function f(b){t=b,n(0,t)}function d(b){hl.call(this,l,b)}function c(b){s=b,n(1,s)}function _(b){hl.call(this,l,b)}return l.$$set=b=>{"displayName"in b&&n(0,t=b.displayName),"description"in b&&n(1,s=b.description),"last"in b&&n(2,a=b.last)},[t,s,a,r,o,f,d,c,_]}class Js extends _e{constructor(e){super(),ge(this,e,Xs,Ys,he,{displayName:0,description:1,last:2})}}function Ol(l,e,n){const t=l.slice();return t[6]=e[n],t[7]=e,t[8]=n,t}function Cl(l){let e,n,t=l[0],s=[];for(let i=0;i<t.length;i+=1)s[i]=Ul(Ol(l,t,i));const a=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=le()},l(i){for(let r=0;r<s.length;r+=1)s[r].l(i);e=le()},m(i,r){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,r);C(i,e,r),n=!0},p(i,r){if(r&7){t=i[0];let o;for(o=0;o<t.length;o+=1){const f=Ol(i,t,o);s[o]?(s[o].p(f,r),V(s[o],1)):(s[o]=Ul(f),s[o].c(),V(s[o],1),s[o].m(e.parentNode,e))}for(Ee(),o=t.length;o<s.length;o+=1)a(o);ye()}},i(i){if(!n){for(let r=0;r<t.length;r+=1)V(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)N(s[r]);n=!1},d(i){Le(s,i),i&&p(e)}}}function Ul(l){let e,n,t,s;function a(f){l[3](f,l[6])}function i(f){l[4](f,l[6])}function r(){return l[5](l[8])}let o={last:l[0].length-1===l[8]};return l[6].displayName!==void 0&&(o.displayName=l[6].displayName),l[6].description!==void 0&&(o.description=l[6].description),e=new Js({props:o}),x.push(()=>ee(e,"displayName",a)),x.push(()=>ee(e,"description",i)),e.$on("add",l[2]),e.$on("remove",r),{c(){H(e.$$.fragment)},l(f){F(e.$$.fragment,f)},m(f,d){G(e,f,d),s=!0},p(f,d){l=f;const c={};d&1&&(c.last=l[0].length-1===l[8]),!n&&d&1&&(n=!0,c.displayName=l[6].displayName,te(()=>n=!1)),!t&&d&1&&(t=!0,c.description=l[6].description,te(()=>t=!1)),e.$set(c)},i(f){s||(V(e.$$.fragment,f),s=!0)},o(f){N(e.$$.fragment,f),s=!1},d(f){z(e,f)}}}function Qs(l){let e,n,t,s,a,i,r=l[0]&&Cl(l);return{c(){e=g("label"),n=g("b"),t=q("Missing Values"),s=I(),a=g("div"),r&&r.c(),this.h()},l(o){e=h(o,"LABEL",{});var f=m(e);n=h(f,"B",{});var d=m(n);t=R(d,"Missing Values"),d.forEach(p),f.forEach(p),s=T(o),a=h(o,"DIV",{class:!0});var c=m(a);r&&r.l(c),c.forEach(p),this.h()},h(){w(a,"class","missing-values-container svelte-1p76knp")},m(o,f){C(o,e,f),u(e,n),u(n,t),C(o,s,f),C(o,a,f),r&&r.m(a,null),i=!0},p(o,[f]){o[0]?r?(r.p(o,f),f&1&&V(r,1)):(r=Cl(o),r.c(),V(r,1),r.m(a,null)):r&&(Ee(),N(r,1,1,()=>{r=null}),ye())},i(o){i||(V(r),i=!0)},o(o){N(r),i=!1},d(o){o&&p(e),o&&p(s),o&&p(a),r&&r.d()}}}function Ws(l,e,n){let{list:t=[]}=e;tt(()=>{t.length===0&&a()});function s(f){n(0,t=[...t.filter((d,c)=>f!==c)]),t.length===0&&a()}function a(){console.log("list",t);let f={displayName:"",description:""};n(0,t=[...t,f]),console.log("list",t)}function i(f,d){l.$$.not_equal(d.displayName,f)&&(d.displayName=f,n(0,t))}function r(f,d){l.$$.not_equal(d.description,f)&&(d.description=f,n(0,t))}const o=f=>s(f);return l.$$set=f=>{"list"in f&&n(0,t=f.list)},[t,s,a,i,r,o]}class Zs extends _e{constructor(e){super(),ge(this,e,Ws,Qs,he,{list:0})}}function ql(l,e,n){const t=l.slice();return t[45]=e[n],t[47]=n,t}function Rl(l,e,n){const t=l.slice();return t[48]=e[n],t[50]=n,t}function js(l){let e,n,t,s,a,i,r,o,f,d,c,_,b,$,y,D,O,K,Y,U,J,Z,P,v,S,L,X,k,W,fe,Be,me,lt,st,ve,it,Ke,rt,Pe,ue,at,ot,Me,ce,ft,ut,E,M,A,re,Oe,ae=l[0].total+"",Pt,Wt,Ce,ct,Zt,jt,dt=l[0].total-l[0].skipped+"",Mt,xt,Ue,pt,en,tn,_t=l[0].skipped+"",Ot,nn,be,He,ln,sn,Ct,rn,ke,we,gt,an,Ve,Fe,on,fn,ht,un,cn,De,mt,dn,Ie,Ge,pn,_n,vt,gn,hn,Te,bt,mn,Se,ze,vn,bn,$t,$n,kn,qe,kt,En,Ne,Ye,yn,wn,Et,Vn,Dn,yt,In,wt,Xe,Je,Ae,Tn,Kn;function Yl(B){l[14](B)}let Hn={id:"Delimeter",title:"Delimeter",source:l[0].delimeters,targetIsComplex:!1};l[0].delimeter!==void 0&&(Hn.target=l[0].delimeter),s=new Mn({props:Hn}),x.push(()=>ee(s,"target",Yl));function Xl(B){l[15](B)}let Fn={id:"Decimal",title:"Decimal",source:l[0].decimals,targetIsComplex:!1};l[0].decimal!==void 0&&(Fn.target=l[0].decimal),o=new Mn({props:Fn}),x.push(()=>ee(o,"target",Xl));function Jl(B){l[16](B)}let Gn={id:"TextMarker",title:"TextMarker",source:l[0].textMarkers,targetIsComplex:!1};l[0].textMarker!==void 0&&(Gn.target=l[0].textMarker),_=new Mn({props:Gn}),x.push(()=>ee(_,"target",Jl));function Ql(B){l[22](B)}let zn={name:"selection support",$$slots:{default:[ei]},$$scope:{ctx:l}};l[2]!==void 0&&(zn.checked=l[2]),ue=new Cn({props:zn}),x.push(()=>ee(ue,"checked",Ql));function Wl(B){l[23](B)}let Yn={};l[0].missingValues!==void 0&&(Yn.list=l[0].missingValues),ce=new Zs({props:Yn}),x.push(()=>ee(ce,"list",Wl));let Qe=l[0].preview,se=[];for(let B=0;B<Qe.length;B+=1)se[B]=Kl(ql(l,Qe,B));return{c(){e=g("form"),n=g("div"),t=g("div"),H(s.$$.fragment),i=I(),r=g("div"),H(o.$$.fragment),d=I(),c=g("div"),H(_.$$.fragment),$=I(),y=g("div"),D=g("div"),O=g("button"),K=q("Variable"),Y=I(),U=g("button"),J=q("Unit"),Z=I(),P=g("button"),v=q("Description"),S=I(),L=g("button"),X=q("Missing Values"),k=I(),W=g("button"),fe=q("Data"),Be=I(),me=g("button"),lt=q("delete"),st=I(),ve=g("button"),it=q("edit"),rt=I(),Pe=g("div"),H(ue.$$.fragment),ot=I(),Me=g("div"),H(ce.$$.fragment),ut=I(),E=g("div"),M=g("label"),A=g("b"),re=q("Total:"),Oe=I(),Pt=q(ae),Wt=I(),Ce=g("label"),ct=g("b"),Zt=q("Found:"),jt=I(),Mt=q(dt),xt=I(),Ue=g("label"),pt=g("b"),en=q("Skipped:"),tn=I(),Ot=q(_t),nn=I(),be=g("div"),He=g("h4"),ln=q("Controls"),sn=I(),Ct=g("hr"),rn=I(),ke=g("dl"),we=g("div"),gt=g("span"),an=I(),Ve=g("span"),Fe=g("dt"),on=q("Selection"),fn=I(),ht=g("dd"),un=q("left mouse button"),cn=I(),De=g("div"),mt=g("span"),dn=I(),Ie=g("span"),Ge=g("dt"),pn=q("Drag"),_n=I(),vt=g("dd"),gn=q("left mouse button down and drag"),hn=I(),Te=g("div"),bt=g("span"),mn=I(),Se=g("span"),ze=g("dt"),vn=q("Select Row"),bn=I(),$t=g("dd"),$n=q("double click left mouse button"),kn=I(),qe=g("div"),kt=g("span"),En=I(),Ne=g("span"),Ye=g("dt"),yn=q("Deselect"),wn=I(),Et=g("dd"),Vn=q("right mouse button click"),Dn=I(),yt=g("div"),In=I(),wt=g("div"),Xe=g("table"),Je=g("tbody");for(let B=0;B<se.length;B+=1)se[B].c();this.h()},l(B){e=h(B,"FORM",{});var ne=m(e);n=h(ne,"DIV",{id:!0,class:!0});var j=m(n);t=h(j,"DIV",{});var We=m(t);F(s.$$.fragment,We),We.forEach(p),i=T(j),r=h(j,"DIV",{});var Ze=m(r);F(o.$$.fragment,Ze),Ze.forEach(p),d=T(j),c=h(j,"DIV",{});var je=m(c);F(_.$$.fragment,je),je.forEach(p),$=T(j),y=h(j,"DIV",{class:!0});var de=m(y);D=h(de,"DIV",{});var Q=m(D);O=h(Q,"BUTTON",{class:!0,type:!0});var Vt=m(O);K=R(Vt,"Variable"),Vt.forEach(p),Y=T(Q),U=h(Q,"BUTTON",{class:!0,type:!0});var Xn=m(U);J=R(Xn,"Unit"),Xn.forEach(p),Z=T(Q),P=h(Q,"BUTTON",{class:!0,type:!0});var Jn=m(P);v=R(Jn,"Description"),Jn.forEach(p),S=T(Q),L=h(Q,"BUTTON",{class:!0,type:!0,color:!0});var Qn=m(L);X=R(Qn,"Missing Values"),Qn.forEach(p),k=T(Q),W=h(Q,"BUTTON",{class:!0,type:!0});var Wn=m(W);fe=R(Wn,"Data"),Wn.forEach(p),Be=T(Q),me=h(Q,"BUTTON",{class:!0,type:!0});var Zn=m(me);lt=R(Zn,"delete"),Zn.forEach(p),st=T(Q),ve=h(Q,"BUTTON",{class:!0});var jn=m(ve);it=R(jn,"edit"),jn.forEach(p),Q.forEach(p),rt=T(de),Pe=h(de,"DIV",{});var xn=m(Pe);F(ue.$$.fragment,xn),xn.forEach(p),ot=T(de),Me=h(de,"DIV",{});var el=m(Me);F(ce.$$.fragment,el),el.forEach(p),ut=T(de),E=h(de,"DIV",{class:!0});var xe=m(E);M=h(xe,"LABEL",{});var Ut=m(M);A=h(Ut,"B",{});var tl=m(A);re=R(tl,"Total:"),tl.forEach(p),Oe=T(Ut),Pt=R(Ut,ae),Ut.forEach(p),Wt=T(xe),Ce=h(xe,"LABEL",{});var qt=m(Ce);ct=h(qt,"B",{});var nl=m(ct);Zt=R(nl,"Found:"),nl.forEach(p),jt=T(qt),Mt=R(qt,dt),qt.forEach(p),xt=T(xe),Ue=h(xe,"LABEL",{});var Rt=m(Ue);pt=h(Rt,"B",{});var ll=m(pt);en=R(ll,"Skipped:"),ll.forEach(p),tn=T(Rt),Ot=R(Rt,_t),Rt.forEach(p),xe.forEach(p),de.forEach(p),nn=T(j),be=h(j,"DIV",{class:!0});var et=m(be);He=h(et,"H4",{class:!0});var sl=m(He);ln=R(sl,"Controls"),sl.forEach(p),sn=T(et),Ct=h(et,"HR",{class:!0}),rn=T(et),ke=h(et,"DL",{class:!0});var Dt=m(ke);we=h(Dt,"DIV",{});var It=m(we);gt=h(It,"SPAN",{class:!0}),m(gt).forEach(p),an=T(It),Ve=h(It,"SPAN",{class:!0});var Lt=m(Ve);Fe=h(Lt,"DT",{class:!0});var il=m(Fe);on=R(il,"Selection"),il.forEach(p),fn=T(Lt),ht=h(Lt,"DD",{});var rl=m(ht);un=R(rl,"left mouse button"),rl.forEach(p),Lt.forEach(p),cn=T(It),It.forEach(p),De=h(Dt,"DIV",{});var Tt=m(De);mt=h(Tt,"SPAN",{class:!0}),m(mt).forEach(p),dn=T(Tt),Ie=h(Tt,"SPAN",{class:!0});var Kt=m(Ie);Ge=h(Kt,"DT",{class:!0});var al=m(Ge);pn=R(al,"Drag"),al.forEach(p),_n=T(Kt),vt=h(Kt,"DD",{});var ol=m(vt);gn=R(ol,"left mouse button down and drag"),ol.forEach(p),Kt.forEach(p),hn=T(Tt),Tt.forEach(p),Te=h(Dt,"DIV",{});var St=m(Te);bt=h(St,"SPAN",{class:!0}),m(bt).forEach(p),mn=T(St),Se=h(St,"SPAN",{class:!0});var Ht=m(Se);ze=h(Ht,"DT",{class:!0});var fl=m(ze);vn=R(fl,"Select Row"),fl.forEach(p),bn=T(Ht),$t=h(Ht,"DD",{});var ul=m($t);$n=R(ul,"double click left mouse button"),ul.forEach(p),Ht.forEach(p),kn=T(St),St.forEach(p),qe=h(Dt,"DIV",{});var Ft=m(qe);kt=h(Ft,"SPAN",{class:!0}),m(kt).forEach(p),En=T(Ft),Ne=h(Ft,"SPAN",{class:!0});var Gt=m(Ne);Ye=h(Gt,"DT",{class:!0});var cl=m(Ye);yn=R(cl,"Deselect"),cl.forEach(p),wn=T(Gt),Et=h(Gt,"DD",{});var dl=m(Et);Vn=R(dl,"right mouse button click"),dl.forEach(p),Gt.forEach(p),Ft.forEach(p),Dt.forEach(p),et.forEach(p),Dn=T(j),yt=h(j,"DIV",{class:!0}),m(yt).forEach(p),In=T(j),wt=h(j,"DIV",{});var pl=m(wt);Xe=h(pl,"TABLE",{class:!0});var _l=m(Xe);Je=h(_l,"TBODY",{});var gl=m(Je);for(let Sn=0;Sn<se.length;Sn+=1)se[Sn].l(gl);gl.forEach(p),_l.forEach(p),pl.forEach(p),j.forEach(p),ne.forEach(p),this.h()},h(){w(O,"class","btn variant-filled-error"),w(O,"type","button"),w(U,"class","btn variant-filled-success"),w(U,"type","button"),w(P,"class","btn variant-filled-warning"),w(P,"type","button"),w(L,"class","btn variant-filled-secondary"),w(L,"type","button"),w(L,"color","info"),w(W,"class","btn variant-filled-primary"),w(W,"type","button"),w(me,"class","btn variant-ghost-surface"),w(me,"type","button"),w(ve,"class","btn variant-ghost-surface"),ve.disabled=Ke=!l[3],w(E,"class","flex flex-auto gap-5"),w(y,"class","col-span-2 space-y-5"),w(He,"class","h4"),w(Ct,"class","divide-x-8"),w(gt,"class","badge bg-primary-500"),w(Fe,"class","font-bold"),w(Ve,"class","flex-auto"),w(mt,"class","badge bg-primary-500"),w(Ge,"class","font-bold"),w(Ie,"class","flex-auto"),w(bt,"class","badge bg-primary-500"),w(ze,"class","font-bold"),w(Se,"class","flex-auto"),w(kt,"class","badge bg-primary-500"),w(Ye,"class","font-bold"),w(Ne,"class","flex-auto"),w(ke,"class","list-dl gap-0"),w(be,"class","col-span-1 card p-5 w-auto"),w(yt,"class","col-span-3"),w(Xe,"class","table table-compact"),w(n,"id","structure-suggestion-container"),w(n,"class","grid grid-cols-3 gap-5")},m(B,ne){C(B,e,ne),u(e,n),u(n,t),G(s,t,null),u(n,i),u(n,r),G(o,r,null),u(n,d),u(n,c),G(_,c,null),u(n,$),u(n,y),u(y,D),u(D,O),u(O,K),u(D,Y),u(D,U),u(U,J),u(D,Z),u(D,P),u(P,v),u(D,S),u(D,L),u(L,X),u(D,k),u(D,W),u(W,fe),u(D,Be),u(D,me),u(me,lt),u(D,st),u(D,ve),u(ve,it),u(y,rt),u(y,Pe),G(ue,Pe,null),u(y,ot),u(y,Me),G(ce,Me,null),u(y,ut),u(y,E),u(E,M),u(M,A),u(A,re),u(M,Oe),u(M,Pt),u(E,Wt),u(E,Ce),u(Ce,ct),u(ct,Zt),u(Ce,jt),u(Ce,Mt),u(E,xt),u(E,Ue),u(Ue,pt),u(pt,en),u(Ue,tn),u(Ue,Ot),u(n,nn),u(n,be),u(be,He),u(He,ln),u(be,sn),u(be,Ct),u(be,rn),u(be,ke),u(ke,we),u(we,gt),u(we,an),u(we,Ve),u(Ve,Fe),u(Fe,on),u(Ve,fn),u(Ve,ht),u(ht,un),u(we,cn),u(ke,De),u(De,mt),u(De,dn),u(De,Ie),u(Ie,Ge),u(Ge,pn),u(Ie,_n),u(Ie,vt),u(vt,gn),u(De,hn),u(ke,Te),u(Te,bt),u(Te,mn),u(Te,Se),u(Se,ze),u(ze,vn),u(Se,bn),u(Se,$t),u($t,$n),u(Te,kn),u(ke,qe),u(qe,kt),u(qe,En),u(qe,Ne),u(Ne,Ye),u(Ye,yn),u(Ne,wn),u(Ne,Et),u(Et,Vn),u(n,Dn),u(n,yt),u(n,In),u(n,wt),u(wt,Xe),u(Xe,Je);for(let j=0;j<se.length;j+=1)se[j]&&se[j].m(Je,null);Ae=!0,Tn||(Kn=[ie(O,"click",l[17]),ie(U,"click",l[18]),ie(P,"click",l[19]),ie(L,"click",l[20]),ie(W,"click",l[21]),ie(me,"click",l[11]),ie(n,"mousedown",l[6]),ie(n,"mouseup",l[7]),ie(e,"submit",es(l[13]))],Tn=!0)},p(B,ne){const j={};ne[0]&1&&(j.source=B[0].delimeters),!a&&ne[0]&1&&(a=!0,j.target=B[0].delimeter,te(()=>a=!1)),s.$set(j);const We={};ne[0]&1&&(We.source=B[0].decimals),!f&&ne[0]&1&&(f=!0,We.target=B[0].decimal,te(()=>f=!1)),o.$set(We);const Ze={};ne[0]&1&&(Ze.source=B[0].textMarkers),!b&&ne[0]&1&&(b=!0,Ze.target=B[0].textMarker,te(()=>b=!1)),_.$set(Ze),(!Ae||ne[0]&8&&Ke!==(Ke=!B[3]))&&(ve.disabled=Ke);const je={};ne[1]&1048576&&(je.$$scope={dirty:ne,ctx:B}),!at&&ne[0]&4&&(at=!0,je.checked=B[2],te(()=>at=!1)),ue.$set(je);const de={};if(!ft&&ne[0]&1&&(ft=!0,de.list=B[0].missingValues,te(()=>ft=!1)),ce.$set(de),(!Ae||ne[0]&1)&&ae!==(ae=B[0].total+"")&&$e(Pt,ae),(!Ae||ne[0]&1)&&dt!==(dt=B[0].total-B[0].skipped+"")&&$e(Mt,dt),(!Ae||ne[0]&1)&&_t!==(_t=B[0].skipped+"")&&$e(Ot,_t),ne[0]&1843){Qe=B[0].preview;let Q;for(Q=0;Q<Qe.length;Q+=1){const Vt=ql(B,Qe,Q);se[Q]?se[Q].p(Vt,ne):(se[Q]=Kl(Vt),se[Q].c(),se[Q].m(Je,null))}for(;Q<se.length;Q+=1)se[Q].d(1);se.length=Qe.length}},i(B){Ae||(V(s.$$.fragment,B),V(o.$$.fragment,B),V(_.$$.fragment,B),V(ue.$$.fragment,B),V(ce.$$.fragment,B),Ae=!0)},o(B){N(s.$$.fragment,B),N(o.$$.fragment,B),N(_.$$.fragment,B),N(ue.$$.fragment,B),N(ce.$$.fragment,B),Ae=!1},d(B){B&&p(e),z(s),z(o),z(_),z(ue),z(ce),Le(se,B),Tn=!1,qn(Kn)}}}function xs(l){let e,n;return e=new Ln({}),{c(){H(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){G(e,t,s),n=!0},p:pe,i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ei(l){let e;return{c(){e=q("selection support")},l(n){e=R(n,"selection support")},m(n,t){C(n,e,t)},d(n){n&&p(e)}}}function Ll(l){let e,n=l[48]+"",t,s,a;function i(...c){return l[24](l[47],l[50],...c)}function r(...c){return l[25](l[47],l[50],...c)}function o(...c){return l[26](l[47],l[50],...c)}function f(...c){return l[27](l[47],l[50],...c)}function d(...c){return l[28](l[47],l[50],...c)}return{c(){e=g("td"),t=q(n),this.h()},l(c){e=h(c,"TD",{class:!0});var _=m(e);t=R(_,n),_.forEach(p),this.h()},h(){var c,_,b,$,y;w(e,"class","hover:cursor-pointer select-none"),oe(e,"variant-soft-error",((c=l[4].find(i))==null?void 0:c.type)===l[5].VARIABLE),oe(e,"variant-soft-success",((_=l[4].find(r))==null?void 0:_.type)===l[5].UNIT),oe(e,"variant-soft-warning",((b=l[4].find(o))==null?void 0:b.type)===l[5].DESCRIPTION),oe(e,"variant-soft-secondary",(($=l[4].find(f))==null?void 0:$.type)===l[5].MISSING_VALUES),oe(e,"variant-soft-primary",((y=l[4].find(d))==null?void 0:y.type)===l[5].DATA),oe(e,"variant-ghost-surface",l[1][l[47]][l[50]])},m(c,_){C(c,e,_),u(e,t),s||(a=[ie(e,"dblclick",l[10](l[47])),ie(e,"mousedown",l[8](l[47],l[50])),ie(e,"mouseenter",l[9](l[47],l[50]))],s=!0)},p(c,_){var b,$,y,D,O;l=c,_[0]&1&&n!==(n=l[48]+"")&&$e(t,n),_[0]&48&&oe(e,"variant-soft-error",((b=l[4].find(i))==null?void 0:b.type)===l[5].VARIABLE),_[0]&48&&oe(e,"variant-soft-success",(($=l[4].find(r))==null?void 0:$.type)===l[5].UNIT),_[0]&48&&oe(e,"variant-soft-warning",((y=l[4].find(o))==null?void 0:y.type)===l[5].DESCRIPTION),_[0]&48&&oe(e,"variant-soft-secondary",((D=l[4].find(f))==null?void 0:D.type)===l[5].MISSING_VALUES),_[0]&48&&oe(e,"variant-soft-primary",((O=l[4].find(d))==null?void 0:O.type)===l[5].DATA),_[0]&2&&oe(e,"variant-ghost-surface",l[1][l[47]][l[50]])},d(c){c&&p(e),s=!1,qn(a)}}}function Kl(l){let e,n,t=l[45].split(String.fromCharCode(l[0].delimeter)),s=[];for(let a=0;a<t.length;a+=1)s[a]=Ll(Rl(l,t,a));return{c(){e=g("tr");for(let a=0;a<s.length;a+=1)s[a].c();n=I()},l(a){e=h(a,"TR",{});var i=m(e);for(let r=0;r<s.length;r+=1)s[r].l(i);n=T(i),i.forEach(p)},m(a,i){C(a,e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);u(e,n)},p(a,i){if(i[0]&1843){t=a[45].split(String.fromCharCode(a[0].delimeter));let r;for(r=0;r<t.length;r+=1){const o=Rl(a,t,r);s[r]?s[r].p(o,i):(s[r]=Ll(o),s[r].c(),s[r].m(e,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(a){a&&p(e),Le(s,a)}}}function ti(l){let e,n,t,s;const a=[xs,js],i=[];function r(o,f){return!o[0]||o[1].length==0?0:1}return e=r(l),n=i[e]=a[e](l),{c(){n.c(),t=le()},l(o){n.l(o),t=le()},m(o,f){i[e].m(o,f),C(o,t,f),s=!0},p(o,f){let d=e;e=r(o),e===d?i[e].p(o,f):(Ee(),N(i[d],1,1,()=>{i[d]=null}),ye(),n=i[e],n?n.p(o,f):(n=i[e]=a[e](o),n.c()),V(n,1),n.m(t.parentNode,t))},i(o){s||(V(n),s=!0)},o(o){N(n),s=!1},d(o){i[e].d(o),o&&p(t)}}}function ni(l,e,n){let t,{model:s}=e,a,i=!1,r=[],o=[],f=0,d=0,c=!1,_=0,b=!1;const $={VARIABLE:"variable",DESCRIPTION:"description",UNIT:"unit",MISSING_VALUES:"missing-values",DATA:"data"},y=Un();tt(async()=>{console.log("start selection suggestion"),D()});async function D(){console.log("load selection",s.id,s.file),O(s.preview,String.fromCharCode(s.delimeter)),K(s.markers),a=s.delimeter,setTimeout(function(){console.log("model after 100ms",s),console.log("delimeter after 100ms",s.delimeter),console.log("decimal after 100ms",s.decimal),console.log("delimeter only",a)},100),console.log("init",s),console.log("delimeter",s.delimeter),console.log("decimal",s.decimal),console.log("delimeter only",a)}function O(E,M){console.log("set table infos"),f=E[0].split(M).length,d=E.length,n(1,r=new Array(d).fill(!1));for(var A=0;A<r.length;A++)n(1,r[A]=new Array(f).fill(!1),r);console.log("state",r)}function K(E){for(var M=0;M<E.length;M++){let A=E[M];console.log("marker",A),fe(A.type,A.row-1,A.cells),A.type==$.VARIABLE&&n(3,b=!0)}}function Y(E){i=!0}function U(E){i=!1}const J=(E,M)=>A=>{console.log(A.type),(A.which===3||A.button===2)&&console.log("Right mouse button at "+A.clientX+"x"+A.clientY),E!=_&&X(),(i||A.type==="mousedown")&&(_=E,(A.which===1||A.button===0)&&v(M),(A.which===3||A.button===2)&&S(M))},Z=(E,M)=>A=>{(i||A.type==="mousedown")&&((A.which===1||A.button===0)&&v(M),(A.which===3||A.button===2)&&S(M))},P=E=>M=>{console.log("dblclick",M.type,i),(i||M.type==="dblclick")&&L(_)},v=E=>{n(1,r[_][E]=!0,r)},S=E=>{if(n(1,r[_][E]=!1,r),console.log("deselect"),t.length>0)if(console.log("selection l:",t.length),c)for(let A=0;A<t.length;A++){const re=t[A];re&&(re.cells[E]=!1,fe(re.type,re.row,re.cells))}else{var M=t.find(A=>A.row==_);M&&(M.cells[E]=!1,fe(M.type,M.row,M.cells))}},L=E=>{console.log("set true");for(var M=0;M<f;M++)console.log(M),n(1,r[E][M]=!0,r)};function X(){n(1,r=new Array(d).fill(!1));for(var E=0;E<r.length;E++)n(1,r[E]=new Array(f).fill(!1),r)}function k(){n(4,t=[]),n(3,b=!1)}function W(E){let M=r[_];E==$.VARIABLE&&n(3,b=!0),c&&t.length>0&&(M=t[0].cells),fe(E,_,M)}function fe(E,M,A){let re={type:E,row:M,cells:A},Oe=t.find(ae=>ae.row==re.row);Oe&&n(4,t=t.filter(ae=>ae.row!==re.row)),Oe=t.find(ae=>ae.type==re.type),Oe&&n(4,t=t.filter(ae=>ae.type!==re.type)),n(4,t=[...t,re]),console.log("selection",t)}async function Be(){n(0,s.markers=t,s),console.log("save selection",s);let E=await Us(s);console.log(E),E!=!1&&(console.log("selection",E),y("saved",s))}function me(E){l.$$.not_equal(s.delimeter,E)&&(s.delimeter=E,n(0,s))}function lt(E){l.$$.not_equal(s.decimal,E)&&(s.decimal=E,n(0,s))}function st(E){l.$$.not_equal(s.textMarker,E)&&(s.textMarker=E,n(0,s))}const ve=()=>W($.VARIABLE),it=()=>W($.UNIT),Ke=()=>W($.DESCRIPTION),rt=()=>W($.MISSING_VALUES),Pe=()=>W($.DATA);function ue(E){c=E,n(2,c)}function at(E){l.$$.not_equal(s.missingValues,E)&&(s.missingValues=E,n(0,s))}const ot=(E,M,A)=>A.row===E&&A.cells[M]===!0,Me=(E,M,A)=>A.row===E&&A.cells[M]===!0,ce=(E,M,A)=>A.row===E&&A.cells[M]===!0,ft=(E,M,A)=>A.row===E&&A.cells[M]===!0,ut=(E,M,A)=>A.row===E&&A.cells[M]===!0;return l.$$set=E=>{"model"in E&&n(0,s=E.model)},l.$$.update=()=>{l.$$.dirty[0]&1},n(4,t=o),[s,r,c,b,t,$,Y,U,J,Z,P,k,W,Be,me,lt,st,ve,it,Ke,rt,Pe,ue,at,ot,Me,ce,ft,ut]}class li extends _e{constructor(e){super(),ge(this,e,ni,ti,he,{model:0},null,[-1,-1])}}const On=Gl((l={},e)=>{zl(e),At("title","title is required",()=>{Re(l.title).isNotBlank()}),At("description","description is required",()=>{Re(l.description).isNotBlank()})});function Hl(l){let e,n,t,s,a,i,r;function o(_){l[4](_)}let f={id:"title",label:"Title",valid:l[1].isValid("title"),invalid:l[1].hasErrors("title"),feedback:l[1].getErrors("title"),required:!0};l[0].title!==void 0&&(f.value=l[0].title),n=new Bt({props:f}),x.push(()=>ee(n,"value",o)),n.$on("input",l[2]);function d(_){l[5](_)}let c={id:"description",",":!0,label:"Description",valid:l[1].isValid("description"),invalid:l[1].hasErrors("description"),feedback:l[1].getErrors("description"),required:!0};return l[0].description!==void 0&&(c.value=l[0].description),a=new ss({props:c}),x.push(()=>ee(a,"value",d)),a.$on("input",l[2]),{c(){e=g("div"),H(n.$$.fragment),s=I(),H(a.$$.fragment),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=m(e);F(n.$$.fragment,b),s=T(b),F(a.$$.fragment,b),b.forEach(p),this.h()},h(){w(e,"class","structure-attributes-container")},m(_,b){C(_,e,b),G(n,e,null),u(e,s),G(a,e,null),r=!0},p(_,b){const $={};b&2&&($.valid=_[1].isValid("title")),b&2&&($.invalid=_[1].hasErrors("title")),b&2&&($.feedback=_[1].getErrors("title")),!t&&b&1&&(t=!0,$.value=_[0].title,te(()=>t=!1)),n.$set($);const y={};b&2&&(y.valid=_[1].isValid("description")),b&2&&(y.invalid=_[1].hasErrors("description")),b&2&&(y.feedback=_[1].getErrors("description")),!i&&b&1&&(i=!0,y.value=_[0].description,te(()=>i=!1)),a.$set(y)},i(_){r||(V(n.$$.fragment,_),V(a.$$.fragment,_),r=!0)},o(_){N(n.$$.fragment,_),N(a.$$.fragment,_),r=!1},d(_){_&&p(e),z(n),z(a)}}}function si(l){let e,n,t=l[0]&&Hl(l);return{c(){t&&t.c(),e=le()},l(s){t&&t.l(s),e=le()},m(s,a){t&&t.m(s,a),C(s,e,a),n=!0},p(s,[a]){s[0]?t?(t.p(s,a),a&1&&V(t,1)):(t=Hl(s),t.c(),V(t,1),t.m(e.parentNode,e)):t&&(Ee(),N(t,1,1,()=>{t=null}),ye())},i(s){n||(V(t),n=!0)},o(s){N(t),n=!1},d(s){t&&t.d(s),s&&p(e)}}}function ii(l,e,n){let{model:t}=e,{valid:s=!1}=e,a=On.get();tt(()=>{On.reset()});function i(f){setTimeout(async()=>{n(1,a=On(t,f.target.id)),n(3,s=a.isValid())},10)}function r(f){l.$$.not_equal(t.title,f)&&(t.title=f,n(0,t))}function o(f){l.$$.not_equal(t.description,f)&&(t.description=f,n(0,t))}return l.$$set=f=>{"model"in f&&n(0,t=f.model),"valid"in f&&n(3,s=f.valid)},[t,a,i,s,r,o]}class ri extends _e{constructor(e){super(),ge(this,e,ii,si,he,{model:0,valid:3})}}function ai(l){let e,n,t,s,a,i,r,o,f,d,c,_,b,$,y,D,O,K,Y;s=new Xt({props:{icon:as}}),o=new Xt({props:{icon:ls}});function U(v){l[7](v)}let J={model:l[0]};l[3]!==void 0&&(J.valid=l[3]),c=new ri({props:J}),x.push(()=>ee(c,"valid",U));function Z(v){l[8](v)}let P={variables:l[0].variables};return l[2]!==void 0&&(P.valid=l[2]),$=new zs({props:P}),x.push(()=>ee($,"valid",Z)),{c(){e=g("div"),n=g("div"),t=g("button"),H(s.$$.fragment),a=I(),i=g("div"),r=g("button"),H(o.$$.fragment),d=I(),H(c.$$.fragment),b=I(),H($.$$.fragment),this.h()},l(v){e=h(v,"DIV",{});var S=m(e);n=h(S,"DIV",{});var L=m(n);t=h(L,"BUTTON",{});var X=m(t);F(s.$$.fragment,X),X.forEach(p),a=T(L),i=h(L,"DIV",{class:!0});var k=m(i);r=h(k,"BUTTON",{color:!0});var W=m(r);F(o.$$.fragment,W),W.forEach(p),k.forEach(p),L.forEach(p),d=T(S),F(c.$$.fragment,S),b=T(S),F($.$$.fragment,S),S.forEach(p),this.h()},h(){w(r,"color","primary"),r.disabled=f=!l[2]||!l[3],w(i,"class","text-end")},m(v,S){C(v,e,S),u(e,n),u(n,t),G(s,t,null),u(n,a),u(n,i),u(i,r),G(o,r,null),u(e,d),G(c,e,null),u(e,b),G($,e,null),O=!0,K||(Y=[ie(t,"click",l[6]),ie(r,"click",l[5])],K=!0)},p(v,S){(!O||S&12&&f!==(f=!v[2]||!v[3]))&&(r.disabled=f);const L={};S&1&&(L.model=v[0]),!_&&S&8&&(_=!0,L.valid=v[3],te(()=>_=!1)),c.$set(L);const X={};S&1&&(X.variables=v[0].variables),!y&&S&4&&(y=!0,X.valid=v[2],te(()=>y=!1)),$.$set(X)},i(v){O||(V(s.$$.fragment,v),V(o.$$.fragment,v),V(c.$$.fragment,v),V($.$$.fragment,v),Fl(()=>{O&&(D||(D=Yt(e,Jt,{},!0)),D.run(1))}),O=!0)},o(v){N(s.$$.fragment,v),N(o.$$.fragment,v),N(c.$$.fragment,v),N($.$$.fragment,v),D||(D=Yt(e,Jt,{},!1)),D.run(0),O=!1},d(v){v&&p(e),z(s),z(o),z(c),z($),v&&D&&D.end(),K=!1,qn(Y)}}}function oi(l){let e,n,t,s;return n=new li({props:{model:l[0]}}),n.$on("saved",l[4]),{c(){e=g("div"),H(n.$$.fragment)},l(a){e=h(a,"DIV",{});var i=m(e);F(n.$$.fragment,i),i.forEach(p)},m(a,i){C(a,e,i),G(n,e,null),s=!0},p(a,i){const r={};i&1&&(r.model=a[0]),n.$set(r)},i(a){s||(V(n.$$.fragment,a),Fl(()=>{s&&(t||(t=Yt(e,Jt,{},!0)),t.run(1))}),s=!0)},o(a){N(n.$$.fragment,a),t||(t=Yt(e,Jt,{},!1)),t.run(0),s=!1},d(a){a&&p(e),z(n),a&&t&&t.end()}}}function fi(l){let e,n;return e=new Ln({}),{c(){H(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){G(e,t,s),n=!0},p:pe,i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ui(l){let e,n,t,s;const a=[fi,oi,ai],i=[];function r(o,f){return o[0]?o[1]?1:o[0].variables.length>0?2:-1:0}return~(e=r(l))&&(n=i[e]=a[e](l)),{c(){n&&n.c(),t=le()},l(o){n&&n.l(o),t=le()},m(o,f){~e&&i[e].m(o,f),C(o,t,f),s=!0},p(o,f){let d=e;e=r(o),e===d?~e&&i[e].p(o,f):(n&&(Ee(),N(i[d],1,1,()=>{i[d]=null}),ye()),~e?(n=i[e],n?n.p(o,f):(n=i[e]=a[e](o),n.c()),V(n,1),n.m(t.parentNode,t)):n=null)},i(o){s||(V(n),s=!0)},o(o){N(n),s=!1},d(o){~e&&i[e].d(o),o&&p(t)}}}function ci(l){let e,n;return e=new rs({props:{title:"Structure Suggestion",note:"generate a structure from a file.",$$slots:{default:[ui]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){G(e,t,s),n=!0},p(t,[s]){const a={};s&8207&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function di(l,e,n){let t,s,a=0,i,r,o=!0,f=!1,d=!1;tt(async()=>{t=document.getElementById("structuresuggestion"),s=t==null?void 0:t.getAttribute("dataset"),a=t==null?void 0:t.getAttribute("version"),i=t==null?void 0:t.getAttribute("file"),console.log("start structure suggestion",s,a,i),ts("https://localhost:44345","davidschoene","123456"),n(0,r=await Os(s,i,0)),console.log("model",r)});async function c(D){console.log("update",D.detail),n(0,r=D.detail);let O=await Cs(D.detail);O!=!1&&(n(0,r=O),n(1,o=!1))}async function _(){const D=await qs(r);console.log("save",D),os("/dcm/edit?id="+r.id)}const b=()=>n(1,o=!0);function $(D){d=D,n(3,d)}function y(D){f=D,n(2,f)}return l.$$.update=()=>{l.$$.dirty&1},[r,o,f,d,c,_,b,$,y]}class yi extends _e{constructor(e){super(),ge(this,e,di,ci,he,{})}}export{yi as component};
