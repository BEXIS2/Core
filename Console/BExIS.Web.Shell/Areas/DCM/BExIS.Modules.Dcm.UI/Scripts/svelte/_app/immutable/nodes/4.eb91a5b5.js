import{S as $,i as x,s as ee,a as H,e as q,c as P,b as y,g as p,v as Y,d as w,f as J,h as _,y as j,z as L,A as R,H as X,B as U,k as S,q as G,l as A,m as O,r as K,p as Ie,G as I,u as te,C as je,n as C,K as Z,D as Le,E as Re,F as Ue,L as nn,Q as Ne,$ as bn,w as be,X as pn,o as fe,P as ve,Y as vn,a0 as xe,V as Fe,W as Te,J as et,M as Je,I as ye,R as ie,T as re,U as se}from"../chunks/index.8b48ad28.js";import{A as pe,h as kn,s as wn}from"../chunks/store.36de5848.js";import{S as ae}from"../chunks/Spinner.61cd4034.js";import{F as le,b as En,c as Dn,d as ln,P as In}from"../chunks/Page.74e7a17c.js";import{T as rn}from"../chunks/TextInput.65f17824.js";import{f as tt,g as Fn}from"../chunks/BaseCaller.ca2e38d9.js";import{w as Ze}from"../chunks/index.4b2726eb.js";import{f as Tn,a as yn,b as Nn,c as Sn,d as An,e as Vn,g as On,h as Bn,i as Mn,j as Cn,S as Hn}from"../chunks/Select.56c86c6c.js";function nt(i){let e,n;return e=new le({props:{icon:Tn}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function lt(i){let e,n;return e=new le({props:{icon:yn}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function it(i){let e,n;return e=new le({props:{icon:Nn}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function rt(i){let e,n;return e=new le({props:{icon:Sn}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function st(i){let e,n;return e=new le({props:{icon:An}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function ot(i){let e,n;return e=new le({props:{icon:Vn}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function ft(i){let e,n;return e=new le({props:{icon:On}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function at(i){let e,n;return e=new le({props:{icon:Bn}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Pn(i){let e=i[0].includes("excel")||i[0].includes("spreadsheetml"),n,t=i[0].includes("text"),l,s=i[0].includes("image"),r,f=i[0].includes("audio"),o,a=i[0].includes("video"),u,c=i[0].includes("word"),d,g=i[0].includes("pdf"),E,m=i[0].includes("zip"),b,k,v=e&&nt(),h=t&&lt(),D=s&&it(),M=f&&rt(),F=a&&st(),T=c&&ot(),B=g&&ft(),W=m&&at();return{c(){v&&v.c(),n=H(),h&&h.c(),l=H(),D&&D.c(),r=H(),M&&M.c(),o=H(),F&&F.c(),u=H(),T&&T.c(),d=H(),B&&B.c(),E=H(),W&&W.c(),b=q()},l(V){v&&v.l(V),n=P(V),h&&h.l(V),l=P(V),D&&D.l(V),r=P(V),M&&M.l(V),o=P(V),F&&F.l(V),u=P(V),T&&T.l(V),d=P(V),B&&B.l(V),E=P(V),W&&W.l(V),b=q()},m(V,z){v&&v.m(V,z),y(V,n,z),h&&h.m(V,z),y(V,l,z),D&&D.m(V,z),y(V,r,z),M&&M.m(V,z),y(V,o,z),F&&F.m(V,z),y(V,u,z),T&&T.m(V,z),y(V,d,z),B&&B.m(V,z),y(V,E,z),W&&W.m(V,z),y(V,b,z),k=!0},p(V,[z]){z&1&&(e=V[0].includes("excel")||V[0].includes("spreadsheetml")),e?v?(v.p(V,z),z&1&&p(v,1)):(v=nt(),v.c(),p(v,1),v.m(n.parentNode,n)):v&&(Y(),w(v,1,1,()=>{v=null}),J()),z&1&&(t=V[0].includes("text")),t?h?(h.p(V,z),z&1&&p(h,1)):(h=lt(),h.c(),p(h,1),h.m(l.parentNode,l)):h&&(Y(),w(h,1,1,()=>{h=null}),J()),z&1&&(s=V[0].includes("image")),s?D?(D.p(V,z),z&1&&p(D,1)):(D=it(),D.c(),p(D,1),D.m(r.parentNode,r)):D&&(Y(),w(D,1,1,()=>{D=null}),J()),z&1&&(f=V[0].includes("audio")),f?M?(M.p(V,z),z&1&&p(M,1)):(M=rt(),M.c(),p(M,1),M.m(o.parentNode,o)):M&&(Y(),w(M,1,1,()=>{M=null}),J()),z&1&&(a=V[0].includes("video")),a?F?(F.p(V,z),z&1&&p(F,1)):(F=st(),F.c(),p(F,1),F.m(u.parentNode,u)):F&&(Y(),w(F,1,1,()=>{F=null}),J()),z&1&&(c=V[0].includes("word")),c?T?(T.p(V,z),z&1&&p(T,1)):(T=ot(),T.c(),p(T,1),T.m(d.parentNode,d)):T&&(Y(),w(T,1,1,()=>{T=null}),J()),z&1&&(g=V[0].includes("pdf")),g?B?(B.p(V,z),z&1&&p(B,1)):(B=ft(),B.c(),p(B,1),B.m(E.parentNode,E)):B&&(Y(),w(B,1,1,()=>{B=null}),J()),z&1&&(m=V[0].includes("zip")),m?W?(W.p(V,z),z&1&&p(W,1)):(W=at(),W.c(),p(W,1),W.m(b.parentNode,b)):W&&(Y(),w(W,1,1,()=>{W=null}),J())},i(V){k||(p(v),p(h),p(D),p(M),p(F),p(T),p(B),p(W),k=!0)},o(V){w(v),w(h),w(D),w(M),w(F),w(T),w(B),w(W),k=!1},d(V){v&&v.d(V),V&&_(n),h&&h.d(V),V&&_(l),D&&D.d(V),V&&_(r),M&&M.d(V),V&&_(o),F&&F.d(V),V&&_(u),T&&T.d(V),V&&_(d),B&&B.d(V),V&&_(E),W&&W.d(V),V&&_(b)}}}function zn(i,e,n){let{type:t=""}=e;return i.$$set=l=>{"type"in l&&n(0,t=l.type)},[t]}class jn extends ${constructor(e){super(),x(this,e,zn,Pn,ee,{type:0})}}function Ln(i){let e,n,t,l,s;return n=new jn({props:{type:i[1]}}),{c(){e=S("div"),j(n.$$.fragment),t=H(),l=G(i[0]),this.h()},l(r){e=A(r,"DIV",{style:!0});var f=O(e);L(n.$$.fragment,f),t=P(f),l=K(f,i[0]),f.forEach(_),this.h()},h(){Ie(e,"font-size",i[2])},m(r,f){y(r,e,f),R(n,e,null),I(e,t),I(e,l),s=!0},p(r,[f]){const o={};f&2&&(o.type=r[1]),n.$set(o),(!s||f&1)&&te(l,r[0]),(!s||f&4)&&Ie(e,"font-size",r[2])},i(r){s||(p(n.$$.fragment,r),s=!0)},o(r){w(n.$$.fragment,r),s=!1},d(r){r&&_(e),U(n)}}}function Rn(i,e,n){let{name:t=""}=e,{type:l=""}=e,{size:s=""}=e;return i.$$set=r=>{"name"in r&&n(0,t=r.name),"type"in r&&n(1,l=r.type),"size"in r&&n(2,s=r.size)},[t,l,s]}class Un extends ${constructor(e){super(),x(this,e,Rn,Ln,ee,{name:0,type:1,size:2})}}function Se(i,e,n,t){function l(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function f(u){try{a(t.next(u))}catch(c){r(c)}}function o(u){try{a(t.throw(u))}catch(c){r(c)}}function a(u){u.done?s(u.value):l(u.value).then(f,o)}a((t=t.apply(i,e||[])).next())})}function Ae(i,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,l,s,r;return r={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function f(a){return function(u){return o([a,u])}}function o(a){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(n=0)),n;)try{if(t=1,l&&(s=a[0]&2?l.return:a[0]?l.throw||((s=l.return)&&s.call(l),0):l.next)&&!(s=s.call(l,a[1])).done)return s;switch(l=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,l=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(i,n)}catch(u){a=[6,u],l=0}finally{t=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function qn(i,e){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var t=n.call(i),l,s=[],r;try{for(;(e===void 0||e-- >0)&&!(l=t.next()).done;)s.push(l.value)}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}return s}function Gn(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(qn(arguments[e]));return i}var Kn=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Ge(i,e){var n=Wn(i);if(typeof n.path!="string"){var t=i.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof t=="string"&&t.length>0?t:i.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Wn(i){var e=i.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!i.type){var t=e.split(".").pop().toLowerCase(),l=Kn.get(t);l&&Object.defineProperty(i,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return i}var Yn=[".DS_Store","Thumbs.db"];function Jn(i){return Se(this,void 0,void 0,function(){return Ae(this,function(e){return[2,Xn(i)&&i.dataTransfer?$n(i.dataTransfer,i.type):Qn(i)]})})}function Xn(i){return!!i.dataTransfer}function Qn(i){var e=Zn(i.target)?i.target.files?Xe(i.target.files):[]:[];return e.map(function(n){return Ge(n)})}function Zn(i){return i!==null}function $n(i,e){return Se(this,void 0,void 0,function(){var n,t;return Ae(this,function(l){switch(l.label){case 0:return i.items?(n=Xe(i.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(xn))]):[3,2];case 1:return t=l.sent(),[2,ct(sn(t))];case 2:return[2,ct(Xe(i.files).map(function(s){return Ge(s)}))]}})})}function ct(i){return i.filter(function(e){return Yn.indexOf(e.name)===-1})}function Xe(i){for(var e=[],n=0;n<i.length;n++){var t=i[n];e.push(t)}return e}function xn(i){if(typeof i.webkitGetAsEntry!="function")return ut(i);var e=i.webkitGetAsEntry();return e&&e.isDirectory?on(e):ut(i)}function sn(i){return i.reduce(function(e,n){return Gn(e,Array.isArray(n)?sn(n):[n])},[])}function ut(i){var e=i.getAsFile();if(!e)return Promise.reject(i+" is not a File");var n=Ge(e);return Promise.resolve(n)}function el(i){return Se(this,void 0,void 0,function(){return Ae(this,function(e){return[2,i.isDirectory?on(i):tl(i)]})})}function on(i){var e=i.createReader();return new Promise(function(n,t){var l=[];function s(){var r=this;e.readEntries(function(f){return Se(r,void 0,void 0,function(){var o,a,u;return Ae(this,function(c){switch(c.label){case 0:if(f.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(l)];case 2:return o=c.sent(),n(o),[3,4];case 3:return a=c.sent(),t(a),[3,4];case 4:return[3,6];case 5:u=Promise.all(f.map(el)),l.push(u),s(),c.label=6;case 6:return[2]}})})},function(f){t(f)})}s()})}function tl(i){return Se(this,void 0,void 0,function(){return Ae(this,function(e){return[2,new Promise(function(n,t){i.file(function(l){var s=Ge(l,i.fullPath);n(s)},function(l){t(l)})})]})})}function nl(i,e){if(i&&e){const n=Array.isArray(e)?e:e.split(","),t=i.name||"",l=(i.type||"").toLowerCase(),s=l.replace(/\/.*$/,"");return n.some(r=>{const f=r.trim().toLowerCase();return f.charAt(0)==="."?t.toLowerCase().endsWith(f):f.endsWith("/*")?s===f.replace(/\/.*$/,""):l===f})}return!0}const ll="file-invalid-type",il="file-too-large",rl="file-too-small",sl="too-many-files",ol=i=>{i=Array.isArray(i)&&i.length===1?i[0]:i;const e=Array.isArray(i)?`one of ${i.join(", ")}`:i;return{code:ll,message:`File type must be ${e}`}},dt=i=>({code:il,message:`File is larger than ${i} bytes`}),mt=i=>({code:rl,message:`File is smaller than ${i} bytes`}),fl={code:sl,message:"Too many files"};function al(i,e){const n=i.type==="application/x-moz-file"||nl(i,e);return[n,n?null:ol(e)]}function cl(i,e,n){if(De(i.size))if(De(e)&&De(n)){if(i.size>n)return[!1,dt(n)];if(i.size<e)return[!1,mt(e)]}else{if(De(e)&&i.size<e)return[!1,mt(e)];if(De(n)&&i.size>n)return[!1,dt(n)]}return[!0,null]}function De(i){return i!=null}function _t(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function ze(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!i.target&&!!i.target.files}function ul(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function dl(i){return i.indexOf("Edge/")!==-1}function ml(i=window.navigator.userAgent){return ul(i)||dl(i)}function _l(i){let e,n;return{c(){e=S("p"),n=G("Drag 'n' drop some files here, or click to select files")},l(t){e=A(t,"P",{});var l=O(e);n=K(l,"Drag 'n' drop some files here, or click to select files"),l.forEach(_)},m(t,l){y(t,e,l),I(e,n)},p:X,d(t){t&&_(e)}}}function hl(i){let e,n,t,l,s,r,f;const o=i[33].default,a=je(o,i,i[32],null),u=a||_l();return{c(){e=S("div"),n=S("input"),t=H(),u&&u.c(),this.h()},l(c){e=A(c,"DIV",{tabindex:!0,role:!0,class:!0,style:!0});var d=O(e);n=A(d,"INPUT",{accept:!0,type:!0,name:!0,autocomplete:!0,tabindex:!0,style:!0}),t=P(d),u&&u.l(d),d.forEach(_),this.h()},h(){C(n,"accept",i[1]),n.multiple=i[2],n.required=i[7],C(n,"type","file"),C(n,"name",i[6]),C(n,"autocomplete","off"),C(n,"tabindex","-1"),Ie(n,"display","none"),C(e,"tabindex","0"),C(e,"role","button"),C(e,"class",l=(i[5]?"":"dropzone")+" "+i[3]+" svelte-817dg2"),C(e,"style",i[4])},m(c,d){y(c,e,d),I(e,n),i[34](n),I(e,t),u&&u.m(e,null),i[35](e),s=!0,r||(f=[Z(window,"focus",i[22]),Z(window,"dragover",i[20]),Z(window,"drop",i[21]),Z(n,"change",i[16]),Z(n,"click",gl),Z(e,"keydown",i[18](i[9])),Z(e,"focus",i[18](i[10])),Z(e,"blur",i[18](i[11])),Z(e,"click",i[17](i[12])),Z(e,"dragenter",i[19](i[13])),Z(e,"dragover",i[19](i[14])),Z(e,"dragleave",i[19](i[15])),Z(e,"drop",i[19](i[16]))],r=!0)},p(c,d){(!s||d[0]&2)&&C(n,"accept",c[1]),(!s||d[0]&4)&&(n.multiple=c[2]),(!s||d[0]&128)&&(n.required=c[7]),(!s||d[0]&64)&&C(n,"name",c[6]),a&&a.p&&(!s||d[1]&2)&&Le(a,o,c,c[32],s?Ue(o,c[32],d,null):Re(c[32]),null),(!s||d[0]&40&&l!==(l=(c[5]?"":"dropzone")+" "+c[3]+" svelte-817dg2"))&&C(e,"class",l),(!s||d[0]&16)&&C(e,"style",c[4])},i(c){s||(p(u,c),s=!0)},o(c){w(u,c),s=!1},d(c){c&&_(e),i[34](null),u&&u.d(c),i[35](null),r=!1,nn(f)}}}function gl(i){i.stopPropagation()}function bl(i,e,n){let{$$slots:t={},$$scope:l}=e,{accept:s}=e,{disabled:r=!1}=e,{getFilesFromEvent:f=Jn}=e,{maxSize:o=1/0}=e,{minSize:a=0}=e,{multiple:u=!0}=e,{preventDropOnDocument:c=!0}=e,{noClick:d=!1}=e,{noKeyboard:g=!1}=e,{noDrag:E=!1}=e,{noDragEventsBubbling:m=!1}=e,{containerClasses:b=""}=e,{containerStyles:k=""}=e,{disableDefaultStyles:v=!1}=e,{name:h=""}=e,{inputElement:D}=e,{required:M=!1}=e;const F=Ne();let T={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},B;function W(){T.isFileDialogActive=!1,T.isDragActive=!1,T.draggedFiles=[],T.acceptedFiles=[],T.fileRejections=[]}function V(){D&&(n(0,D.value=null,D),T.isFileDialogActive=!0,D.click())}function z(N){!B||!B.isEqualNode(N.target)||(N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),V())}function ne(){T.isFocused=!0}function ue(){T.isFocused=!1}function de(){d||(ml()?setTimeout(V,0):V())}function he(N){N.preventDefault(),ge(N),ce=[...ce,N.target],ze(N)&&Promise.resolve(f(N)).then(me=>{_t(N)&&!m||(T.draggedFiles=me,T.isDragActive=!0,F("dragenter",{dragEvent:N}))})}function Q(N){if(N.preventDefault(),ge(N),N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return ze(N)&&F("dragover",{dragEvent:N}),!1}function Ve(N){N.preventDefault(),ge(N);const me=ce.filter(_e=>B&&B.contains(_e)),oe=me.indexOf(N.target);oe!==-1&&me.splice(oe,1),ce=me,!(me.length>0)&&(T.isDragActive=!1,T.draggedFiles=[],ze(N)&&F("dragleave",{dragEvent:N}))}function Oe(N){N.preventDefault(),ge(N),ce=[],ze(N)&&(F("filedropped",{event:N}),Promise.resolve(f(N)).then(me=>{if(_t(N)&&!m)return;const oe=[],_e=[];me.forEach(we=>{const[un,dn]=al(we,s),[mn,_n]=cl(we,a,o);if(un&&mn)oe.push(we);else{const hn=[dn,_n].filter(gn=>gn);_e.push({file:we,errors:hn})}}),!u&&oe.length>1&&(oe.forEach(we=>{_e.push({file:we,errors:[fl]})}),oe.splice(0)),N.dataTransfer&&n(0,D.files=N.dataTransfer.files,D),T.acceptedFiles=oe,T.fileRejections=_e,F("drop",{acceptedFiles:oe,fileRejections:_e,event:N}),_e.length>0&&F("droprejected",{fileRejections:_e,event:N}),oe.length>0&&F("dropaccepted",{acceptedFiles:oe,event:N})})),W()}function ke(N){return r?null:N}function Be(N){return g?null:ke(N)}function Me(N){return E?null:ke(N)}function ge(N){m&&N.stopPropagation()}function Ce(N){c&&N.preventDefault()}let ce=[];function He(N){c&&(B&&B.contains(N.target)||(N.preventDefault(),ce=[]))}function Pe(){T.isFileDialogActive&&setTimeout(()=>{if(D){const{files:N}=D;N.length||(T.isFileDialogActive=!1,F("filedialogcancel"))}},300)}bn(()=>{n(0,D=null)});function an(N){be[N?"unshift":"push"](()=>{D=N,n(0,D)})}function cn(N){be[N?"unshift":"push"](()=>{B=N,n(8,B)})}return i.$$set=N=>{"accept"in N&&n(1,s=N.accept),"disabled"in N&&n(23,r=N.disabled),"getFilesFromEvent"in N&&n(24,f=N.getFilesFromEvent),"maxSize"in N&&n(25,o=N.maxSize),"minSize"in N&&n(26,a=N.minSize),"multiple"in N&&n(2,u=N.multiple),"preventDropOnDocument"in N&&n(27,c=N.preventDropOnDocument),"noClick"in N&&n(28,d=N.noClick),"noKeyboard"in N&&n(29,g=N.noKeyboard),"noDrag"in N&&n(30,E=N.noDrag),"noDragEventsBubbling"in N&&n(31,m=N.noDragEventsBubbling),"containerClasses"in N&&n(3,b=N.containerClasses),"containerStyles"in N&&n(4,k=N.containerStyles),"disableDefaultStyles"in N&&n(5,v=N.disableDefaultStyles),"name"in N&&n(6,h=N.name),"inputElement"in N&&n(0,D=N.inputElement),"required"in N&&n(7,M=N.required),"$$scope"in N&&n(32,l=N.$$scope)},[D,s,u,b,k,v,h,M,B,z,ne,ue,de,he,Q,Ve,Oe,ke,Be,Me,Ce,He,Pe,r,f,o,a,c,d,g,E,m,l,t,an,cn]}class pl extends ${constructor(e){super(),x(this,e,bl,hl,ee,{accept:1,disabled:23,getFilesFromEvent:24,maxSize:25,minSize:26,multiple:2,preventDropOnDocument:27,noClick:28,noKeyboard:29,noDrag:30,noDragEventsBubbling:31,containerClasses:3,containerStyles:4,disableDefaultStyles:5,name:6,inputElement:0,required:7},null,[-1,-1])}}function ht(i,e,n){const t=i.slice();return t[15]=e[n],t}function vl(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function kl(i){let e,n,t,l,s,r;return n=new pl({props:{accept:i[2].accept,multiple:i[2].multiple,maxSize:i[0],$$slots:{default:[wl]},$$scope:{ctx:i}}}),n.$on("drop",i[3]),s=new le({props:{icon:Mn}}),{c(){e=S("div"),j(n.$$.fragment),t=H(),l=S("button"),j(s.$$.fragment),this.h()},l(f){e=A(f,"DIV",{});var o=O(e);L(n.$$.fragment,o),o.forEach(_),t=P(f),l=A(f,"BUTTON",{id:!0,color:!0,style:!0});var a=O(l);L(s.$$.fragment,a),a.forEach(_),this.h()},h(){C(l,"id",i[1]),C(l,"color","primary"),Ie(l,"display","none")},m(f,o){y(f,e,o),R(n,e,null),y(f,t,o),y(f,l,o),R(s,l,null),r=!0},p(f,o){const a={};o&4&&(a.accept=f[2].accept),o&4&&(a.multiple=f[2].multiple),o&1&&(a.maxSize=f[0]),o&262148&&(a.$$scope={dirty:o,ctx:f}),n.$set(a),(!r||o&2)&&C(l,"id",f[1])},i(f){r||(p(n.$$.fragment,f),p(s.$$.fragment,f),r=!0)},o(f){w(n.$$.fragment,f),w(s.$$.fragment,f),r=!1},d(f){f&&_(e),U(n),f&&_(t),f&&_(l),U(s)}}}function gt(i){let e,n=i[2].accept,t=[];for(let l=0;l<n.length;l+=1)t[l]=bt(ht(i,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=q()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=q()},m(l,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(l,s);y(l,e,s)},p(l,s){if(s&4){n=l[2].accept;let r;for(r=0;r<n.length;r+=1){const f=ht(l,n,r);t[r]?t[r].p(f,s):(t[r]=bt(f),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){ve(t,l),l&&_(e)}}}function bt(i){let e=i[15]+"",n,t;return{c(){n=G(e),t=G(" ,")},l(l){n=K(l,e),t=K(l," ,")},m(l,s){y(l,n,s),y(l,t,s)},p(l,s){s&4&&e!==(e=l[15]+"")&&te(n,e)},d(l){l&&_(n),l&&_(t)}}}function wl(i){let e,n,t,l,s,r,f,o,a,u=i[2].maxSize+"",c,d,g,E,m;n=new le({props:{icon:En}});let b=i[2].accept&&gt(i);return{c(){e=S("b"),j(n.$$.fragment),t=H(),l=S("span"),s=S("b"),r=G("Drag 'n' drop some files here, or click to select files"),f=H(),o=S("b"),a=G("max file : "),c=G(u),d=G(" mb"),g=H(),E=S("p"),b&&b.c(),this.h()},l(k){e=A(k,"B",{style:!0});var v=O(e);L(n.$$.fragment,v),v.forEach(_),t=P(k),l=A(k,"SPAN",{});var h=O(l);s=A(h,"B",{});var D=O(s);r=K(D,"Drag 'n' drop some files here, or click to select files"),D.forEach(_),f=P(h),o=A(h,"B",{});var M=O(o);a=K(M,"max file : "),c=K(M,u),d=K(M," mb"),M.forEach(_),h.forEach(_),g=P(k),E=A(k,"P",{});var F=O(E);b&&b.l(F),F.forEach(_),this.h()},h(){Ie(e,"font-size","xx-large")},m(k,v){y(k,e,v),R(n,e,null),y(k,t,v),y(k,l,v),I(l,s),I(s,r),I(l,f),I(l,o),I(o,a),I(o,c),I(o,d),y(k,g,v),y(k,E,v),b&&b.m(E,null),m=!0},p(k,v){(!m||v&4)&&u!==(u=k[2].maxSize+"")&&te(c,u),k[2].accept?b?b.p(k,v):(b=gt(k),b.c(),b.m(E,null)):b&&(b.d(1),b=null)},i(k){m||(p(n.$$.fragment,k),m=!0)},o(k){w(n.$$.fragment,k),m=!1},d(k){k&&_(e),U(n),k&&_(t),k&&_(l),k&&_(g),k&&_(E),b&&b.d()}}}function El(i){let e,n,t,l,s,r;const f=[kl,vl],o=[];function a(u,c){return u[2]?0:1}return n=a(i),t=o[n]=f[n](i),{c(){e=S("form"),t.c()},l(u){e=A(u,"FORM",{});var c=O(e);t.l(c),c.forEach(_)},m(u,c){y(u,e,c),o[n].m(e,null),l=!0,s||(r=Z(e,"submit",pn(i[4])),s=!0)},p(u,[c]){let d=n;n=a(u),n===d?o[n].p(u,c):(Y(),w(o[d],1,1,()=>{o[d]=null}),J(),t=o[n],t?t.p(u,c):(t=o[n]=f[n](u),t.c()),p(t,1),t.m(e,null))},i(u){l||(p(t),l=!0)},o(u){w(t),l=!1},d(u){u&&_(e),o[n].d(),s=!1,r()}}}function Dl(i){let e="";e=i.file.path+" : ";let n=i.errors;for(let t=0;t<n.length;t++){const l=n[t];e+=l.message}return e}function Il(i,e,n){let t,l,{id:s=0}=e,{version:r=1}=e,{start:f=""}=e,{submit:o=""}=e,{context:a=""}=e,{data:u}=e,c=0;const d=Ne();let g={accepted:[],rejected:[]};fe(async()=>{console.log("fileupload - OnMount",u),u?n(2,t=u):E(),t&&(n(1,l+=a),n(0,c=t.maxSize*1024*1024))});async function E(){let k=f+"?id="+s+"&version="+r;const v=await pe.get(k);n(2,t=await v.data()),console.log("fileupload",t)}function m(k){var D;console.log("handleFilesSelect",k),console.log("files",g);const{acceptedFiles:v,fileRejections:h}=k.detail;if(n(11,g.accepted=[...g.accepted,...v],g),n(11,g.rejected=[...g.rejected,...h],g),console.log("acceptedFiles",v),console.log("files.accepted",g.accepted),h.length>0){console.log("the dropped file is not supported."),console.log(g.rejected);let M=[""];for(let F=0;F<h.length;F++){const T=h[F];M.push(Dl(T))}console.log(M),d("error",{messages:M}),n(11,g.rejected=[],g)}v.length>0&&((D=document.getElementById(l))==null||D.click())}async function b(){console.log("SUBMIT"),d("submit");let k=o+"?id="+s;if(console.log("SUBMIT"),g.accepted.length>0){console.log(g);const h=new FormData;h.append("files","123");for(var v=0;v<g.accepted.length;v++)h.append(g.accepted[v].name,g.accepted[v]);if((await pe.post(k,h)).status==200){d("submited");let M=g.accepted.length+" is/are uploaded";d("success",{text:M}),n(11,g.accepted=[],g)}}}return i.$$set=k=>{"id"in k&&n(5,s=k.id),"version"in k&&n(6,r=k.version),"start"in k&&n(7,f=k.start),"submit"in k&&n(8,o=k.submit),"context"in k&&n(9,a=k.context),"data"in k&&n(10,u=k.data)},i.$$.update=()=>{i.$$.dirty&1024&&n(2,t=u),i.$$.dirty&2048},n(1,l="submit"),[c,l,t,m,b,s,r,f,o,a,u,g]}class Fl extends ${constructor(e){super(),x(this,e,Il,El,ee,{id:5,version:6,start:7,submit:8,context:9,data:10})}}const Tl=i=>({}),pt=i=>({});function vt(i){let e,n,t,l,s,r,f,o,a,u,c,d,g=i[0]&&kt(i);const E=i[6].default,m=je(E,i,i[5],null),b=i[6].actions,k=je(b,i,i[5],pt);let v=i[3]&&wt(i);return{c(){e=S("aside"),n=S("div"),g&&g.c(),t=H(),l=S("p"),s=G(i[1]),r=H(),m&&m.c(),f=H(),o=S("div"),k&&k.c(),a=H(),v&&v.c(),this.h()},l(h){e=A(h,"ASIDE",{class:!0});var D=O(e);n=A(D,"DIV",{class:!0});var M=O(n);g&&g.l(M),t=P(M),l=A(M,"P",{});var F=O(l);s=K(F,i[1]),r=P(F),m&&m.l(F),F.forEach(_),M.forEach(_),f=P(D),o=A(D,"DIV",{class:!0});var T=O(o);k&&k.l(T),a=P(T),v&&v.l(T),T.forEach(_),D.forEach(_),this.h()},h(){C(n,"class","alert-message"),C(o,"class","alert-actions"),C(e,"class",u="alert "+i[2])},m(h,D){y(h,e,D),I(e,n),g&&g.m(n,null),I(n,t),I(n,l),I(l,s),I(l,r),m&&m.m(l,null),I(e,f),I(e,o),k&&k.m(o,null),I(o,a),v&&v.m(o,null),d=!0},p(h,D){h[0]?g?g.p(h,D):(g=kt(h),g.c(),g.m(n,t)):g&&(g.d(1),g=null),(!d||D&2)&&te(s,h[1]),m&&m.p&&(!d||D&32)&&Le(m,E,h,h[5],d?Ue(E,h[5],D,null):Re(h[5]),null),k&&k.p&&(!d||D&32)&&Le(k,b,h,h[5],d?Ue(b,h[5],D,Tl):Re(h[5]),pt),h[3]?v?(v.p(h,D),D&8&&p(v,1)):(v=wt(h),v.c(),p(v,1),v.m(o,null)):v&&(Y(),w(v,1,1,()=>{v=null}),J()),(!d||D&4&&u!==(u="alert "+h[2]))&&C(e,"class",u)},i(h){d||(p(m,h),p(k,h),p(v),h&&vn(()=>{d&&(c||(c=xe(e,tt,{duration:100},!0)),c.run(1))}),d=!0)},o(h){w(m,h),w(k,h),w(v),h&&(c||(c=xe(e,tt,{duration:100},!1)),c.run(0)),d=!1},d(h){h&&_(e),g&&g.d(),m&&m.d(h),k&&k.d(h),v&&v.d(),h&&c&&c.end()}}}function kt(i){let e,n;return{c(){e=S("h3"),n=G(i[0]),this.h()},l(t){e=A(t,"H3",{class:!0});var l=O(e);n=K(l,i[0]),l.forEach(_),this.h()},h(){C(e,"class","h3")},m(t,l){y(t,e,l),I(e,n)},p(t,l){l&1&&te(n,t[0])},d(t){t&&_(e)}}}function wt(i){let e,n,t,l,s;return n=new le({props:{icon:Dn}}),{c(){e=S("button"),j(n.$$.fragment),this.h()},l(r){e=A(r,"BUTTON",{class:!0});var f=O(e);L(n.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"class","btn hover:text-primary-100")},m(r,f){y(r,e,f),R(n,e,null),t=!0,l||(s=Z(e,"click",i[7]),l=!0)},p:X,i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){w(n.$$.fragment,r),t=!1},d(r){r&&_(e),U(n),l=!1,s()}}}function yl(i){let e,n,t=i[4]&&vt(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[4]?t?(t.p(l,s),s&16&&p(t,1)):(t=vt(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}function Nl(i,e,n){let t,{$$slots:l={},$$scope:s}=e,{title:r=""}=e,{message:f=""}=e,{cssClass:o=""}=e,{deleteBtn:a=!0}=e;const u=()=>n(4,t=!1);return i.$$set=c=>{"title"in c&&n(0,r=c.title),"message"in c&&n(1,f=c.message),"cssClass"in c&&n(2,o=c.cssClass),"deleteBtn"in c&&n(3,a=c.deleteBtn),"$$scope"in c&&n(5,s=c.$$scope)},n(4,t=!0),[r,f,o,a,t,s,l,u]}class fn extends ${constructor(e){super(),x(this,e,Nl,yl,ee,{title:0,message:1,cssClass:2,deleteBtn:3})}}const Et=async i=>{console.log("edit",i);try{const e=await pe.get("/dcm/edit/load?id="+i);return console.log(e),e.data}catch(e){console.error("error",e)}},Sl=async(i,e,n,t)=>{try{return(await pe.post(i,{id:e,file:n,description:t})).data}catch(l){console.error(l)}},Al=async(i,e,n)=>{try{return console.log("remove"),console.log(i),console.log(e),console.log(n),(await pe.post(i,{id:e,file:n})).data}catch(t){console.error(t)}};function Vl(i){let e,n,t,l,s,r,f,o,a;function u(d){i[3](d)}let c={};return i[0]!==void 0&&(c.value=i[0]),f=new rn({props:c}),be.push(()=>Fe(f,"value",u)),{c(){e=S("div"),n=S("div"),t=S("h4"),l=G("Title"),s=H(),r=S("div"),j(f.$$.fragment),this.h()},l(d){e=A(d,"DIV",{class:!0});var g=O(e);n=A(g,"DIV",{class:!0});var E=O(n);t=A(E,"H4",{class:!0});var m=O(t);l=K(m,"Title"),m.forEach(_),E.forEach(_),s=P(g),r=A(g,"DIV",{class:!0});var b=O(r);L(f.$$.fragment,b),b.forEach(_),g.forEach(_),this.h()},h(){C(t,"class","h4"),C(n,"class","flex gap-2 text-center"),C(r,"class","col-span-2"),C(e,"class","grid p-5 m-2 grid-cols-6")},m(d,g){y(d,e,g),I(e,n),I(n,t),I(t,l),I(e,s),I(e,r),R(f,r,null),a=!0},p(d,[g]){const E={};!o&&g&1&&(o=!0,E.value=d[0],Te(()=>o=!1)),f.$set(E)},i(d){a||(p(f.$$.fragment,d),a=!0)},o(d){w(f.$$.fragment,d),a=!1},d(d){d&&_(e),U(f)}}}function Ol(i,e,n){let{id:t}=e,{version:l}=e,{title:s=""}=e;function r(f){s=f,n(0,s)}return i.$$set=f=>{"id"in f&&n(1,t=f.id),"version"in f&&n(2,l=f.version),"title"in f&&n(0,s=f.title)},[s,t,l,r]}class Bl extends ${constructor(e){super(),x(this,e,Ol,Vl,ee,{id:1,version:2,title:0})}}function Ml(i){let e,n=i[1].toUpperCase()+"",t,l,s,r;return{c(){e=S("div"),t=G(n),this.h()},l(f){e=A(f,"DIV",{class:!0,title:!0});var o=O(e);t=K(o,n),o.forEach(_),this.h()},h(){C(e,"class",l="mb-3 hook-status-"+i[0]+" hook"),C(e,"title",i[2]),et(e,"inactive",!i[4])},m(f,o){y(f,e,o),I(e,t),s||(r=Z(e,"click",i[5]),s=!0)},p(f,o){o&2&&n!==(n=f[1].toUpperCase()+"")&&te(t,n),o&1&&l!==(l="mb-3 hook-status-"+f[0]+" hook")&&C(e,"class",l),o&4&&C(e,"title",f[2]),o&17&&et(e,"inactive",!f[4])},d(f){f&&_(e),s=!1,r()}}}function Cl(i){let e,n=i[3]&&Ml(i);return{c(){n&&n.c(),e=q()},l(t){n&&n.l(t),e=q()},m(t,l){n&&n.m(t,l),y(t,e,l)},p(t,[l]){t[3]&&n.p(t,l)},i:X,o:X,d(t){n&&n.d(t),t&&_(e)}}}function Hl(i){return!(i==0||i==1)}function Pl(i){return!(i==0||i==1||i==5)}function zl(i,e,n){let{status:t=0}=e,{displayName:l=""}=e,{description:s=""}=e;const r=Hl(t),f=Pl(t);console.log(f);function o(a){Je.call(this,i,a)}return i.$$set=a=>{"status"in a&&n(0,t=a.status),"displayName"in a&&n(1,l=a.displayName),"description"in a&&n(2,s=a.description)},[t,l,s,r,f,o]}class jl extends ${constructor(e){super(),x(this,e,zl,Cl,ee,{status:0,displayName:1,description:2})}}const Ke=Ze(0),We=Ze(0),Ll={[""]:0},Qe=Ze(Ll),Rl=i=>({}),Dt=i=>({errorHandler:i[6],successHandler:i[7],warningHandler:Gl});function It(i,e,n){const t=i.slice();return t[14]=e[n],t}function Ft(i){let e,n,t,l,s,r,f,o,a,u,c=i[4]&&Tt(i),d=i[3]&&Nt(i);const g=i[12].view,E=je(g,i,i[11],Dt),m=E||Ul();return{c(){e=S("div"),n=S("div"),t=S("h4"),l=G(i[0]),s=H(),r=S("div"),c&&c.c(),f=H(),d&&d.c(),o=H(),m&&m.c(),this.h()},l(b){e=A(b,"DIV",{class:!0});var k=O(e);n=A(k,"DIV",{class:!0});var v=O(n);t=A(v,"H4",{class:!0});var h=O(t);l=K(h,i[0]),h.forEach(_),v.forEach(_),s=P(k),r=A(k,"DIV",{class:!0});var D=O(r);c&&c.l(D),f=P(D),d&&d.l(D),o=P(D),m&&m.l(D),D.forEach(_),k.forEach(_),this.h()},h(){C(t,"class","h5"),C(n,"class","flex gap-2 text-center"),C(r,"class","col-span-5"),C(e,"class",a="grid p-5 m-2 grid-cols-6 "+i[2])},m(b,k){y(b,e,k),I(e,n),I(n,t),I(t,l),I(e,s),I(e,r),c&&c.m(r,null),I(r,f),d&&d.m(r,null),I(r,o),m&&m.m(r,null),u=!0},p(b,k){(!u||k&1)&&te(l,b[0]),b[4]?c?(c.p(b,k),k&16&&p(c,1)):(c=Tt(b),c.c(),p(c,1),c.m(r,f)):c&&(Y(),w(c,1,1,()=>{c=null}),J()),b[3]?d?(d.p(b,k),k&8&&p(d,1)):(d=Nt(b),d.c(),p(d,1),d.m(r,o)):d&&(Y(),w(d,1,1,()=>{d=null}),J()),E&&E.p&&(!u||k&2048)&&Le(E,g,b,b[11],u?Ue(g,b[11],k,Rl):Re(b[11]),Dt),(!u||k&4&&a!==(a="grid p-5 m-2 grid-cols-6 "+b[2]))&&C(e,"class",a)},i(b){u||(p(c),p(d),p(m,b),u=!0)},o(b){w(c),w(d),w(m,b),u=!1},d(b){b&&_(e),c&&c.d(),d&&d.d(),m&&m.d(b)}}}function Tt(i){let e,n,t=i[4],l=[];for(let r=0;r<t.length;r+=1)l[r]=yt(It(i,t,r));const s=r=>w(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=q()},l(r){for(let f=0;f<l.length;f+=1)l[f].l(r);e=q()},m(r,f){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,f);y(r,e,f),n=!0},p(r,f){if(f&16){t=r[4];let o;for(o=0;o<t.length;o+=1){const a=It(r,t,o);l[o]?(l[o].p(a,f),p(l[o],1)):(l[o]=yt(a),l[o].c(),p(l[o],1),l[o].m(e.parentNode,e))}for(Y(),o=t.length;o<l.length;o+=1)s(o);J()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)p(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)w(l[f]);n=!1},d(r){ve(l,r),r&&_(e)}}}function yt(i){let e,n;return e=new fn({props:{cssClass:"variant-filled-error",message:i[14]}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.message=t[14]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Nt(i){let e,n;return e=new fn({props:{cssClass:"variant-filled-success",message:i[3]}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.message=t[3]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ul(i){let e;return{c(){e=G("render view")},l(n){e=K(n,"render view")},m(n,t){y(n,e,t)},d(n){n&&_(e)}}}function ql(i){let e,n,t=i[1]&&i[5]&&Ft(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[1]&&l[5]?t?(t.p(l,s),s&34&&p(t,1)):(t=Ft(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}function Gl(i){console.log("handle warnings here"),console.log(i.detail.text)}function Kl(i){return!(i==0||i==1||i==5)}function Wl(i,e,n){let t,l,s,{$$slots:r={},$$scope:f}=e,{name:o}=e,{displayName:a}=e,{content:u=9}=e,{visible:c=!0}=e,{status:d=0}=e,{color:g=""}=e;fe(async()=>{Qe.subscribe(b=>{b[o]!=null&&n(5,s=Kl(b[o]))})});function E(b){console.log("handle errors here"),console.log(b.detail.messages),n(4,t=b.detail.messages)}function m(b){console.log("handle success here"),console.log(b.detail.text),n(3,l=b.detail.text)}return i.$$set=b=>{"name"in b&&n(8,o=b.name),"displayName"in b&&n(0,a=b.displayName),"content"in b&&n(9,u=b.content),"visible"in b&&n(1,c=b.visible),"status"in b&&n(10,d=b.status),"color"in b&&n(2,g=b.color),"$$scope"in b&&n(11,f=b.$$scope)},n(4,t=[]),n(3,l=null),n(5,s=!1),[a,c,g,l,t,s,E,m,o,u,d,f,r]}class Ee extends ${constructor(e){super(),x(this,e,Wl,ql,ee,{name:8,displayName:0,content:9,visible:1,status:10,color:2})}}const Ye=async(i,e,n)=>{try{const t=i+"?id="+e+"&version="+n;return(await pe.get(t)).data}catch(t){console.error(t)}};function St(i,e,n){const t=i.slice();return t[13]=e[n],t}function At(i,e,n){const t=i.slice();return t[16]=e[n],t}function Yl(i){let e,n;return e=new ae({props:{color:"info",size:"sm",type:"grow","text-center":!0}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Jl(i){let e;function n(s,r){return s[0].isValid==!0?Ql:Xl}let t=n(i),l=t(i);return{c(){l.c(),e=q()},l(s){l.l(s),e=q()},m(s,r){l.m(s,r),y(s,e,r)},p(s,r){t===(t=n(s))&&l?l.p(s,r):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:X,o:X,d(s){l.d(s),s&&_(e)}}}function Xl(i){let e,n,t,l,s,r,f,o,a,u,c,d,g,E,m=i[0].fileErrors&&Vt(i);return{c(){e=S("aside"),n=S("div"),t=G("not valid"),l=H(),m&&m.c(),s=H(),r=S("br"),f=H(),o=S("button"),a=G("open reader informations"),u=H(),c=S("p"),d=G("modal missing"),this.h()},l(b){e=A(b,"ASIDE",{class:!0});var k=O(e);n=A(k,"DIV",{class:!0});var v=O(n);t=K(v,"not valid"),v.forEach(_),k.forEach(_),l=P(b),m&&m.l(b),s=P(b),r=A(b,"BR",{}),f=P(b),o=A(b,"BUTTON",{class:!0});var h=O(o);a=K(h,"open reader informations"),h.forEach(_),u=P(b),c=A(b,"P",{});var D=O(c);d=K(D,"modal missing"),D.forEach(_),this.h()},h(){C(n,"class","alert-message"),C(e,"class","alert variant-filled-error"),C(o,"class","btn bg-primary-500")},m(b,k){y(b,e,k),I(e,n),I(n,t),y(b,l,k),m&&m.m(b,k),y(b,s,k),y(b,r,k),y(b,f,k),y(b,o,k),I(o,a),y(b,u,k),y(b,c,k),I(c,d),g||(E=Z(o,"click",i[1]),g=!0)},p(b,k){b[0].fileErrors?m?m.p(b,k):(m=Vt(b),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},d(b){b&&_(e),b&&_(l),m&&m.d(b),b&&_(s),b&&_(r),b&&_(f),b&&_(o),b&&_(u),b&&_(c),g=!1,E()}}}function Ql(i){let e,n,t;return{c(){e=S("aside"),n=S("div"),t=G("valid"),this.h()},l(l){e=A(l,"ASIDE",{class:!0});var s=O(e);n=A(s,"DIV",{class:!0});var r=O(n);t=K(r,"valid"),r.forEach(_),s.forEach(_),this.h()},h(){C(n,"class","alert-message"),C(e,"class","alert variant-filled-success")},m(l,s){y(l,e,s),I(e,n),I(n,t)},p:X,d(l){l&&_(e)}}}function Vt(i){let e,n=i[0].fileErrors,t=[];for(let l=0;l<n.length;l+=1)t[l]=Bt(St(i,n,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=q()},l(l){for(let s=0;s<t.length;s+=1)t[s].l(l);e=q()},m(l,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(l,s);y(l,e,s)},p(l,s){if(s&1){n=l[0].fileErrors;let r;for(r=0;r<n.length;r+=1){const f=St(l,n,r);t[r]?t[r].p(f,s):(t[r]=Bt(f),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){ve(t,l),l&&_(e)}}}function Ot(i){let e,n=i[16]+"",t;return{c(){e=S("li"),t=G(n)},l(l){e=A(l,"LI",{});var s=O(e);t=K(s,n),s.forEach(_)},m(l,s){y(l,e,s),I(e,t)},p(l,s){s&1&&n!==(n=l[16]+"")&&te(t,n)},d(l){l&&_(e)}}}function Bt(i){let e,n,t,l=i[13].file+"",s,r,f,o,a=i[13].errors,u=[];for(let c=0;c<a.length;c+=1)u[c]=Ot(At(i,a,c));return{c(){e=S("hr"),n=H(),t=S("b"),s=G(l),r=H(),f=S("ul");for(let c=0;c<u.length;c+=1)u[c].c();o=H()},l(c){e=A(c,"HR",{}),n=P(c),t=A(c,"B",{});var d=O(t);s=K(d,l),d.forEach(_),r=P(c),f=A(c,"UL",{});var g=O(f);for(let E=0;E<u.length;E+=1)u[E].l(g);o=P(g),g.forEach(_)},m(c,d){y(c,e,d),y(c,n,d),y(c,t,d),I(t,s),y(c,r,d),y(c,f,d);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(f,null);I(f,o)},p(c,d){if(d&1&&l!==(l=c[13].file+"")&&te(s,l),d&1){a=c[13].errors;let g;for(g=0;g<a.length;g+=1){const E=At(c,a,g);u[g]?u[g].p(E,d):(u[g]=Ot(E),u[g].c(),u[g].m(f,o))}for(;g<u.length;g+=1)u[g].d(1);u.length=a.length}},d(c){c&&_(e),c&&_(n),c&&_(t),c&&_(r),c&&_(f),ve(u,c)}}}function Zl(i){let e,n,t,l;const s=[Jl,Yl],r=[];function f(o,a){return o[0]?0:1}return e=f(i),n=r[e]=s[e](i),{c(){n.c(),t=q()},l(o){n.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),l=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),w(r[u],1,1,()=>{r[u]=null}),J(),n=r[e],n?n.p(o,a):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){w(n),l=!1},d(o){r[e].d(o),o&&_(t)}}}function $l(i,e,n){let t,l;ye(i,We,m=>n(8,t=m)),ye(i,Ke,m=>n(9,l=m));let{id:s=0}=e,{version:r=1}=e,{status:f=0}=e,{displayName:o=""}=e,{start:a=""}=e,{description:u=""}=e,c;fe(async()=>{d()});async function d(){n(0,c=await Ye(a,s,r)),console.log("validation",c)}async function g(){d()}const E=()=>{};return i.$$set=m=>{"id"in m&&n(2,s=m.id),"version"in m&&n(3,r=m.version),"status"in m&&n(4,f=m.status),"displayName"in m&&n(5,o=m.displayName),"start"in m&&n(6,a=m.start),"description"in m&&n(7,u=m.description)},i.$$.update=()=>{i.$$.dirty&512&&g(),i.$$.dirty&256&&g()},[c,E,s,r,f,o,a,u,t,l]}class xl extends ${constructor(e){super(),x(this,e,$l,Zl,ee,{id:2,version:3,status:4,displayName:5,start:6,description:7})}}function Mt(i){let e,n,t,l,s,r,f,o,a,u,c,d,g,E,m,b,k,v;t=new Un({props:{type:i[2],size:"x-large"}});const h=[ti,ei],D=[];function M(T,B){return T[3]?0:1}a=M(i),u=D[a]=h[a](i),E=new le({props:{icon:ln}});let F=i[4]&&Ct();return{c(){e=S("div"),n=S("div"),j(t.$$.fragment),l=H(),s=S("div"),r=G(i[1]),o=H(),u.c(),c=H(),d=S("div"),g=S("button"),j(E.$$.fragment),m=H(),F&&F.c(),this.h()},l(T){e=A(T,"DIV",{class:!0});var B=O(e);n=A(B,"DIV",{class:!0});var W=O(n);L(t.$$.fragment,W),W.forEach(_),l=P(B),s=A(B,"DIV",{class:!0});var V=O(s);r=K(V,i[1]),V.forEach(_),o=P(B),u.l(B),c=P(B),d=A(B,"DIV",{class:!0});var z=O(d);g=A(z,"BUTTON",{class:!0});var ne=O(g);L(E.$$.fragment,ne),ne.forEach(_),m=P(z),F&&F.l(z),z.forEach(_),B.forEach(_),this.h()},h(){C(n,"class","self-center"),C(s,"class",f=i[5]+" self-center"),C(g,"class","btn"),C(d,"class","text-right"),C(e,"class","grid grid-cols-10")},m(T,B){y(T,e,B),I(e,n),R(t,n,null),I(e,l),I(e,s),I(s,r),I(e,o),D[a].m(e,null),I(e,c),I(e,d),I(d,g),R(E,g,null),I(d,m),F&&F.m(d,null),b=!0,k||(v=Z(g,"click",i[14]),k=!0)},p(T,B){const W={};B&4&&(W.type=T[2]),t.$set(W),(!b||B&2)&&te(r,T[1]),(!b||B&32&&f!==(f=T[5]+" self-center"))&&C(s,"class",f);let V=a;a=M(T),a===V?D[a].p(T,B):(Y(),w(D[V],1,1,()=>{D[V]=null}),J(),u=D[a],u?u.p(T,B):(u=D[a]=h[a](T),u.c()),p(u,1),u.m(e,c)),T[4]?F?B&16&&p(F,1):(F=Ct(),F.c(),p(F,1),F.m(d,null)):F&&(Y(),w(F,1,1,()=>{F=null}),J())},i(T){b||(p(t.$$.fragment,T),p(u),p(E.$$.fragment,T),p(F),b=!0)},o(T){w(t.$$.fragment,T),w(u),w(E.$$.fragment,T),w(F),b=!1},d(T){T&&_(e),U(t),D[a].d(),U(E),F&&F.d(),k=!1,v()}}}function ei(i){let e;return{c(){e=S("div")},l(n){e=A(n,"DIV",{}),O(e).forEach(_)},m(n,t){y(n,e,t)},p:X,i:X,o:X,d(n){n&&_(e)}}}function ti(i){let e,n,t,l,s;function r(o){i[12](o)}let f={};return i[0]!==void 0&&(f.value=i[0]),n=new rn({props:f}),be.push(()=>Fe(n,"value",r)),n.$on("change",i[13]),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=O(e);L(n.$$.fragment,a),a.forEach(_),this.h()},h(){C(e,"class",l=i[5]+" self-center")},m(o,a){y(o,e,a),R(n,e,null),s=!0},p(o,a){const u={};!t&&a&1&&(t=!0,u.value=o[0],Te(()=>t=!1)),n.$set(u),(!s||a&32&&l!==(l=o[5]+" self-center"))&&C(e,"class",l)},i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){w(n.$$.fragment,o),s=!1},d(o){o&&_(e),U(n)}}}function Ct(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function ni(i){let e,n,t=i[2]&&Mt(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[2]?t?(t.p(l,s),s&4&&p(t,1)):(t=Mt(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}function li(i,e,n){let{id:t}=e,{file:l}=e,{type:s}=e,{description:r}=e,{withDescription:f}=e;const o=Ne();let{save:a}=e,{remove:u}=e,{generateAble:c=!1}=e,d=!1,g="col-span-7";fe(async()=>{n(5,g=f?"col-span-4":"col-span-7")});async function E(){console.log("remove file"),n(4,d=!0);const h=await Al(u,t,l);if(console.log("remove file",h),h==!0){console.log("remove file");let D=l+" removed.";o("removed",{text:D})}n(4,d=!1)}async function m(){await Sl(a,t,l,r);{let h="Description of "+l+" is updated.";o("saved",{text:h})}}function b(h){r=h,n(0,r)}const k=h=>m(),v=h=>E();return i.$$set=h=>{"id"in h&&n(8,t=h.id),"file"in h&&n(1,l=h.file),"type"in h&&n(2,s=h.type),"description"in h&&n(0,r=h.description),"withDescription"in h&&n(3,f=h.withDescription),"save"in h&&n(9,a=h.save),"remove"in h&&n(10,u=h.remove),"generateAble"in h&&n(11,c=h.generateAble)},[r,l,s,f,d,g,E,m,t,a,u,c,b,k,v]}class ii extends ${constructor(e){super(),x(this,e,li,ni,ee,{id:8,file:1,type:2,description:0,withDescription:3,save:9,remove:10,generateAble:11})}}function Ht(i,e,n){const t=i.slice();return t[13]=e[n],t[15]=n,t}function ri(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function si(i){let e,n,t=i[0],l=[];for(let r=0;r<t.length;r+=1)l[r]=Pt(Ht(i,t,r));const s=r=>w(l[r],1,1,()=>{l[r]=null});return{c(){e=S("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var f=O(e);for(let o=0;o<l.length;o+=1)l[o].l(f);f.forEach(_),this.h()},h(){C(e,"class","grid gap-2 divide-y-2 p-3 max-h-[180px] overflow-auto")},m(r,f){y(r,e,f);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);n=!0},p(r,f){if(f&127){t=r[0];let o;for(o=0;o<t.length;o+=1){const a=Ht(r,t,o);l[o]?(l[o].p(a,f),p(l[o],1)):(l[o]=Pt(a),l[o].c(),p(l[o],1),l[o].m(e,null))}for(Y(),o=t.length;o<l.length;o+=1)s(o);J()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)p(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)w(l[f]);n=!1},d(r){r&&_(e),ve(l,r)}}}function Pt(i){let e,n;const t=[{id:i[1]},{file:i[13].name},i[13],{save:i[2]},{remove:i[3]},{withDescription:i[4]}];function l(...r){return i[9](i[15],...r)}let s={};for(let r=0;r<t.length;r+=1)s=ie(s,t[r]);return e=new ii({props:s}),e.$on("removed",l),e.$on("saved",i[6]),{c(){j(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,f){R(e,r,f),n=!0},p(r,f){i=r;const o=f&31?re(t,[f&2&&{id:i[1]},f&1&&{file:i[13].name},f&1&&se(i[13]),f&4&&{save:i[2]},f&8&&{remove:i[3]},f&16&&{withDescription:i[4]}]):{};e.$set(o)},i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){w(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function oi(i){let e,n,t,l;const s=[si,ri],r=[];function f(o,a){return o[0]?0:1}return e=f(i),n=r[e]=s[e](i),{c(){n.c(),t=q()},l(o){n.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),l=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),w(r[u],1,1,()=>{r[u]=null}),J(),n=r[e],n?n.p(o,a):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){w(n),l=!1},d(o){r[e].d(o),o&&_(t)}}}function fi(i,e,n){let{id:t}=e,{files:l}=e,{save:s}=e,{remove:r}=e,{descriptionType:f}=e,o;const a=Ne();let u;fe(async()=>{n(8,u=Date.now()),g(f)});async function c(m,b){console.log("handleRemoveFile",m,b),l.splice(b,1),n(0,l=[...l]),a("success",{text:m.detail.text})}async function d(m){a("success",{text:m.detail.text})}function g(m){m==0&&n(4,o=!1),m==1&&n(4,o=!0),m==2&&n(4,o=!0)}const E=(m,b)=>c(b,m);return i.$$set=m=>{"id"in m&&n(1,t=m.id),"files"in m&&n(0,l=m.files),"save"in m&&n(2,s=m.save),"remove"in m&&n(3,r=m.remove),"descriptionType"in m&&n(7,f=m.descriptionType)},i.$$.update=()=>{i.$$.dirty&256},[l,t,s,r,o,c,d,f,u,E]}class ai extends ${constructor(e){super(),x(this,e,fi,oi,ee,{id:1,files:0,save:2,remove:3,descriptionType:7})}}function ci(i){let e,n,t,l,s,r,f;return t=new le({props:{icon:Cn}}),{c(){e=S("div"),n=S("div"),j(t.$$.fragment),l=H(),s=S("div"),r=G(i[0]),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=O(e);n=A(a,"DIV",{class:!0});var u=O(n);L(t.$$.fragment,u),u.forEach(_),l=P(a),s=A(a,"DIV",{class:!0});var c=O(s);r=K(c,i[0]),c.forEach(_),a.forEach(_),this.h()},h(){C(n,"class","self-center"),C(s,"class","self-center"),C(e,"class","flex gap-1 pb-5")},m(o,a){y(o,e,a),I(e,n),R(t,n,null),I(e,l),I(e,s),I(s,r),f=!0},p(o,[a]){(!f||a&1)&&te(r,o[0])},i(o){f||(p(t.$$.fragment,o),f=!0)},o(o){w(t.$$.fragment,o),f=!1},d(o){o&&_(e),U(t)}}}function ui(i){return i>=10?i.toString():`0${i}`}function di(i){const e=ui(Math.floor(i/1e3/60));return e<60?`${e} min`:"> 60 min"}function mi(i,e,n){let t,l,{milliseconds:s=0}=e;return fe(async()=>{setInterval(()=>{t=new Date,n(0,l=di(t-s))},1e3)}),i.$$set=r=>{"milliseconds"in r&&n(1,s=r.milliseconds)},t=new Date,n(0,l=null),[l,s]}class $e extends ${constructor(e){super(),x(this,e,mi,ci,ee,{milliseconds:1})}}function zt(i){let e,n,t,l,s,r,f=i[2].lastModification&&jt(i);n=new Fl({props:{id:i[0],version:i[1],context:pi,data:i[2],start:i[3],submit:bi}}),n.$on("submited",i[5]),n.$on("submit",i[7]),n.$on("error",i[8]),n.$on("success",i[9]);let o=i[2].existingFiles&&Lt(i),a=i[4]&&Rt();return{c(){f&&f.c(),e=H(),j(n.$$.fragment),t=H(),o&&o.c(),l=H(),a&&a.c(),s=q()},l(u){f&&f.l(u),e=P(u),L(n.$$.fragment,u),t=P(u),o&&o.l(u),l=P(u),a&&a.l(u),s=q()},m(u,c){f&&f.m(u,c),y(u,e,c),R(n,u,c),y(u,t,c),o&&o.m(u,c),y(u,l,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,c){u[2].lastModification?f?(f.p(u,c),c&4&&p(f,1)):(f=jt(u),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(Y(),w(f,1,1,()=>{f=null}),J());const d={};c&1&&(d.id=u[0]),c&2&&(d.version=u[1]),c&4&&(d.data=u[2]),c&8&&(d.start=u[3]),n.$set(d),u[2].existingFiles?o?(o.p(u,c),c&4&&p(o,1)):(o=Lt(u),o.c(),p(o,1),o.m(l.parentNode,l)):o&&(Y(),w(o,1,1,()=>{o=null}),J()),u[4]?a?c&16&&p(a,1):(a=Rt(),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(Y(),w(a,1,1,()=>{a=null}),J())},i(u){r||(p(f),p(n.$$.fragment,u),p(o),p(a),r=!0)},o(u){w(f),w(n.$$.fragment,u),w(o),w(a),r=!1},d(u){f&&f.d(u),u&&_(e),U(n,u),u&&_(t),o&&o.d(u),u&&_(l),a&&a.d(u),u&&_(s)}}}function jt(i){let e,n;return e=new $e({props:{milliseconds:new Date(i[2].lastModification).getTime()}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&4&&(s.milliseconds=new Date(t[2].lastModification).getTime()),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Lt(i){let e,n;return e=new ai({props:{id:i[0],files:i[2].existingFiles,descriptionType:i[2].descriptionType,save:hi,remove:gi}}),e.$on("success",i[5]),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.id=t[0]),l&4&&(s.files=t[2].existingFiles),l&4&&(s.descriptionType=t[2].descriptionType),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Rt(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function _i(i){let e,n,t=i[2]!=null&&zt(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[2]!=null?t?(t.p(l,s),s&4&&p(t,1)):(t=zt(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}let hi="/dcm/fileupload/saveFileDescription",gi="/dcm/fileupload/removefile",bi="/dcm/fileupload/upload",pi="fileupload";function vi(i,e,n){let t,{id:l=0}=e,{version:s=1}=e,{hook:r}=e,f;fe(async()=>{a()});let o="";Ne();async function a(){n(2,f=await Ye(r.start,l,s)),n(3,o=r.start),n(4,t=!1),console.log("FileUploadHook",f)}async function u(){Ke.set(Date.now()),a()}const c=()=>n(4,t=!0);function d(E){Je.call(this,i,E)}function g(E){Je.call(this,i,E)}return i.$$set=E=>{"id"in E&&n(0,l=E.id),"version"in E&&n(1,s=E.version),"hook"in E&&n(6,r=E.hook)},i.$$.update=()=>{i.$$.dirty&4},n(4,t=!1),[l,s,f,o,t,u,r,c,d,g]}class ki extends ${constructor(e){super(),x(this,e,vi,_i,ee,{id:0,version:1,hook:6})}}function Ut(i){let e,n,t;return n=new Hn({props:{items:i[0],groupBy:i[2]}}),n.$on("change",i[1]),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var s=O(e);L(n.$$.fragment,s),s.forEach(_),this.h()},h(){C(e,"class","grid grid-cols-2 py-3")},m(l,s){y(l,e,s),R(n,e,null),t=!0},p(l,s){const r={};s&1&&(r.items=l[0]),n.$set(r)},i(l){t||(p(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&_(e),U(n)}}}function wi(i){let e,n,t=i[0]&&Ut(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[0]?t?(t.p(l,s),s&1&&p(t,1)):(t=Ut(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}function Ei(i,e,n){let t,{id:l=0}=e,{files:s}=e;function r(c){Fn("/dcm/StructureSuggestion/?id="+l+"&file="+c)}let f;function o(){n(0,t=[]),t.push({value:"create new",label:"create new",group:"options"}),s!==null&&s.forEach(c=>t.push({value:c.name,label:c.name,group:"files"}))}fe(async()=>{o(),console.log("select list",t)});function a(c){c.detail.type==="options"?console.log("go to create a datastructure"):r(c.detail.value)}const u=c=>c.group;return i.$$set=c=>{"id"in c&&n(3,l=c.id),"files"in c&&n(4,s=c.files)},n(0,t=f),[t,a,u,l,s]}class Di extends ${constructor(e){super(),x(this,e,Ei,wi,ee,{id:3,files:4})}}const Ii=async(i,e)=>{try{return(await pe.delete("/dcm/datadescription/delete","{id,structureId}")).data}catch(n){console.error(n)}};function qt(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Fi(i){let e,n,t,l,s,r,f,o,a,u,c,d,g,E,m,b,k,v,h;d=new le({props:{icon:ln}});let D=i[3]&&qt();return{c(){e=S("div"),n=S("div"),t=S("h2"),l=G(i[1]),s=G(" ("),r=G(i[0]),f=G(")"),o=H(),a=S("div"),u=S("div"),c=S("button"),j(d.$$.fragment),g=H(),D&&D.c(),E=H(),m=S("p"),b=G(i[2]),this.h()},l(M){e=A(M,"DIV",{class:!0});var F=O(e);n=A(F,"DIV",{});var T=O(n);t=A(T,"H2",{class:!0});var B=O(t);l=K(B,i[1]),s=K(B," ("),r=K(B,i[0]),f=K(B,")"),B.forEach(_),T.forEach(_),o=P(F),a=A(F,"DIV",{});var W=O(a);u=A(W,"DIV",{class:!0});var V=O(u);c=A(V,"BUTTON",{class:!0});var z=O(c);L(d.$$.fragment,z),z.forEach(_),V.forEach(_),g=P(W),D&&D.l(W),W.forEach(_),E=P(F),m=A(F,"P",{});var ne=O(m);b=K(ne,i[2]),ne.forEach(_),F.forEach(_),this.h()},h(){C(t,"class","h2"),C(c,"class","btn bg-warning-500"),C(u,"class","text-end"),C(e,"class","show-datadescription-header-container grid grid-cols-2")},m(M,F){y(M,e,F),I(e,n),I(n,t),I(t,l),I(t,s),I(t,r),I(t,f),I(e,o),I(e,a),I(a,u),I(u,c),R(d,c,null),I(a,g),D&&D.m(a,null),I(e,E),I(e,m),I(m,b),k=!0,v||(h=Z(c,"click",i[4]),v=!0)},p(M,[F]){(!k||F&2)&&te(l,M[1]),(!k||F&1)&&te(r,M[0]),M[3]?D?F&8&&p(D,1):(D=qt(),D.c(),p(D,1),D.m(a,null)):D&&(Y(),w(D,1,1,()=>{D=null}),J()),(!k||F&4)&&te(b,M[2])},i(M){k||(p(d.$$.fragment,M),p(D),k=!0)},o(M){w(d.$$.fragment,M),w(D),k=!1},d(M){M&&_(e),U(d),D&&D.d(),v=!1,h()}}}function Ti(i,e,n){let{id:t}=e,{structureId:l}=e,{title:s}=e,{description:r}=e,f=!1;async function o(){n(3,f=!0);const a=await Ii();console.log(a),(a.success=!0)&&We.set(Date.now),n(3,f=!1)}return i.$$set=a=>{"id"in a&&n(5,t=a.id),"structureId"in a&&n(0,l=a.structureId),"title"in a&&n(1,s=a.title),"description"in a&&n(2,r=a.description)},[l,s,r,f,o,t]}class yi extends ${constructor(e){super(),x(this,e,Ti,Fi,ee,{id:5,structureId:0,title:1,description:2})}}function Gt(i,e,n){const t=i.slice();return t[5]=e[n],t[7]=n,t}function Kt(i){let e,n,t,l,s,r,f,o,a,u,c,d,g,E,m,b,k,v=i[4],h=[];for(let D=0;D<v.length;D+=1)h[D]=Wt(Gt(i,v,D));return{c(){e=S("div"),n=S("table"),t=S("thead"),l=S("tr"),s=S("th"),r=G("Id"),f=H(),o=S("th"),a=G("Name"),u=H(),c=S("th"),d=G("Unit"),g=H(),E=S("th"),m=G("Datatype"),b=H(),k=S("tbody");for(let D=0;D<h.length;D+=1)h[D].c();this.h()},l(D){e=A(D,"DIV",{class:!0});var M=O(e);n=A(M,"TABLE",{class:!0});var F=O(n);t=A(F,"THEAD",{});var T=O(t);l=A(T,"TR",{});var B=O(l);s=A(B,"TH",{});var W=O(s);r=K(W,"Id"),W.forEach(_),f=P(B),o=A(B,"TH",{});var V=O(o);a=K(V,"Name"),V.forEach(_),u=P(B),c=A(B,"TH",{});var z=O(c);d=K(z,"Unit"),z.forEach(_),g=P(B),E=A(B,"TH",{});var ne=O(E);m=K(ne,"Datatype"),ne.forEach(_),B.forEach(_),T.forEach(_),b=P(F),k=A(F,"TBODY",{});var ue=O(k);for(let de=0;de<h.length;de+=1)h[de].l(ue);ue.forEach(_),F.forEach(_),M.forEach(_),this.h()},h(){C(n,"class","table table-compact"),C(e,"class","table-container")},m(D,M){y(D,e,M),I(e,n),I(n,t),I(t,l),I(l,s),I(s,r),I(l,f),I(l,o),I(o,a),I(l,u),I(l,c),I(c,d),I(l,g),I(l,E),I(E,m),I(n,b),I(n,k);for(let F=0;F<h.length;F+=1)h[F]&&h[F].m(k,null)},p(D,M){if(M&16){v=D[4];let F;for(F=0;F<v.length;F+=1){const T=Gt(D,v,F);h[F]?h[F].p(T,M):(h[F]=Wt(T),h[F].c(),h[F].m(k,null))}for(;F<h.length;F+=1)h[F].d(1);h.length=v.length}},d(D){D&&_(e),ve(h,D)}}}function Wt(i){let e,n,t=i[5].id+"",l,s,r,f=i[5].name+"",o,a,u,c=i[5].unit+"",d,g,E,m=i[5].Datatype+"",b,k;return{c(){e=S("tr"),n=S("td"),l=G(t),s=H(),r=S("td"),o=G(f),a=H(),u=S("td"),d=G(c),g=H(),E=S("td"),b=G(m),k=H()},l(v){e=A(v,"TR",{});var h=O(e);n=A(h,"TD",{});var D=O(n);l=K(D,t),D.forEach(_),s=P(h),r=A(h,"TD",{});var M=O(r);o=K(M,f),M.forEach(_),a=P(h),u=A(h,"TD",{});var F=O(u);d=K(F,c),F.forEach(_),g=P(h),E=A(h,"TD",{});var T=O(E);b=K(T,m),T.forEach(_),k=P(h),h.forEach(_)},m(v,h){y(v,e,h),I(e,n),I(n,l),I(e,s),I(e,r),I(r,o),I(e,a),I(e,u),I(u,d),I(e,g),I(e,E),I(E,b),I(e,k)},p(v,h){h&16&&t!==(t=v[5].id+"")&&te(l,t),h&16&&f!==(f=v[5].name+"")&&te(o,f),h&16&&c!==(c=v[5].unit+"")&&te(d,c),h&16&&m!==(m=v[5].Datatype+"")&&te(b,m)},d(v){v&&_(e)}}}function Ni(i){let e,n,t,l;e=new yi({props:{id:i[0],structureId:i[3],title:i[1],description:i[2]}});let s=i[4]&&Kt(i);return{c(){j(e.$$.fragment),n=H(),s&&s.c(),t=q()},l(r){L(e.$$.fragment,r),n=P(r),s&&s.l(r),t=q()},m(r,f){R(e,r,f),y(r,n,f),s&&s.m(r,f),y(r,t,f),l=!0},p(r,[f]){const o={};f&1&&(o.id=r[0]),f&8&&(o.structureId=r[3]),f&2&&(o.title=r[1]),f&4&&(o.description=r[2]),e.$set(o),r[4]?s?s.p(r,f):(s=Kt(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){U(e,r),r&&_(n),s&&s.d(r),r&&_(t)}}}function Si(i,e,n){let{id:t}=e,{title:l}=e,{description:s}=e,{structureId:r}=e,{variables:f=[]}=e;return i.$$set=o=>{"id"in o&&n(0,t=o.id),"title"in o&&n(1,l=o.title),"description"in o&&n(2,s=o.description),"structureId"in o&&n(3,r=o.structureId),"variables"in o&&n(4,f=o.variables)},[t,l,s,r,f]}class Ai extends ${constructor(e){super(),x(this,e,Si,Ni,ee,{id:0,title:1,description:2,structureId:3,variables:4})}}function Yt(i){let e,n,t,l;const s=[Oi,Vi],r=[];function f(o,a){return o[0].allFilesReadable==!0?0:1}return e=f(i),n=r[e]=s[e](i),{c(){n.c(),t=q()},l(o){n.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),l=!0},p(o,a){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),w(r[u],1,1,()=>{r[u]=null}),J(),n=r[e],n?n.p(o,a):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){w(n),l=!1},d(o){r[e].d(o),o&&_(t)}}}function Vi(i){let e,n;return{c(){e=S("span"),n=G("not available")},l(t){e=A(t,"SPAN",{});var l=O(e);n=K(l,"not available"),l.forEach(_)},m(t,l){y(t,e,l),I(e,n)},p:X,i:X,o:X,d(t){t&&_(e)}}}function Oi(i){let e,n,t,l,s,r,f=i[0].lastModification&&Jt(i);const o=[Mi,Bi],a=[];function u(d,g){return d[0]&&d[0].structureId>0?0:1}n=u(i),t=a[n]=o[n](i);let c=i[1]&&Xt();return{c(){f&&f.c(),e=H(),t.c(),l=H(),c&&c.c(),s=q()},l(d){f&&f.l(d),e=P(d),t.l(d),l=P(d),c&&c.l(d),s=q()},m(d,g){f&&f.m(d,g),y(d,e,g),a[n].m(d,g),y(d,l,g),c&&c.m(d,g),y(d,s,g),r=!0},p(d,g){d[0].lastModification?f?(f.p(d,g),g&1&&p(f,1)):(f=Jt(d),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(Y(),w(f,1,1,()=>{f=null}),J());let E=n;n=u(d),n===E?a[n].p(d,g):(Y(),w(a[E],1,1,()=>{a[E]=null}),J(),t=a[n],t?t.p(d,g):(t=a[n]=o[n](d),t.c()),p(t,1),t.m(l.parentNode,l)),d[1]?c?g&2&&p(c,1):(c=Xt(),c.c(),p(c,1),c.m(s.parentNode,s)):c&&(Y(),w(c,1,1,()=>{c=null}),J())},i(d){r||(p(f),p(t),p(c),r=!0)},o(d){w(f),w(t),w(c),r=!1},d(d){f&&f.d(d),d&&_(e),a[n].d(d),d&&_(l),c&&c.d(d),d&&_(s)}}}function Jt(i){let e,n;return e=new $e({props:{milliseconds:new Date(i[0].lastModification)}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.milliseconds=new Date(t[0].lastModification)),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Bi(i){let e,n,t;const l=[i[0]];function s(f){i[7](f)}let r={};for(let f=0;f<l.length;f+=1)r=ie(r,l[f]);return i[0].readableFiles!==void 0&&(r.files=i[0].readableFiles),e=new Di({props:r}),be.push(()=>Fe(e,"files",s)),{c(){j(e.$$.fragment)},l(f){L(e.$$.fragment,f)},m(f,o){R(e,f,o),t=!0},p(f,o){const a=o&1?re(l,[se(f[0])]):{};!n&&o&1&&(n=!0,a.files=f[0].readableFiles,Te(()=>n=!1)),e.$set(a)},i(f){t||(p(e.$$.fragment,f),t=!0)},o(f){w(e.$$.fragment,f),t=!1},d(f){U(e,f)}}}function Mi(i){let e,n;const t=[i[0]];let l={};for(let s=0;s<t.length;s+=1)l=ie(l,t[s]);return e=new Ai({props:l}),{c(){j(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,r){R(e,s,r),n=!0},p(s,r){const f=r&1?re(t,[se(s[0])]):{};e.$set(f)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function Xt(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ci(i){let e,n,t=i[0]&&Yt(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[0]?t?(t.p(l,s),s&1&&p(t,1)):(t=Yt(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}function Hi(i,e,n){let t,l,s,r;ye(i,We,E=>n(5,s=E)),ye(i,Ke,E=>n(6,r=E));let{id:f=0}=e,{version:o=1}=e,{hook:a}=e,u;fe(async()=>{c()});async function c(){n(0,t=await Ye(a.start,f,o))}async function d(){c()}function g(E){i.$$.not_equal(t.readableFiles,E)&&(t.readableFiles=E,n(0,t),n(8,u))}return i.$$set=E=>{"id"in E&&n(2,f=E.id),"version"in E&&n(3,o=E.version),"hook"in E&&n(4,a=E.hook)},i.$$.update=()=>{i.$$.dirty&64&&d(),i.$$.dirty&32&&d()},n(0,t=u),n(1,l=!1),[t,l,f,o,a,s,r,g]}class Pi extends ${constructor(e){super(),x(this,e,Hi,Ci,ee,{id:2,version:3,hook:4})}}function zi(i){let e,n,t,l,s,r,f,o,a,u,c,d,g,E,m,b,k,v,h,D,M,F,T,B,W,V,z,ne,ue,de;return{c(){e=S("div"),n=S("b"),t=G("Metadata"),l=H(),s=S("button"),r=G("Edit"),f=H(),o=S("div"),a=S("span"),u=G("Last Modfied"),c=H(),d=S("b"),g=G("Visibility"),E=H(),m=S("span"),b=G("not implemented"),k=H(),v=S("button"),h=G("Edit"),D=H(),M=S("b"),F=G("Status"),T=H(),B=S("span"),W=G("not implemented"),V=H(),z=S("button"),ne=G("Edit"),this.h()},l(he){e=A(he,"DIV",{class:!0});var Q=O(e);n=A(Q,"B",{class:!0});var Ve=O(n);t=K(Ve,"Metadata"),Ve.forEach(_),l=P(Q),s=A(Q,"BUTTON",{class:!0});var Oe=O(s);r=K(Oe,"Edit"),Oe.forEach(_),f=P(Q),o=A(Q,"DIV",{class:!0});var ke=O(o);a=A(ke,"SPAN",{});var Be=O(a);u=K(Be,"Last Modfied"),Be.forEach(_),ke.forEach(_),c=P(Q),d=A(Q,"B",{class:!0});var Me=O(d);g=K(Me,"Visibility"),Me.forEach(_),E=P(Q),m=A(Q,"SPAN",{class:!0});var ge=O(m);b=K(ge,"not implemented"),ge.forEach(_),k=P(Q),v=A(Q,"BUTTON",{class:!0});var Ce=O(v);h=K(Ce,"Edit"),Ce.forEach(_),D=P(Q),M=A(Q,"B",{class:!0});var ce=O(M);F=K(ce,"Status"),ce.forEach(_),T=P(Q),B=A(Q,"SPAN",{class:!0});var He=O(B);W=K(He,"not implemented"),He.forEach(_),V=P(Q),z=A(Q,"BUTTON",{class:!0});var Pe=O(z);ne=K(Pe,"Edit"),Pe.forEach(_),Q.forEach(_),this.h()},h(){C(n,"class","self-center"),C(s,"class","btn bg-secondary-500 text-white w-1/2"),C(o,"class","self-center"),C(d,"class","self-center"),C(m,"class","self-center"),C(v,"class","btn bg-secondary-500 text-white btn-sm w-1/2"),C(M,"class","self-center"),C(B,"class","self-center"),C(z,"class","btn bg-secondary-500 text-white btn-sm w-1/2"),C(e,"class","grid grid-cols-3 w-1/3 gap-3 content-center")},m(he,Q){y(he,e,Q),I(e,n),I(n,t),I(e,l),I(e,s),I(s,r),I(e,f),I(e,o),I(o,a),I(a,u),I(e,c),I(e,d),I(d,g),I(e,E),I(e,m),I(m,b),I(e,k),I(e,v),I(v,h),I(e,D),I(e,M),I(M,F),I(e,T),I(e,B),I(B,W),I(e,V),I(e,z),I(z,ne),ue||(de=[Z(s,"click",i[0]),Z(v,"click",ji),Z(z,"click",Li)],ue=!0)},p:X,i:X,o:X,d(he){he&&_(e),ue=!1,nn(de)}}}function ji(){}function Li(){}function Ri(i,e,n){let{id:t}=e,{version:l}=e,{status:s}=e,{start:r}=e,f=kn+r+"?id="+t+"&version="+l;function o(){var a;(a=window.open(f,"_blank"))==null||a.focus()}return i.$$set=a=>{"id"in a&&n(1,t=a.id),"version"in a&&n(2,l=a.version),"status"in a&&n(3,s=a.status),"start"in a&&n(4,r=a.start)},[o,t,l,s,r]}class Ui extends ${constructor(e){super(),x(this,e,Ri,zi,ee,{id:1,version:2,status:3,start:4})}}function qi(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Gi(i){let e,n,t,l,s,r,f,o,a;const u=[i[3]];let c={$$slots:{view:[Ki]},$$scope:{ctx:i}};for(let v=0;v<u.length;v+=1)c=ie(c,u[v]);n=new Ee({props:c});const d=[i[4]];let g={$$slots:{view:[Wi]},$$scope:{ctx:i}};for(let v=0;v<d.length;v+=1)g=ie(g,d[v]);l=new Ee({props:g});const E=[i[5]];let m={$$slots:{view:[Yi,({errorHandler:v,successHandler:h})=>({11:v,12:h}),({errorHandler:v,successHandler:h})=>(v?2048:0)|(h?4096:0)]},$$scope:{ctx:i}};for(let v=0;v<E.length;v+=1)m=ie(m,E[v]);r=new Ee({props:m});const b=[i[6]];let k={$$slots:{view:[Ji]},$$scope:{ctx:i}};for(let v=0;v<b.length;v+=1)k=ie(k,b[v]);return o=new Ee({props:k}),{c(){e=S("div"),j(n.$$.fragment),t=H(),j(l.$$.fragment),s=H(),j(r.$$.fragment),f=H(),j(o.$$.fragment),this.h()},l(v){e=A(v,"DIV",{class:!0});var h=O(e);L(n.$$.fragment,h),t=P(h),L(l.$$.fragment,h),s=P(h),L(r.$$.fragment,h),f=P(h),L(o.$$.fragment,h),h.forEach(_),this.h()},h(){C(e,"class","grid divide-y")},m(v,h){y(v,e,h),R(n,e,null),I(e,t),R(l,e,null),I(e,s),R(r,e,null),I(e,f),R(o,e,null),a=!0},p(v,h){const D=h&8?re(u,[se(v[3])]):{};h&8203&&(D.$$scope={dirty:h,ctx:v}),n.$set(D);const M=h&16?re(d,[se(v[4])]):{};h&8211&&(M.$$scope={dirty:h,ctx:v}),l.$set(M);const F=h&32?re(E,[se(v[5])]):{};h&14371&&(F.$$scope={dirty:h,ctx:v}),r.$set(F);const T=h&64?re(b,[se(v[6])]):{};h&8259&&(T.$$scope={dirty:h,ctx:v}),o.$set(T)},i(v){a||(p(n.$$.fragment,v),p(l.$$.fragment,v),p(r.$$.fragment,v),p(o.$$.fragment,v),a=!0)},o(v){w(n.$$.fragment,v),w(l.$$.fragment,v),w(r.$$.fragment,v),w(o.$$.fragment,v),a=!1},d(v){v&&_(e),U(n),U(l),U(r),U(o)}}}function Ki(i){let e,n,t;const l=[{id:i[0]},{version:i[1]},i[3]];let s={};for(let r=0;r<l.length;r+=1)s=ie(s,l[r]);return n=new Ui({props:s}),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(n.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(n,e,null),t=!0},p(r,f){const o=f&11?re(l,[f&1&&{id:r[0]},f&2&&{version:r[1]},f&8&&se(r[3])]):{};n.$set(o)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){w(n.$$.fragment,r),t=!1},d(r){r&&_(e),U(n)}}}function Wi(i){let e,n,t;return n=new Pi({props:{id:i[0],version:i[1],hook:i[4]}}),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(l){e=A(l,"DIV",{slot:!0});var s=O(e);L(n.$$.fragment,s),s.forEach(_),this.h()},h(){C(e,"slot","view")},m(l,s){y(l,e,s),R(n,e,null),t=!0},p(l,s){const r={};s&1&&(r.id=l[0]),s&2&&(r.version=l[1]),s&16&&(r.hook=l[4]),n.$set(r)},i(l){t||(p(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&_(e),U(n)}}}function Yi(i){let e,n,t;function l(...r){return i[7](i[11],...r)}function s(...r){return i[8](i[12],...r)}return n=new ki({props:{id:i[0],version:i[1],hook:i[5]}}),n.$on("error",l),n.$on("success",s),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(n.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(n,e,null),t=!0},p(r,f){i=r;const o={};f&1&&(o.id=i[0]),f&2&&(o.version=i[1]),f&32&&(o.hook=i[5]),n.$set(o)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){w(n.$$.fragment,r),t=!1},d(r){r&&_(e),U(n)}}}function Ji(i){let e,n,t;const l=[{id:i[0]},{version:i[1]},i[6]];let s={};for(let r=0;r<l.length;r+=1)s=ie(s,l[r]);return n=new xl({props:s}),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(n.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(n,e,null),t=!0},p(r,f){const o=f&67?re(l,[f&1&&{id:r[0]},f&2&&{version:r[1]},f&64&&se(r[6])]):{};n.$set(o)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){w(n.$$.fragment,r),t=!1},d(r){r&&_(e),U(n)}}}function Xi(i){let e,n,t,l;const s=[Gi,qi],r=[];function f(o,a){return o[2]?0:1}return e=f(i),n=r[e]=s[e](i),{c(){n.c(),t=q()},l(o){n.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),l=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),w(r[u],1,1,()=>{r[u]=null}),J(),n=r[e],n?n.p(o,a):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){w(n),l=!1},d(o){r[e].d(o),o&&_(t)}}}function Qi(i,e,n){let{id:t}=e,{version:l}=e,{hooks:s}=e,r,f,o,a;function u(g){g.forEach(E=>{E.name=="metadata"&&n(3,r=E),E.name=="fileupload"&&n(5,o=E),E.name=="validation"&&n(6,a=E),E.name=="datadescription"&&n(4,f=E),E.name=="submit"})}const c=(g,E)=>g(E),d=(g,E)=>g(E);return i.$$set=g=>{"id"in g&&n(0,t=g.id),"version"in g&&n(1,l=g.version),"hooks"in g&&n(2,s=g.hooks)},i.$$.update=()=>{i.$$.dirty&4&&u(s)},[t,l,s,r,f,o,a,c,d]}class Zi extends ${constructor(e){super(),x(this,e,Qi,Xi,ee,{id:0,version:1,hooks:2})}}function Qt(i){let e,n,t,l,s=i[1].lastModification&&Zt(i),r=i[1].existingFiles&&$t(),f=i[0]&&xt();return{c(){s&&s.c(),e=H(),r&&r.c(),n=H(),f&&f.c(),t=q()},l(o){s&&s.l(o),e=P(o),r&&r.l(o),n=P(o),f&&f.l(o),t=q()},m(o,a){s&&s.m(o,a),y(o,e,a),r&&r.m(o,a),y(o,n,a),f&&f.m(o,a),y(o,t,a),l=!0},p(o,a){o[1].lastModification?s?(s.p(o,a),a&2&&p(s,1)):(s=Zt(o),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(Y(),w(s,1,1,()=>{s=null}),J()),o[1].existingFiles?r||(r=$t(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),o[0]?f?a&1&&p(f,1):(f=xt(),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(Y(),w(f,1,1,()=>{f=null}),J())},i(o){l||(p(s),p(f),l=!0)},o(o){w(s),w(f),l=!1},d(o){s&&s.d(o),o&&_(e),r&&r.d(o),o&&_(n),f&&f.d(o),o&&_(t)}}}function Zt(i){let e,n;return e=new $e({props:{milliseconds:new Date(i[1].lastModification)}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.milliseconds=new Date(t[1].lastModification)),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function $t(i){return{c:X,l:X,m:X,d:X}}function xt(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function $i(i){let e,n,t=i[1]&&Qt(i);return{c(){t&&t.c(),e=q()},l(l){t&&t.l(l),e=q()},m(l,s){t&&t.m(l,s),y(l,e,s),n=!0},p(l,[s]){l[1]?t?(t.p(l,s),s&2&&p(t,1)):(t=Qt(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),w(t,1,1,()=>{t=null}),J())},i(l){n||(p(t),n=!0)},o(l){w(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}function xi(i,e,n){let t,l,{id:s=0}=e,{version:r=1}=e,{hook:f}=e;fe(async()=>{o()});async function o(){n(1,t=await Ye(f.start,s,r)),f.start,n(0,l=!1)}return i.$$set=a=>{"id"in a&&n(2,s=a.id),"version"in a&&n(3,r=a.version),"hook"in a&&n(4,f=a.hook)},n(1,t=null),n(0,l=!1),[l,t,s,r,f]}class er extends ${constructor(e){super(),x(this,e,xi,$i,ee,{id:2,version:3,hook:4})}}function en(i,e,n){const t=i.slice();return t[8]=e[n],t}function tr(i){let e,n;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:X,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function nr(i){let e,n,t,l;const s=[i[2],{color:qe}];let r={$$slots:{view:[lr,({errorHandler:u,successHandler:c})=>({11:u,12:c}),({errorHandler:u,successHandler:c})=>(u?2048:0)|(c?4096:0)]},$$scope:{ctx:i}};for(let u=0;u<s.length;u+=1)r=ie(r,s[u]);e=new Ee({props:r});let f=i[3],o=[];for(let u=0;u<f.length;u+=1)o[u]=tn(en(i,f,u));const a=u=>w(o[u],1,1,()=>{o[u]=null});return{c(){j(e.$$.fragment),n=H();for(let u=0;u<o.length;u+=1)o[u].c();t=q()},l(u){L(e.$$.fragment,u),n=P(u);for(let c=0;c<o.length;c+=1)o[c].l(u);t=q()},m(u,c){R(e,u,c),y(u,n,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(u,c);y(u,t,c),l=!0},p(u,c){const d=c&4?re(s,[c&4&&se(u[2]),c&0&&{color:qe}]):{};if(c&14343&&(d.$$scope={dirty:c,ctx:u}),e.$set(d),c&11){f=u[3];let g;for(g=0;g<f.length;g+=1){const E=en(u,f,g);o[g]?(o[g].p(E,c),p(o[g],1)):(o[g]=tn(E),o[g].c(),p(o[g],1),o[g].m(t.parentNode,t))}for(Y(),g=f.length;g<o.length;g+=1)a(g);J()}},i(u){if(!l){p(e.$$.fragment,u);for(let c=0;c<f.length;c+=1)p(o[c]);l=!0}},o(u){w(e.$$.fragment,u),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)w(o[c]);l=!1},d(u){U(e,u),u&&_(n),ve(o,u),u&&_(t)}}}function lr(i){let e,n,t;function l(...r){return i[5](i[11],...r)}function s(...r){return i[6](i[12],...r)}return n=new er({props:{id:i[0],version:i[1],hook:i[2]}}),n.$on("error",l),n.$on("success",s),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(n.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(n,e,null),t=!0},p(r,f){i=r;const o={};f&1&&(o.id=i[0]),f&2&&(o.version=i[1]),f&4&&(o.hook=i[2]),n.$set(o)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){w(n.$$.fragment,r),t=!1},d(r){r&&_(e),U(n)}}}function ir(i){let e,n,t,l;const s=[{id:i[0]},{version:i[1]},i[8]];let r={};for(let f=0;f<s.length;f+=1)r=ie(r,s[f]);return n=new jl({props:r}),{c(){e=S("div"),j(n.$$.fragment),t=H(),this.h()},l(f){e=A(f,"DIV",{slot:!0});var o=O(e);L(n.$$.fragment,o),t=P(o),o.forEach(_),this.h()},h(){C(e,"slot","view")},m(f,o){y(f,e,o),R(n,e,null),I(e,t),l=!0},p(f,o){const a=o&11?re(s,[o&1&&{id:f[0]},o&2&&{version:f[1]},o&8&&se(f[8])]):{};n.$set(a)},i(f){l||(p(n.$$.fragment,f),l=!0)},o(f){w(n.$$.fragment,f),l=!1},d(f){f&&_(e),U(n)}}}function tn(i){let e,n;const t=[i[8],{color:qe}];let l={$$slots:{view:[ir]},$$scope:{ctx:i}};for(let s=0;s<t.length;s+=1)l=ie(l,t[s]);return e=new Ee({props:l}),{c(){j(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,r){R(e,s,r),n=!0},p(s,r){const f=r&8?re(t,[r&8&&se(s[8]),r&0&&{color:qe}]):{};r&8203&&(f.$$scope={dirty:r,ctx:s}),e.$set(f)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function rr(i){let e,n,t,l;const s=[nr,tr],r=[];function f(o,a){return o[3]?0:1}return e=f(i),n=r[e]=s[e](i),{c(){n.c(),t=q()},l(o){n.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),l=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),w(r[u],1,1,()=>{r[u]=null}),J(),n=r[e],n?n.p(o,a):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){w(n),l=!1},d(o){r[e].d(o),o&&_(t)}}}let qe="bg-surface-300";function sr(i,e,n){let t,{id:l}=e,{version:s}=e,{hooks:r=[]}=e,f;function o(c){c.forEach(d=>{d.name=="attachments"?n(2,f=d):t.push(d)})}const a=(c,d)=>c(d),u=(c,d)=>c(d);return i.$$set=c=>{"id"in c&&n(0,l=c.id),"version"in c&&n(1,s=c.version),"hooks"in c&&n(4,r=c.hooks)},i.$$.update=()=>{i.$$.dirty&16&&o(r)},n(3,t=[]),[l,s,f,t,r,a,u]}class or extends ${constructor(e){super(),x(this,e,sr,rr,ee,{id:0,version:1,hooks:4})}}function fr(i){return"id"in i}function ar(i){let e,n,t;return n=new ae({props:{label:"loading edit page",position:"center"}}),{c(){e=S("div"),j(n.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var s=O(e);L(n.$$.fragment,s),s.forEach(_),this.h()},h(){C(e,"class","h-screen")},m(l,s){y(l,e,s),R(n,e,null),t=!0},p:X,i(l){t||(p(n.$$.fragment,l),t=!0)},o(l){w(n.$$.fragment,l),t=!1},d(l){l&&_(e),U(n)}}}function cr(i){let e,n,t,l,s,r,f,o,a,u;e=new Bl({props:{id:i[0],version:i[1],title:i[2]}});function c(m){i[8](m)}let d={id:i[0],version:i[1]};i[5]!==void 0&&(d.hooks=i[5]),t=new Zi({props:d}),be.push(()=>Fe(t,"hooks",c));function g(m){i[9](m)}let E={id:i[0],version:i[1]};return i[6]!==void 0&&(E.hooks=i[6]),o=new or({props:E}),be.push(()=>Fe(o,"hooks",g)),{c(){j(e.$$.fragment),n=H(),j(t.$$.fragment),s=H(),r=S("hr"),f=H(),j(o.$$.fragment),this.h()},l(m){L(e.$$.fragment,m),n=P(m),L(t.$$.fragment,m),s=P(m),r=A(m,"HR",{class:!0}),f=P(m),L(o.$$.fragment,m),this.h()},h(){C(r,"class","!border-dashed")},m(m,b){R(e,m,b),y(m,n,b),R(t,m,b),y(m,s,b),y(m,r,b),y(m,f,b),R(o,m,b),u=!0},p(m,b){const k={};b&1&&(k.id=m[0]),b&2&&(k.version=m[1]),b&4&&(k.title=m[2]),e.$set(k);const v={};b&1&&(v.id=m[0]),b&2&&(v.version=m[1]),!l&&b&32&&(l=!0,v.hooks=m[5],Te(()=>l=!1)),t.$set(v);const h={};b&1&&(h.id=m[0]),b&2&&(h.version=m[1]),!a&&b&64&&(a=!0,h.hooks=m[6],Te(()=>a=!1)),o.$set(h)},i(m){u||(p(e.$$.fragment,m),p(t.$$.fragment,m),p(o.$$.fragment,m),u=!0)},o(m){w(e.$$.fragment,m),w(t.$$.fragment,m),w(o.$$.fragment,m),u=!1},d(m){U(e,m),m&&_(n),U(t,m),m&&_(s),m&&_(r),m&&_(f),U(o,m)}}}function ur(i){let e,n,t,l;const s=[cr,ar],r=[];function f(o,a){return o[3]&&o[4]?0:1}return e=f(i),n=r[e]=s[e](i),{c(){n.c(),t=q()},l(o){n.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),l=!0},p(o,a){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),w(r[u],1,1,()=>{r[u]=null}),J(),n=r[e],n?n.p(o,a):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){w(n),l=!1},d(o){r[e].d(o),o&&_(t)}}}function dr(i){let e,n;return e=new In({props:{$$slots:{default:[ur]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,[l]){const s={};l&1048703&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function mr(i,e,n){let t;ye(i,Qe,T=>n(14,t=T));let l,s=0,r,f="",o={id:0,versionId:0,version:0,title:"",hooks:[],views:[]},a,u,c,d,g,E,m;fe(async()=>{l=document.getElementById("edit"),n(0,s=Number(l==null?void 0:l.getAttribute("dataset"))),n(1,r=Number(l==null?void 0:l.getAttribute("version"))),console.log("start edit",s,r),b()}),Ke.subscribe(T=>{k()}),We.subscribe(T=>{k()});async function b(){n(3,o=await Et(s)),fr(o)&&(console.log("editmodel",o),u=o.hooks,g=o.views,n(2,f=o.title),n(1,r=o.version),D(u),v(u),h(g))}async function k(){console.log("reload"),wn("https://localhost:44345","davidschoene","123456"),n(3,o=await Et(s)),u=o.hooks,setTimeout(async()=>{D(o.hooks)},1e3)}function v(T){T.forEach(B=>{B.name=="metadata"||B.name=="fileupload"||B.name=="validation"||B.name=="submit"||B.name=="datadescription"?c.push(B):d.push(B)})}function h(T){T.forEach(B=>{B.name=="messages"?n(7,m=B):E.push(B)}),console.log(m),console.log(E)}async function D(T){let B={[""]:0};T.forEach(W=>{B[W.name]=W.status}),console.log("before",t),Qe.set(B),console.log("updateStatus",t),console.log("length",t.length),n(4,a=t)}function M(T){c=T,n(5,c)}function F(T){d=T,n(6,d)}return i.$$.update=()=>{i.$$.dirty&128},u=[],n(5,c=[]),n(6,d=[]),g=[],E=[],[s,r,f,o,a,c,d,m,M,F]}class Er extends ${constructor(e){super(),x(this,e,mr,dr,ee,{})}}export{Er as component};
