import{S as $,i as x,s as ee,a as H,e as q,c as z,b as y,g as p,v as Y,d as E,f as J,h as _,y as j,z as L,A as R,H as X,B as U,k as S,q as G,l as A,m as O,r as K,p as Ie,G as I,u as te,C as je,n as C,K as Z,D as Le,E as Re,F as Ue,L as nl,Q as Ne,$ as bl,w as be,X as pl,o as fe,P as ve,Y as vl,a0 as xe,V as Fe,W as Te,J as et,M as Je,I as ye,R as ie,T as re,U as se}from"../chunks/index.5cde3559.js";import{A as pe,h as kl,s as tt}from"../chunks/store.53a40dd4.js";import{S as ae}from"../chunks/Spinner.2e89e3a9.js";import{T as il}from"../chunks/TextInput.e0ec1766.js";import{F as ne,b as wl,c as El,d as rl}from"../chunks/floating-ui.dom.browser.min.469e0c62.js";import{f as lt,g as Dl}from"../chunks/BaseCaller.03635bdf.js";import{w as Ze}from"../chunks/index.547577a6.js";import{f as Il,a as Fl,b as Tl,c as yl,d as Nl,e as Sl,g as Al,h as Vl,i as Ol,j as Bl,S as Ml}from"../chunks/Select.074a881e.js";function nt(i){let e,l;return e=new ne({props:{icon:Il}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function it(i){let e,l;return e=new ne({props:{icon:Fl}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function rt(i){let e,l;return e=new ne({props:{icon:Tl}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function st(i){let e,l;return e=new ne({props:{icon:yl}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ot(i){let e,l;return e=new ne({props:{icon:Nl}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ft(i){let e,l;return e=new ne({props:{icon:Sl}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function at(i){let e,l;return e=new ne({props:{icon:Al}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ct(i){let e,l;return e=new ne({props:{icon:Vl}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Cl(i){let e=i[0].includes("excel")||i[0].includes("spreadsheetml"),l,t=i[0].includes("text"),n,s=i[0].includes("image"),r,f=i[0].includes("audio"),o,a=i[0].includes("video"),u,c=i[0].includes("word"),d,g=i[0].includes("pdf"),w,m=i[0].includes("zip"),b,k,v=e&&nt(),h=t&&it(),D=s&&rt(),M=f&&st(),F=a&&ot(),T=c&&ft(),B=g&&at(),W=m&&ct();return{c(){v&&v.c(),l=H(),h&&h.c(),n=H(),D&&D.c(),r=H(),M&&M.c(),o=H(),F&&F.c(),u=H(),T&&T.c(),d=H(),B&&B.c(),w=H(),W&&W.c(),b=q()},l(V){v&&v.l(V),l=z(V),h&&h.l(V),n=z(V),D&&D.l(V),r=z(V),M&&M.l(V),o=z(V),F&&F.l(V),u=z(V),T&&T.l(V),d=z(V),B&&B.l(V),w=z(V),W&&W.l(V),b=q()},m(V,P){v&&v.m(V,P),y(V,l,P),h&&h.m(V,P),y(V,n,P),D&&D.m(V,P),y(V,r,P),M&&M.m(V,P),y(V,o,P),F&&F.m(V,P),y(V,u,P),T&&T.m(V,P),y(V,d,P),B&&B.m(V,P),y(V,w,P),W&&W.m(V,P),y(V,b,P),k=!0},p(V,[P]){P&1&&(e=V[0].includes("excel")||V[0].includes("spreadsheetml")),e?v?(v.p(V,P),P&1&&p(v,1)):(v=nt(),v.c(),p(v,1),v.m(l.parentNode,l)):v&&(Y(),E(v,1,1,()=>{v=null}),J()),P&1&&(t=V[0].includes("text")),t?h?(h.p(V,P),P&1&&p(h,1)):(h=it(),h.c(),p(h,1),h.m(n.parentNode,n)):h&&(Y(),E(h,1,1,()=>{h=null}),J()),P&1&&(s=V[0].includes("image")),s?D?(D.p(V,P),P&1&&p(D,1)):(D=rt(),D.c(),p(D,1),D.m(r.parentNode,r)):D&&(Y(),E(D,1,1,()=>{D=null}),J()),P&1&&(f=V[0].includes("audio")),f?M?(M.p(V,P),P&1&&p(M,1)):(M=st(),M.c(),p(M,1),M.m(o.parentNode,o)):M&&(Y(),E(M,1,1,()=>{M=null}),J()),P&1&&(a=V[0].includes("video")),a?F?(F.p(V,P),P&1&&p(F,1)):(F=ot(),F.c(),p(F,1),F.m(u.parentNode,u)):F&&(Y(),E(F,1,1,()=>{F=null}),J()),P&1&&(c=V[0].includes("word")),c?T?(T.p(V,P),P&1&&p(T,1)):(T=ft(),T.c(),p(T,1),T.m(d.parentNode,d)):T&&(Y(),E(T,1,1,()=>{T=null}),J()),P&1&&(g=V[0].includes("pdf")),g?B?(B.p(V,P),P&1&&p(B,1)):(B=at(),B.c(),p(B,1),B.m(w.parentNode,w)):B&&(Y(),E(B,1,1,()=>{B=null}),J()),P&1&&(m=V[0].includes("zip")),m?W?(W.p(V,P),P&1&&p(W,1)):(W=ct(),W.c(),p(W,1),W.m(b.parentNode,b)):W&&(Y(),E(W,1,1,()=>{W=null}),J())},i(V){k||(p(v),p(h),p(D),p(M),p(F),p(T),p(B),p(W),k=!0)},o(V){E(v),E(h),E(D),E(M),E(F),E(T),E(B),E(W),k=!1},d(V){v&&v.d(V),V&&_(l),h&&h.d(V),V&&_(n),D&&D.d(V),V&&_(r),M&&M.d(V),V&&_(o),F&&F.d(V),V&&_(u),T&&T.d(V),V&&_(d),B&&B.d(V),V&&_(w),W&&W.d(V),V&&_(b)}}}function Hl(i,e,l){let{type:t=""}=e;return i.$$set=n=>{"type"in n&&l(0,t=n.type)},[t]}class zl extends ${constructor(e){super(),x(this,e,Hl,Cl,ee,{type:0})}}function Pl(i){let e,l,t,n,s;return l=new zl({props:{type:i[1]}}),{c(){e=S("div"),j(l.$$.fragment),t=H(),n=G(i[0]),this.h()},l(r){e=A(r,"DIV",{style:!0});var f=O(e);L(l.$$.fragment,f),t=z(f),n=K(f,i[0]),f.forEach(_),this.h()},h(){Ie(e,"font-size",i[2])},m(r,f){y(r,e,f),R(l,e,null),I(e,t),I(e,n),s=!0},p(r,[f]){const o={};f&2&&(o.type=r[1]),l.$set(o),(!s||f&1)&&te(n,r[0]),(!s||f&4)&&Ie(e,"font-size",r[2])},i(r){s||(p(l.$$.fragment,r),s=!0)},o(r){E(l.$$.fragment,r),s=!1},d(r){r&&_(e),U(l)}}}function jl(i,e,l){let{name:t=""}=e,{type:n=""}=e,{size:s=""}=e;return i.$$set=r=>{"name"in r&&l(0,t=r.name),"type"in r&&l(1,n=r.type),"size"in r&&l(2,s=r.size)},[t,n,s]}class Ll extends ${constructor(e){super(),x(this,e,jl,Pl,ee,{name:0,type:1,size:2})}}function Se(i,e,l,t){function n(s){return s instanceof l?s:new l(function(r){r(s)})}return new(l||(l=Promise))(function(s,r){function f(u){try{a(t.next(u))}catch(c){r(c)}}function o(u){try{a(t.throw(u))}catch(c){r(c)}}function a(u){u.done?s(u.value):n(u.value).then(f,o)}a((t=t.apply(i,e||[])).next())})}function Ae(i,e){var l={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,n,s,r;return r={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function f(a){return function(u){return o([a,u])}}function o(a){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(l=0)),l;)try{if(t=1,n&&(s=a[0]&2?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,n=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){l=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){l.label=a[1];break}if(a[0]===6&&l.label<s[1]){l.label=s[1],s=a;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(a);break}s[2]&&l.ops.pop(),l.trys.pop();continue}a=e.call(i,l)}catch(u){a=[6,u],n=0}finally{t=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Rl(i,e){var l=typeof Symbol=="function"&&i[Symbol.iterator];if(!l)return i;var t=l.call(i),n,s=[],r;try{for(;(e===void 0||e-- >0)&&!(n=t.next()).done;)s.push(n.value)}catch(f){r={error:f}}finally{try{n&&!n.done&&(l=t.return)&&l.call(t)}finally{if(r)throw r.error}}return s}function Ul(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Rl(arguments[e]));return i}var ql=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Ge(i,e){var l=Gl(i);if(typeof l.path!="string"){var t=i.webkitRelativePath;Object.defineProperty(l,"path",{value:typeof e=="string"?e:typeof t=="string"&&t.length>0?t:i.name,writable:!1,configurable:!1,enumerable:!0})}return l}function Gl(i){var e=i.name,l=e&&e.lastIndexOf(".")!==-1;if(l&&!i.type){var t=e.split(".").pop().toLowerCase(),n=ql.get(t);n&&Object.defineProperty(i,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return i}var Kl=[".DS_Store","Thumbs.db"];function Wl(i){return Se(this,void 0,void 0,function(){return Ae(this,function(e){return[2,Yl(i)&&i.dataTransfer?Ql(i.dataTransfer,i.type):Jl(i)]})})}function Yl(i){return!!i.dataTransfer}function Jl(i){var e=Xl(i.target)?i.target.files?Xe(i.target.files):[]:[];return e.map(function(l){return Ge(l)})}function Xl(i){return i!==null}function Ql(i,e){return Se(this,void 0,void 0,function(){var l,t;return Ae(this,function(n){switch(n.label){case 0:return i.items?(l=Xe(i.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,l]:[4,Promise.all(l.map(Zl))]):[3,2];case 1:return t=n.sent(),[2,ut(sl(t))];case 2:return[2,ut(Xe(i.files).map(function(s){return Ge(s)}))]}})})}function ut(i){return i.filter(function(e){return Kl.indexOf(e.name)===-1})}function Xe(i){for(var e=[],l=0;l<i.length;l++){var t=i[l];e.push(t)}return e}function Zl(i){if(typeof i.webkitGetAsEntry!="function")return dt(i);var e=i.webkitGetAsEntry();return e&&e.isDirectory?ol(e):dt(i)}function sl(i){return i.reduce(function(e,l){return Ul(e,Array.isArray(l)?sl(l):[l])},[])}function dt(i){var e=i.getAsFile();if(!e)return Promise.reject(i+" is not a File");var l=Ge(e);return Promise.resolve(l)}function $l(i){return Se(this,void 0,void 0,function(){return Ae(this,function(e){return[2,i.isDirectory?ol(i):xl(i)]})})}function ol(i){var e=i.createReader();return new Promise(function(l,t){var n=[];function s(){var r=this;e.readEntries(function(f){return Se(r,void 0,void 0,function(){var o,a,u;return Ae(this,function(c){switch(c.label){case 0:if(f.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return o=c.sent(),l(o),[3,4];case 3:return a=c.sent(),t(a),[3,4];case 4:return[3,6];case 5:u=Promise.all(f.map($l)),n.push(u),s(),c.label=6;case 6:return[2]}})})},function(f){t(f)})}s()})}function xl(i){return Se(this,void 0,void 0,function(){return Ae(this,function(e){return[2,new Promise(function(l,t){i.file(function(n){var s=Ge(n,i.fullPath);l(s)},function(n){t(n)})})]})})}function en(i,e){if(i&&e){const l=Array.isArray(e)?e:e.split(","),t=i.name||"",n=(i.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return l.some(r=>{const f=r.trim().toLowerCase();return f.charAt(0)==="."?t.toLowerCase().endsWith(f):f.endsWith("/*")?s===f.replace(/\/.*$/,""):n===f})}return!0}const tn="file-invalid-type",ln="file-too-large",nn="file-too-small",rn="too-many-files",sn=i=>{i=Array.isArray(i)&&i.length===1?i[0]:i;const e=Array.isArray(i)?`one of ${i.join(", ")}`:i;return{code:tn,message:`File type must be ${e}`}},mt=i=>({code:ln,message:`File is larger than ${i} bytes`}),_t=i=>({code:nn,message:`File is smaller than ${i} bytes`}),on={code:rn,message:"Too many files"};function fn(i,e){const l=i.type==="application/x-moz-file"||en(i,e);return[l,l?null:sn(e)]}function an(i,e,l){if(De(i.size))if(De(e)&&De(l)){if(i.size>l)return[!1,mt(l)];if(i.size<e)return[!1,_t(e)]}else{if(De(e)&&i.size<e)return[!1,_t(e)];if(De(l)&&i.size>l)return[!1,mt(l)]}return[!0,null]}function De(i){return i!=null}function ht(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function Pe(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!i.target&&!!i.target.files}function cn(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function un(i){return i.indexOf("Edge/")!==-1}function dn(i=window.navigator.userAgent){return cn(i)||un(i)}function mn(i){let e,l;return{c(){e=S("p"),l=G("Drag 'n' drop some files here, or click to select files")},l(t){e=A(t,"P",{});var n=O(e);l=K(n,"Drag 'n' drop some files here, or click to select files"),n.forEach(_)},m(t,n){y(t,e,n),I(e,l)},p:X,d(t){t&&_(e)}}}function _n(i){let e,l,t,n,s,r,f;const o=i[33].default,a=je(o,i,i[32],null),u=a||mn();return{c(){e=S("div"),l=S("input"),t=H(),u&&u.c(),this.h()},l(c){e=A(c,"DIV",{tabindex:!0,role:!0,class:!0,style:!0});var d=O(e);l=A(d,"INPUT",{accept:!0,type:!0,name:!0,autocomplete:!0,tabindex:!0,style:!0}),t=z(d),u&&u.l(d),d.forEach(_),this.h()},h(){C(l,"accept",i[1]),l.multiple=i[2],l.required=i[7],C(l,"type","file"),C(l,"name",i[6]),C(l,"autocomplete","off"),C(l,"tabindex","-1"),Ie(l,"display","none"),C(e,"tabindex","0"),C(e,"role","button"),C(e,"class",n=(i[5]?"":"dropzone")+" "+i[3]+" svelte-817dg2"),C(e,"style",i[4])},m(c,d){y(c,e,d),I(e,l),i[34](l),I(e,t),u&&u.m(e,null),i[35](e),s=!0,r||(f=[Z(window,"focus",i[22]),Z(window,"dragover",i[20]),Z(window,"drop",i[21]),Z(l,"change",i[16]),Z(l,"click",hn),Z(e,"keydown",i[18](i[9])),Z(e,"focus",i[18](i[10])),Z(e,"blur",i[18](i[11])),Z(e,"click",i[17](i[12])),Z(e,"dragenter",i[19](i[13])),Z(e,"dragover",i[19](i[14])),Z(e,"dragleave",i[19](i[15])),Z(e,"drop",i[19](i[16]))],r=!0)},p(c,d){(!s||d[0]&2)&&C(l,"accept",c[1]),(!s||d[0]&4)&&(l.multiple=c[2]),(!s||d[0]&128)&&(l.required=c[7]),(!s||d[0]&64)&&C(l,"name",c[6]),a&&a.p&&(!s||d[1]&2)&&Le(a,o,c,c[32],s?Ue(o,c[32],d,null):Re(c[32]),null),(!s||d[0]&40&&n!==(n=(c[5]?"":"dropzone")+" "+c[3]+" svelte-817dg2"))&&C(e,"class",n),(!s||d[0]&16)&&C(e,"style",c[4])},i(c){s||(p(u,c),s=!0)},o(c){E(u,c),s=!1},d(c){c&&_(e),i[34](null),u&&u.d(c),i[35](null),r=!1,nl(f)}}}function hn(i){i.stopPropagation()}function gn(i,e,l){let{$$slots:t={},$$scope:n}=e,{accept:s}=e,{disabled:r=!1}=e,{getFilesFromEvent:f=Wl}=e,{maxSize:o=1/0}=e,{minSize:a=0}=e,{multiple:u=!0}=e,{preventDropOnDocument:c=!0}=e,{noClick:d=!1}=e,{noKeyboard:g=!1}=e,{noDrag:w=!1}=e,{noDragEventsBubbling:m=!1}=e,{containerClasses:b=""}=e,{containerStyles:k=""}=e,{disableDefaultStyles:v=!1}=e,{name:h=""}=e,{inputElement:D}=e,{required:M=!1}=e;const F=Ne();let T={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},B;function W(){T.isFileDialogActive=!1,T.isDragActive=!1,T.draggedFiles=[],T.acceptedFiles=[],T.fileRejections=[]}function V(){D&&(l(0,D.value=null,D),T.isFileDialogActive=!0,D.click())}function P(N){!B||!B.isEqualNode(N.target)||(N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),V())}function le(){T.isFocused=!0}function ue(){T.isFocused=!1}function de(){d||(dn()?setTimeout(V,0):V())}function he(N){N.preventDefault(),ge(N),ce=[...ce,N.target],Pe(N)&&Promise.resolve(f(N)).then(me=>{ht(N)&&!m||(T.draggedFiles=me,T.isDragActive=!0,F("dragenter",{dragEvent:N}))})}function Q(N){if(N.preventDefault(),ge(N),N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return Pe(N)&&F("dragover",{dragEvent:N}),!1}function Ve(N){N.preventDefault(),ge(N);const me=ce.filter(_e=>B&&B.contains(_e)),oe=me.indexOf(N.target);oe!==-1&&me.splice(oe,1),ce=me,!(me.length>0)&&(T.isDragActive=!1,T.draggedFiles=[],Pe(N)&&F("dragleave",{dragEvent:N}))}function Oe(N){N.preventDefault(),ge(N),ce=[],Pe(N)&&(F("filedropped",{event:N}),Promise.resolve(f(N)).then(me=>{if(ht(N)&&!m)return;const oe=[],_e=[];me.forEach(we=>{const[ul,dl]=fn(we,s),[ml,_l]=an(we,a,o);if(ul&&ml)oe.push(we);else{const hl=[dl,_l].filter(gl=>gl);_e.push({file:we,errors:hl})}}),!u&&oe.length>1&&(oe.forEach(we=>{_e.push({file:we,errors:[on]})}),oe.splice(0)),N.dataTransfer&&l(0,D.files=N.dataTransfer.files,D),T.acceptedFiles=oe,T.fileRejections=_e,F("drop",{acceptedFiles:oe,fileRejections:_e,event:N}),_e.length>0&&F("droprejected",{fileRejections:_e,event:N}),oe.length>0&&F("dropaccepted",{acceptedFiles:oe,event:N})})),W()}function ke(N){return r?null:N}function Be(N){return g?null:ke(N)}function Me(N){return w?null:ke(N)}function ge(N){m&&N.stopPropagation()}function Ce(N){c&&N.preventDefault()}let ce=[];function He(N){c&&(B&&B.contains(N.target)||(N.preventDefault(),ce=[]))}function ze(){T.isFileDialogActive&&setTimeout(()=>{if(D){const{files:N}=D;N.length||(T.isFileDialogActive=!1,F("filedialogcancel"))}},300)}bl(()=>{l(0,D=null)});function al(N){be[N?"unshift":"push"](()=>{D=N,l(0,D)})}function cl(N){be[N?"unshift":"push"](()=>{B=N,l(8,B)})}return i.$$set=N=>{"accept"in N&&l(1,s=N.accept),"disabled"in N&&l(23,r=N.disabled),"getFilesFromEvent"in N&&l(24,f=N.getFilesFromEvent),"maxSize"in N&&l(25,o=N.maxSize),"minSize"in N&&l(26,a=N.minSize),"multiple"in N&&l(2,u=N.multiple),"preventDropOnDocument"in N&&l(27,c=N.preventDropOnDocument),"noClick"in N&&l(28,d=N.noClick),"noKeyboard"in N&&l(29,g=N.noKeyboard),"noDrag"in N&&l(30,w=N.noDrag),"noDragEventsBubbling"in N&&l(31,m=N.noDragEventsBubbling),"containerClasses"in N&&l(3,b=N.containerClasses),"containerStyles"in N&&l(4,k=N.containerStyles),"disableDefaultStyles"in N&&l(5,v=N.disableDefaultStyles),"name"in N&&l(6,h=N.name),"inputElement"in N&&l(0,D=N.inputElement),"required"in N&&l(7,M=N.required),"$$scope"in N&&l(32,n=N.$$scope)},[D,s,u,b,k,v,h,M,B,P,le,ue,de,he,Q,Ve,Oe,ke,Be,Me,Ce,He,ze,r,f,o,a,c,d,g,w,m,n,t,al,cl]}class bn extends ${constructor(e){super(),x(this,e,gn,_n,ee,{accept:1,disabled:23,getFilesFromEvent:24,maxSize:25,minSize:26,multiple:2,preventDropOnDocument:27,noClick:28,noKeyboard:29,noDrag:30,noDragEventsBubbling:31,containerClasses:3,containerStyles:4,disableDefaultStyles:5,name:6,inputElement:0,required:7},null,[-1,-1])}}function gt(i,e,l){const t=i.slice();return t[15]=e[l],t}function pn(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function vn(i){let e,l,t,n,s,r;return l=new bn({props:{accept:i[2].accept,multiple:i[2].multiple,maxSize:i[0],$$slots:{default:[kn]},$$scope:{ctx:i}}}),l.$on("drop",i[3]),s=new ne({props:{icon:Ol}}),{c(){e=S("div"),j(l.$$.fragment),t=H(),n=S("button"),j(s.$$.fragment),this.h()},l(f){e=A(f,"DIV",{});var o=O(e);L(l.$$.fragment,o),o.forEach(_),t=z(f),n=A(f,"BUTTON",{id:!0,color:!0,style:!0});var a=O(n);L(s.$$.fragment,a),a.forEach(_),this.h()},h(){C(n,"id",i[1]),C(n,"color","primary"),Ie(n,"display","none")},m(f,o){y(f,e,o),R(l,e,null),y(f,t,o),y(f,n,o),R(s,n,null),r=!0},p(f,o){const a={};o&4&&(a.accept=f[2].accept),o&4&&(a.multiple=f[2].multiple),o&1&&(a.maxSize=f[0]),o&262148&&(a.$$scope={dirty:o,ctx:f}),l.$set(a),(!r||o&2)&&C(n,"id",f[1])},i(f){r||(p(l.$$.fragment,f),p(s.$$.fragment,f),r=!0)},o(f){E(l.$$.fragment,f),E(s.$$.fragment,f),r=!1},d(f){f&&_(e),U(l),f&&_(t),f&&_(n),U(s)}}}function bt(i){let e,l=i[2].accept,t=[];for(let n=0;n<l.length;n+=1)t[n]=pt(gt(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=q()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=q()},m(n,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,s);y(n,e,s)},p(n,s){if(s&4){l=n[2].accept;let r;for(r=0;r<l.length;r+=1){const f=gt(n,l,r);t[r]?t[r].p(f,s):(t[r]=pt(f),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){ve(t,n),n&&_(e)}}}function pt(i){let e=i[15]+"",l,t;return{c(){l=G(e),t=G(" ,")},l(n){l=K(n,e),t=K(n," ,")},m(n,s){y(n,l,s),y(n,t,s)},p(n,s){s&4&&e!==(e=n[15]+"")&&te(l,e)},d(n){n&&_(l),n&&_(t)}}}function kn(i){let e,l,t,n,s,r,f,o,a,u=i[2].maxSize+"",c,d,g,w,m;l=new ne({props:{icon:wl}});let b=i[2].accept&&bt(i);return{c(){e=S("b"),j(l.$$.fragment),t=H(),n=S("span"),s=S("b"),r=G("Drag 'n' drop some files here, or click to select files"),f=H(),o=S("b"),a=G("max file : "),c=G(u),d=G(" mb"),g=H(),w=S("p"),b&&b.c(),this.h()},l(k){e=A(k,"B",{style:!0});var v=O(e);L(l.$$.fragment,v),v.forEach(_),t=z(k),n=A(k,"SPAN",{});var h=O(n);s=A(h,"B",{});var D=O(s);r=K(D,"Drag 'n' drop some files here, or click to select files"),D.forEach(_),f=z(h),o=A(h,"B",{});var M=O(o);a=K(M,"max file : "),c=K(M,u),d=K(M," mb"),M.forEach(_),h.forEach(_),g=z(k),w=A(k,"P",{});var F=O(w);b&&b.l(F),F.forEach(_),this.h()},h(){Ie(e,"font-size","xx-large")},m(k,v){y(k,e,v),R(l,e,null),y(k,t,v),y(k,n,v),I(n,s),I(s,r),I(n,f),I(n,o),I(o,a),I(o,c),I(o,d),y(k,g,v),y(k,w,v),b&&b.m(w,null),m=!0},p(k,v){(!m||v&4)&&u!==(u=k[2].maxSize+"")&&te(c,u),k[2].accept?b?b.p(k,v):(b=bt(k),b.c(),b.m(w,null)):b&&(b.d(1),b=null)},i(k){m||(p(l.$$.fragment,k),m=!0)},o(k){E(l.$$.fragment,k),m=!1},d(k){k&&_(e),U(l),k&&_(t),k&&_(n),k&&_(g),k&&_(w),b&&b.d()}}}function wn(i){let e,l,t,n,s,r;const f=[vn,pn],o=[];function a(u,c){return u[2]?0:1}return l=a(i),t=o[l]=f[l](i),{c(){e=S("form"),t.c()},l(u){e=A(u,"FORM",{});var c=O(e);t.l(c),c.forEach(_)},m(u,c){y(u,e,c),o[l].m(e,null),n=!0,s||(r=Z(e,"submit",pl(i[4])),s=!0)},p(u,[c]){let d=l;l=a(u),l===d?o[l].p(u,c):(Y(),E(o[d],1,1,()=>{o[d]=null}),J(),t=o[l],t?t.p(u,c):(t=o[l]=f[l](u),t.c()),p(t,1),t.m(e,null))},i(u){n||(p(t),n=!0)},o(u){E(t),n=!1},d(u){u&&_(e),o[l].d(),s=!1,r()}}}function En(i){let e="";e=i.file.path+" : ";let l=i.errors;for(let t=0;t<l.length;t++){const n=l[t];e+=n.message}return e}function Dn(i,e,l){let t,n,{id:s=0}=e,{version:r=1}=e,{start:f=""}=e,{submit:o=""}=e,{context:a=""}=e,{data:u}=e,c=0;const d=Ne();let g={accepted:[],rejected:[]};fe(async()=>{console.log("fileupload - OnMount",u),u?l(2,t=u):w(),t&&(l(1,n+=a),l(0,c=t.maxSize*1024*1024))});async function w(){let k=f+"?id="+s+"&version="+r;const v=await pe.get(k);l(2,t=await v.data()),console.log("fileupload",t)}function m(k){var D;console.log("handleFilesSelect",k),console.log("files",g);const{acceptedFiles:v,fileRejections:h}=k.detail;if(l(11,g.accepted=[...g.accepted,...v],g),l(11,g.rejected=[...g.rejected,...h],g),console.log("acceptedFiles",v),console.log("files.accepted",g.accepted),h.length>0){console.log("the dropped file is not supported."),console.log(g.rejected);let M=[""];for(let F=0;F<h.length;F++){const T=h[F];M.push(En(T))}console.log(M),d("error",{messages:M}),l(11,g.rejected=[],g)}v.length>0&&((D=document.getElementById(n))==null||D.click())}async function b(){console.log("SUBMIT"),d("submit");let k=o+"?id="+s;if(console.log("SUBMIT"),g.accepted.length>0){console.log(g);const h=new FormData;h.append("files","123");for(var v=0;v<g.accepted.length;v++)h.append(g.accepted[v].name,g.accepted[v]);if((await pe.post(k,h)).status==200){d("submited");let M=g.accepted.length+" is/are uploaded";d("success",{text:M}),l(11,g.accepted=[],g)}}}return i.$$set=k=>{"id"in k&&l(5,s=k.id),"version"in k&&l(6,r=k.version),"start"in k&&l(7,f=k.start),"submit"in k&&l(8,o=k.submit),"context"in k&&l(9,a=k.context),"data"in k&&l(10,u=k.data)},i.$$.update=()=>{i.$$.dirty&1024&&l(2,t=u),i.$$.dirty&2048},l(1,n="submit"),[c,n,t,m,b,s,r,f,o,a,u,g]}class In extends ${constructor(e){super(),x(this,e,Dn,wn,ee,{id:5,version:6,start:7,submit:8,context:9,data:10})}}const Fn=i=>({}),vt=i=>({});function kt(i){let e,l,t,n,s,r,f,o,a,u,c,d,g=i[0]&&wt(i);const w=i[6].default,m=je(w,i,i[5],null),b=i[6].actions,k=je(b,i,i[5],vt);let v=i[3]&&Et(i);return{c(){e=S("aside"),l=S("div"),g&&g.c(),t=H(),n=S("p"),s=G(i[1]),r=H(),m&&m.c(),f=H(),o=S("div"),k&&k.c(),a=H(),v&&v.c(),this.h()},l(h){e=A(h,"ASIDE",{class:!0});var D=O(e);l=A(D,"DIV",{class:!0});var M=O(l);g&&g.l(M),t=z(M),n=A(M,"P",{});var F=O(n);s=K(F,i[1]),r=z(F),m&&m.l(F),F.forEach(_),M.forEach(_),f=z(D),o=A(D,"DIV",{class:!0});var T=O(o);k&&k.l(T),a=z(T),v&&v.l(T),T.forEach(_),D.forEach(_),this.h()},h(){C(l,"class","alert-message"),C(o,"class","alert-actions"),C(e,"class",u="alert "+i[2])},m(h,D){y(h,e,D),I(e,l),g&&g.m(l,null),I(l,t),I(l,n),I(n,s),I(n,r),m&&m.m(n,null),I(e,f),I(e,o),k&&k.m(o,null),I(o,a),v&&v.m(o,null),d=!0},p(h,D){h[0]?g?g.p(h,D):(g=wt(h),g.c(),g.m(l,t)):g&&(g.d(1),g=null),(!d||D&2)&&te(s,h[1]),m&&m.p&&(!d||D&32)&&Le(m,w,h,h[5],d?Ue(w,h[5],D,null):Re(h[5]),null),k&&k.p&&(!d||D&32)&&Le(k,b,h,h[5],d?Ue(b,h[5],D,Fn):Re(h[5]),vt),h[3]?v?(v.p(h,D),D&8&&p(v,1)):(v=Et(h),v.c(),p(v,1),v.m(o,null)):v&&(Y(),E(v,1,1,()=>{v=null}),J()),(!d||D&4&&u!==(u="alert "+h[2]))&&C(e,"class",u)},i(h){d||(p(m,h),p(k,h),p(v),h&&vl(()=>{d&&(c||(c=xe(e,lt,{duration:100},!0)),c.run(1))}),d=!0)},o(h){E(m,h),E(k,h),E(v),h&&(c||(c=xe(e,lt,{duration:100},!1)),c.run(0)),d=!1},d(h){h&&_(e),g&&g.d(),m&&m.d(h),k&&k.d(h),v&&v.d(),h&&c&&c.end()}}}function wt(i){let e,l;return{c(){e=S("h3"),l=G(i[0]),this.h()},l(t){e=A(t,"H3",{class:!0});var n=O(e);l=K(n,i[0]),n.forEach(_),this.h()},h(){C(e,"class","h3")},m(t,n){y(t,e,n),I(e,l)},p(t,n){n&1&&te(l,t[0])},d(t){t&&_(e)}}}function Et(i){let e,l,t,n,s;return l=new ne({props:{icon:El}}),{c(){e=S("button"),j(l.$$.fragment),this.h()},l(r){e=A(r,"BUTTON",{class:!0});var f=O(e);L(l.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"class","btn hover:text-primary-100")},m(r,f){y(r,e,f),R(l,e,null),t=!0,n||(s=Z(e,"click",i[7]),n=!0)},p:X,i(r){t||(p(l.$$.fragment,r),t=!0)},o(r){E(l.$$.fragment,r),t=!1},d(r){r&&_(e),U(l),n=!1,s()}}}function Tn(i){let e,l,t=i[4]&&kt(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[4]?t?(t.p(n,s),s&16&&p(t,1)):(t=kt(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function yn(i,e,l){let t,{$$slots:n={},$$scope:s}=e,{title:r=""}=e,{message:f=""}=e,{cssClass:o=""}=e,{deleteBtn:a=!0}=e;const u=()=>l(4,t=!1);return i.$$set=c=>{"title"in c&&l(0,r=c.title),"message"in c&&l(1,f=c.message),"cssClass"in c&&l(2,o=c.cssClass),"deleteBtn"in c&&l(3,a=c.deleteBtn),"$$scope"in c&&l(5,s=c.$$scope)},l(4,t=!0),[r,f,o,a,t,s,n,u]}class fl extends ${constructor(e){super(),x(this,e,yn,Tn,ee,{title:0,message:1,cssClass:2,deleteBtn:3})}}const Dt=async i=>{console.log("edit",i);try{const e=await pe.get("/dcm/edit/load?id="+i);return console.log(e),e.data}catch(e){console.error("error",e)}},Nn=async(i,e,l,t)=>{try{return(await pe.post(i,{id:e,file:l,description:t})).data}catch(n){console.error(n)}},Sn=async(i,e,l)=>{try{return console.log("remove"),console.log(i),console.log(e),console.log(l),(await pe.post(i,{id:e,file:l})).data}catch(t){console.error(t)}};function An(i){let e,l,t,n,s,r,f,o,a;function u(d){i[3](d)}let c={};return i[0]!==void 0&&(c.value=i[0]),f=new il({props:c}),be.push(()=>Fe(f,"value",u)),{c(){e=S("div"),l=S("div"),t=S("h4"),n=G("Title"),s=H(),r=S("div"),j(f.$$.fragment),this.h()},l(d){e=A(d,"DIV",{class:!0});var g=O(e);l=A(g,"DIV",{class:!0});var w=O(l);t=A(w,"H4",{class:!0});var m=O(t);n=K(m,"Title"),m.forEach(_),w.forEach(_),s=z(g),r=A(g,"DIV",{class:!0});var b=O(r);L(f.$$.fragment,b),b.forEach(_),g.forEach(_),this.h()},h(){C(t,"class","h4"),C(l,"class","flex gap-2 text-center"),C(r,"class","col-span-2"),C(e,"class","grid p-5 m-2 grid-cols-6")},m(d,g){y(d,e,g),I(e,l),I(l,t),I(t,n),I(e,s),I(e,r),R(f,r,null),a=!0},p(d,[g]){const w={};!o&&g&1&&(o=!0,w.value=d[0],Te(()=>o=!1)),f.$set(w)},i(d){a||(p(f.$$.fragment,d),a=!0)},o(d){E(f.$$.fragment,d),a=!1},d(d){d&&_(e),U(f)}}}function Vn(i,e,l){let{id:t}=e,{version:n}=e,{title:s=""}=e;function r(f){s=f,l(0,s)}return i.$$set=f=>{"id"in f&&l(1,t=f.id),"version"in f&&l(2,n=f.version),"title"in f&&l(0,s=f.title)},[s,t,n,r]}class On extends ${constructor(e){super(),x(this,e,Vn,An,ee,{id:1,version:2,title:0})}}function Bn(i){let e,l=i[1].toUpperCase()+"",t,n,s,r;return{c(){e=S("div"),t=G(l),this.h()},l(f){e=A(f,"DIV",{class:!0,title:!0});var o=O(e);t=K(o,l),o.forEach(_),this.h()},h(){C(e,"class",n="mb-3 hook-status-"+i[0]+" hook"),C(e,"title",i[2]),et(e,"inactive",!i[4])},m(f,o){y(f,e,o),I(e,t),s||(r=Z(e,"click",i[5]),s=!0)},p(f,o){o&2&&l!==(l=f[1].toUpperCase()+"")&&te(t,l),o&1&&n!==(n="mb-3 hook-status-"+f[0]+" hook")&&C(e,"class",n),o&4&&C(e,"title",f[2]),o&17&&et(e,"inactive",!f[4])},d(f){f&&_(e),s=!1,r()}}}function Mn(i){let e,l=i[3]&&Bn(i);return{c(){l&&l.c(),e=q()},l(t){l&&l.l(t),e=q()},m(t,n){l&&l.m(t,n),y(t,e,n)},p(t,[n]){t[3]&&l.p(t,n)},i:X,o:X,d(t){l&&l.d(t),t&&_(e)}}}function Cn(i){return!(i==0||i==1)}function Hn(i){return!(i==0||i==1||i==5)}function zn(i,e,l){let{status:t=0}=e,{displayName:n=""}=e,{description:s=""}=e;const r=Cn(t),f=Hn(t);console.log(f);function o(a){Je.call(this,i,a)}return i.$$set=a=>{"status"in a&&l(0,t=a.status),"displayName"in a&&l(1,n=a.displayName),"description"in a&&l(2,s=a.description)},[t,n,s,r,f,o]}class Pn extends ${constructor(e){super(),x(this,e,zn,Mn,ee,{status:0,displayName:1,description:2})}}const Ke=Ze(0),We=Ze(0),jn={[""]:0},Qe=Ze(jn),Ln=i=>({}),It=i=>({errorHandler:i[6],successHandler:i[7],warningHandler:qn});function Ft(i,e,l){const t=i.slice();return t[14]=e[l],t}function Tt(i){let e,l,t,n,s,r,f,o,a,u,c=i[4]&&yt(i),d=i[3]&&St(i);const g=i[12].view,w=je(g,i,i[11],It),m=w||Rn();return{c(){e=S("div"),l=S("div"),t=S("h4"),n=G(i[0]),s=H(),r=S("div"),c&&c.c(),f=H(),d&&d.c(),o=H(),m&&m.c(),this.h()},l(b){e=A(b,"DIV",{class:!0});var k=O(e);l=A(k,"DIV",{class:!0});var v=O(l);t=A(v,"H4",{class:!0});var h=O(t);n=K(h,i[0]),h.forEach(_),v.forEach(_),s=z(k),r=A(k,"DIV",{class:!0});var D=O(r);c&&c.l(D),f=z(D),d&&d.l(D),o=z(D),m&&m.l(D),D.forEach(_),k.forEach(_),this.h()},h(){C(t,"class","h5"),C(l,"class","flex gap-2 text-center"),C(r,"class","col-span-5"),C(e,"class",a="grid p-5 m-2 grid-cols-6 "+i[2])},m(b,k){y(b,e,k),I(e,l),I(l,t),I(t,n),I(e,s),I(e,r),c&&c.m(r,null),I(r,f),d&&d.m(r,null),I(r,o),m&&m.m(r,null),u=!0},p(b,k){(!u||k&1)&&te(n,b[0]),b[4]?c?(c.p(b,k),k&16&&p(c,1)):(c=yt(b),c.c(),p(c,1),c.m(r,f)):c&&(Y(),E(c,1,1,()=>{c=null}),J()),b[3]?d?(d.p(b,k),k&8&&p(d,1)):(d=St(b),d.c(),p(d,1),d.m(r,o)):d&&(Y(),E(d,1,1,()=>{d=null}),J()),w&&w.p&&(!u||k&2048)&&Le(w,g,b,b[11],u?Ue(g,b[11],k,Ln):Re(b[11]),It),(!u||k&4&&a!==(a="grid p-5 m-2 grid-cols-6 "+b[2]))&&C(e,"class",a)},i(b){u||(p(c),p(d),p(m,b),u=!0)},o(b){E(c),E(d),E(m,b),u=!1},d(b){b&&_(e),c&&c.d(),d&&d.d(),m&&m.d(b)}}}function yt(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=Nt(Ft(i,t,r));const s=r=>E(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=q()},l(r){for(let f=0;f<n.length;f+=1)n[f].l(r);e=q()},m(r,f){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(r,f);y(r,e,f),l=!0},p(r,f){if(f&16){t=r[4];let o;for(o=0;o<t.length;o+=1){const a=Ft(r,t,o);n[o]?(n[o].p(a,f),p(n[o],1)):(n[o]=Nt(a),n[o].c(),p(n[o],1),n[o].m(e.parentNode,e))}for(Y(),o=t.length;o<n.length;o+=1)s(o);J()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)p(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)E(n[f]);l=!1},d(r){ve(n,r),r&&_(e)}}}function Nt(i){let e,l;return e=new fl({props:{cssClass:"variant-filled-error",message:i[14]}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&16&&(s.message=t[14]),e.$set(s)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function St(i){let e,l;return e=new fl({props:{cssClass:"variant-filled-success",message:i[3]}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&8&&(s.message=t[3]),e.$set(s)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Rn(i){let e;return{c(){e=G("render view")},l(l){e=K(l,"render view")},m(l,t){y(l,e,t)},d(l){l&&_(e)}}}function Un(i){let e,l,t=i[1]&&i[5]&&Tt(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[1]&&n[5]?t?(t.p(n,s),s&34&&p(t,1)):(t=Tt(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function qn(i){console.log("handle warnings here"),console.log(i.detail.text)}function Gn(i){return!(i==0||i==1||i==5)}function Kn(i,e,l){let t,n,s,{$$slots:r={},$$scope:f}=e,{name:o}=e,{displayName:a}=e,{content:u=9}=e,{visible:c=!0}=e,{status:d=0}=e,{color:g=""}=e;fe(async()=>{Qe.subscribe(b=>{b[o]!=null&&l(5,s=Gn(b[o]))})});function w(b){console.log("handle errors here"),console.log(b.detail.messages),l(4,t=b.detail.messages)}function m(b){console.log("handle success here"),console.log(b.detail.text),l(3,n=b.detail.text)}return i.$$set=b=>{"name"in b&&l(8,o=b.name),"displayName"in b&&l(0,a=b.displayName),"content"in b&&l(9,u=b.content),"visible"in b&&l(1,c=b.visible),"status"in b&&l(10,d=b.status),"color"in b&&l(2,g=b.color),"$$scope"in b&&l(11,f=b.$$scope)},l(4,t=[]),l(3,n=null),l(5,s=!1),[a,c,g,n,t,s,w,m,o,u,d,f,r]}class Ee extends ${constructor(e){super(),x(this,e,Kn,Un,ee,{name:8,displayName:0,content:9,visible:1,status:10,color:2})}}const Ye=async(i,e,l)=>{try{const t=i+"?id="+e+"&version="+l;return(await pe.get(t)).data}catch(t){console.error(t)}};function At(i,e,l){const t=i.slice();return t[13]=e[l],t}function Vt(i,e,l){const t=i.slice();return t[16]=e[l],t}function Wn(i){let e,l;return e=new ae({props:{color:"info",size:"sm",type:"grow","text-center":!0}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Yn(i){let e;function l(s,r){return s[0].isValid==!0?Xn:Jn}let t=l(i),n=t(i);return{c(){n.c(),e=q()},l(s){n.l(s),e=q()},m(s,r){n.m(s,r),y(s,e,r)},p(s,r){t===(t=l(s))&&n?n.p(s,r):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},i:X,o:X,d(s){n.d(s),s&&_(e)}}}function Jn(i){let e,l,t,n,s,r,f,o,a,u,c,d,g,w,m=i[0].fileErrors&&Ot(i);return{c(){e=S("aside"),l=S("div"),t=G("not valid"),n=H(),m&&m.c(),s=H(),r=S("br"),f=H(),o=S("button"),a=G("open reader informations"),u=H(),c=S("p"),d=G("modal missing"),this.h()},l(b){e=A(b,"ASIDE",{class:!0});var k=O(e);l=A(k,"DIV",{class:!0});var v=O(l);t=K(v,"not valid"),v.forEach(_),k.forEach(_),n=z(b),m&&m.l(b),s=z(b),r=A(b,"BR",{}),f=z(b),o=A(b,"BUTTON",{class:!0});var h=O(o);a=K(h,"open reader informations"),h.forEach(_),u=z(b),c=A(b,"P",{});var D=O(c);d=K(D,"modal missing"),D.forEach(_),this.h()},h(){C(l,"class","alert-message"),C(e,"class","alert variant-filled-error"),C(o,"class","btn bg-primary-500")},m(b,k){y(b,e,k),I(e,l),I(l,t),y(b,n,k),m&&m.m(b,k),y(b,s,k),y(b,r,k),y(b,f,k),y(b,o,k),I(o,a),y(b,u,k),y(b,c,k),I(c,d),g||(w=Z(o,"click",i[1]),g=!0)},p(b,k){b[0].fileErrors?m?m.p(b,k):(m=Ot(b),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},d(b){b&&_(e),b&&_(n),m&&m.d(b),b&&_(s),b&&_(r),b&&_(f),b&&_(o),b&&_(u),b&&_(c),g=!1,w()}}}function Xn(i){let e,l,t;return{c(){e=S("aside"),l=S("div"),t=G("valid"),this.h()},l(n){e=A(n,"ASIDE",{class:!0});var s=O(e);l=A(s,"DIV",{class:!0});var r=O(l);t=K(r,"valid"),r.forEach(_),s.forEach(_),this.h()},h(){C(l,"class","alert-message"),C(e,"class","alert variant-filled-success")},m(n,s){y(n,e,s),I(e,l),I(l,t)},p:X,d(n){n&&_(e)}}}function Ot(i){let e,l=i[0].fileErrors,t=[];for(let n=0;n<l.length;n+=1)t[n]=Mt(At(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=q()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=q()},m(n,s){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,s);y(n,e,s)},p(n,s){if(s&1){l=n[0].fileErrors;let r;for(r=0;r<l.length;r+=1){const f=At(n,l,r);t[r]?t[r].p(f,s):(t[r]=Mt(f),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){ve(t,n),n&&_(e)}}}function Bt(i){let e,l=i[16]+"",t;return{c(){e=S("li"),t=G(l)},l(n){e=A(n,"LI",{});var s=O(e);t=K(s,l),s.forEach(_)},m(n,s){y(n,e,s),I(e,t)},p(n,s){s&1&&l!==(l=n[16]+"")&&te(t,l)},d(n){n&&_(e)}}}function Mt(i){let e,l,t,n=i[13].file+"",s,r,f,o,a=i[13].errors,u=[];for(let c=0;c<a.length;c+=1)u[c]=Bt(Vt(i,a,c));return{c(){e=S("hr"),l=H(),t=S("b"),s=G(n),r=H(),f=S("ul");for(let c=0;c<u.length;c+=1)u[c].c();o=H()},l(c){e=A(c,"HR",{}),l=z(c),t=A(c,"B",{});var d=O(t);s=K(d,n),d.forEach(_),r=z(c),f=A(c,"UL",{});var g=O(f);for(let w=0;w<u.length;w+=1)u[w].l(g);o=z(g),g.forEach(_)},m(c,d){y(c,e,d),y(c,l,d),y(c,t,d),I(t,s),y(c,r,d),y(c,f,d);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(f,null);I(f,o)},p(c,d){if(d&1&&n!==(n=c[13].file+"")&&te(s,n),d&1){a=c[13].errors;let g;for(g=0;g<a.length;g+=1){const w=Vt(c,a,g);u[g]?u[g].p(w,d):(u[g]=Bt(w),u[g].c(),u[g].m(f,o))}for(;g<u.length;g+=1)u[g].d(1);u.length=a.length}},d(c){c&&_(e),c&&_(l),c&&_(t),c&&_(r),c&&_(f),ve(u,c)}}}function Qn(i){let e,l,t,n;const s=[Yn,Wn],r=[];function f(o,a){return o[0]?0:1}return e=f(i),l=r[e]=s[e](i),{c(){l.c(),t=q()},l(o){l.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),n=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),E(r[u],1,1,()=>{r[u]=null}),J(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){n||(p(l),n=!0)},o(o){E(l),n=!1},d(o){r[e].d(o),o&&_(t)}}}function Zn(i,e,l){let t,n;ye(i,We,m=>l(8,t=m)),ye(i,Ke,m=>l(9,n=m));let{id:s=0}=e,{version:r=1}=e,{status:f=0}=e,{displayName:o=""}=e,{start:a=""}=e,{description:u=""}=e,c;fe(async()=>{d()});async function d(){l(0,c=await Ye(a,s,r)),console.log("validation",c)}async function g(){d()}const w=()=>{};return i.$$set=m=>{"id"in m&&l(2,s=m.id),"version"in m&&l(3,r=m.version),"status"in m&&l(4,f=m.status),"displayName"in m&&l(5,o=m.displayName),"start"in m&&l(6,a=m.start),"description"in m&&l(7,u=m.description)},i.$$.update=()=>{i.$$.dirty&512&&g(),i.$$.dirty&256&&g()},[c,w,s,r,f,o,a,u,t,n]}class $n extends ${constructor(e){super(),x(this,e,Zn,Qn,ee,{id:2,version:3,status:4,displayName:5,start:6,description:7})}}function Ct(i){let e,l,t,n,s,r,f,o,a,u,c,d,g,w,m,b,k,v;t=new Ll({props:{type:i[2],size:"x-large"}});const h=[ei,xn],D=[];function M(T,B){return T[3]?0:1}a=M(i),u=D[a]=h[a](i),w=new ne({props:{icon:rl}});let F=i[4]&&Ht();return{c(){e=S("div"),l=S("div"),j(t.$$.fragment),n=H(),s=S("div"),r=G(i[1]),o=H(),u.c(),c=H(),d=S("div"),g=S("button"),j(w.$$.fragment),m=H(),F&&F.c(),this.h()},l(T){e=A(T,"DIV",{class:!0});var B=O(e);l=A(B,"DIV",{class:!0});var W=O(l);L(t.$$.fragment,W),W.forEach(_),n=z(B),s=A(B,"DIV",{class:!0});var V=O(s);r=K(V,i[1]),V.forEach(_),o=z(B),u.l(B),c=z(B),d=A(B,"DIV",{class:!0});var P=O(d);g=A(P,"BUTTON",{class:!0});var le=O(g);L(w.$$.fragment,le),le.forEach(_),m=z(P),F&&F.l(P),P.forEach(_),B.forEach(_),this.h()},h(){C(l,"class","self-center"),C(s,"class",f=i[5]+" self-center"),C(g,"class","btn"),C(d,"class","text-right"),C(e,"class","grid grid-cols-10")},m(T,B){y(T,e,B),I(e,l),R(t,l,null),I(e,n),I(e,s),I(s,r),I(e,o),D[a].m(e,null),I(e,c),I(e,d),I(d,g),R(w,g,null),I(d,m),F&&F.m(d,null),b=!0,k||(v=Z(g,"click",i[14]),k=!0)},p(T,B){const W={};B&4&&(W.type=T[2]),t.$set(W),(!b||B&2)&&te(r,T[1]),(!b||B&32&&f!==(f=T[5]+" self-center"))&&C(s,"class",f);let V=a;a=M(T),a===V?D[a].p(T,B):(Y(),E(D[V],1,1,()=>{D[V]=null}),J(),u=D[a],u?u.p(T,B):(u=D[a]=h[a](T),u.c()),p(u,1),u.m(e,c)),T[4]?F?B&16&&p(F,1):(F=Ht(),F.c(),p(F,1),F.m(d,null)):F&&(Y(),E(F,1,1,()=>{F=null}),J())},i(T){b||(p(t.$$.fragment,T),p(u),p(w.$$.fragment,T),p(F),b=!0)},o(T){E(t.$$.fragment,T),E(u),E(w.$$.fragment,T),E(F),b=!1},d(T){T&&_(e),U(t),D[a].d(),U(w),F&&F.d(),k=!1,v()}}}function xn(i){let e;return{c(){e=S("div")},l(l){e=A(l,"DIV",{}),O(e).forEach(_)},m(l,t){y(l,e,t)},p:X,i:X,o:X,d(l){l&&_(e)}}}function ei(i){let e,l,t,n,s;function r(o){i[12](o)}let f={};return i[0]!==void 0&&(f.value=i[0]),l=new il({props:f}),be.push(()=>Fe(l,"value",r)),l.$on("change",i[13]),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=O(e);L(l.$$.fragment,a),a.forEach(_),this.h()},h(){C(e,"class",n=i[5]+" self-center")},m(o,a){y(o,e,a),R(l,e,null),s=!0},p(o,a){const u={};!t&&a&1&&(t=!0,u.value=o[0],Te(()=>t=!1)),l.$set(u),(!s||a&32&&n!==(n=o[5]+" self-center"))&&C(e,"class",n)},i(o){s||(p(l.$$.fragment,o),s=!0)},o(o){E(l.$$.fragment,o),s=!1},d(o){o&&_(e),U(l)}}}function Ht(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ti(i){let e,l,t=i[2]&&Ct(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[2]?t?(t.p(n,s),s&4&&p(t,1)):(t=Ct(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function li(i,e,l){let{id:t}=e,{file:n}=e,{type:s}=e,{description:r}=e,{withDescription:f}=e;const o=Ne();let{save:a}=e,{remove:u}=e,{generateAble:c=!1}=e,d=!1,g="col-span-7";fe(async()=>{l(5,g=f?"col-span-4":"col-span-7")});async function w(){console.log("remove file"),l(4,d=!0);const h=await Sn(u,t,n);if(console.log("remove file",h),h==!0){console.log("remove file");let D=n+" removed.";o("removed",{text:D})}l(4,d=!1)}async function m(){await Nn(a,t,n,r);{let h="Description of "+n+" is updated.";o("saved",{text:h})}}function b(h){r=h,l(0,r)}const k=h=>m(),v=h=>w();return i.$$set=h=>{"id"in h&&l(8,t=h.id),"file"in h&&l(1,n=h.file),"type"in h&&l(2,s=h.type),"description"in h&&l(0,r=h.description),"withDescription"in h&&l(3,f=h.withDescription),"save"in h&&l(9,a=h.save),"remove"in h&&l(10,u=h.remove),"generateAble"in h&&l(11,c=h.generateAble)},[r,n,s,f,d,g,w,m,t,a,u,c,b,k,v]}class ni extends ${constructor(e){super(),x(this,e,li,ti,ee,{id:8,file:1,type:2,description:0,withDescription:3,save:9,remove:10,generateAble:11})}}function zt(i,e,l){const t=i.slice();return t[13]=e[l],t[15]=l,t}function ii(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ri(i){let e,l,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=Pt(zt(i,t,r));const s=r=>E(n[r],1,1,()=>{n[r]=null});return{c(){e=S("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var f=O(e);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(_),this.h()},h(){C(e,"class","grid gap-2 divide-y-2 p-3 max-h-[180px] overflow-auto")},m(r,f){y(r,e,f);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);l=!0},p(r,f){if(f&127){t=r[0];let o;for(o=0;o<t.length;o+=1){const a=zt(r,t,o);n[o]?(n[o].p(a,f),p(n[o],1)):(n[o]=Pt(a),n[o].c(),p(n[o],1),n[o].m(e,null))}for(Y(),o=t.length;o<n.length;o+=1)s(o);J()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)p(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)E(n[f]);l=!1},d(r){r&&_(e),ve(n,r)}}}function Pt(i){let e,l;const t=[{id:i[1]},{file:i[13].name},i[13],{save:i[2]},{remove:i[3]},{withDescription:i[4]}];function n(...r){return i[9](i[15],...r)}let s={};for(let r=0;r<t.length;r+=1)s=ie(s,t[r]);return e=new ni({props:s}),e.$on("removed",n),e.$on("saved",i[6]),{c(){j(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,f){R(e,r,f),l=!0},p(r,f){i=r;const o=f&31?re(t,[f&2&&{id:i[1]},f&1&&{file:i[13].name},f&1&&se(i[13]),f&4&&{save:i[2]},f&8&&{remove:i[3]},f&16&&{withDescription:i[4]}]):{};e.$set(o)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){U(e,r)}}}function si(i){let e,l,t,n;const s=[ri,ii],r=[];function f(o,a){return o[0]?0:1}return e=f(i),l=r[e]=s[e](i),{c(){l.c(),t=q()},l(o){l.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),n=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),E(r[u],1,1,()=>{r[u]=null}),J(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){n||(p(l),n=!0)},o(o){E(l),n=!1},d(o){r[e].d(o),o&&_(t)}}}function oi(i,e,l){let{id:t}=e,{files:n}=e,{save:s}=e,{remove:r}=e,{descriptionType:f}=e,o;const a=Ne();let u;fe(async()=>{l(8,u=Date.now()),g(f)});async function c(m,b){console.log("handleRemoveFile",m,b),n.splice(b,1),l(0,n=[...n]),a("success",{text:m.detail.text})}async function d(m){a("success",{text:m.detail.text})}function g(m){m==0&&l(4,o=!1),m==1&&l(4,o=!0),m==2&&l(4,o=!0)}const w=(m,b)=>c(b,m);return i.$$set=m=>{"id"in m&&l(1,t=m.id),"files"in m&&l(0,n=m.files),"save"in m&&l(2,s=m.save),"remove"in m&&l(3,r=m.remove),"descriptionType"in m&&l(7,f=m.descriptionType)},i.$$.update=()=>{i.$$.dirty&256},[n,t,s,r,o,c,d,f,u,w]}class fi extends ${constructor(e){super(),x(this,e,oi,si,ee,{id:1,files:0,save:2,remove:3,descriptionType:7})}}function ai(i){let e,l,t,n,s,r,f;return t=new ne({props:{icon:Bl}}),{c(){e=S("div"),l=S("div"),j(t.$$.fragment),n=H(),s=S("div"),r=G(i[0]),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=O(e);l=A(a,"DIV",{class:!0});var u=O(l);L(t.$$.fragment,u),u.forEach(_),n=z(a),s=A(a,"DIV",{class:!0});var c=O(s);r=K(c,i[0]),c.forEach(_),a.forEach(_),this.h()},h(){C(l,"class","self-center"),C(s,"class","self-center"),C(e,"class","flex gap-1 pb-5")},m(o,a){y(o,e,a),I(e,l),R(t,l,null),I(e,n),I(e,s),I(s,r),f=!0},p(o,[a]){(!f||a&1)&&te(r,o[0])},i(o){f||(p(t.$$.fragment,o),f=!0)},o(o){E(t.$$.fragment,o),f=!1},d(o){o&&_(e),U(t)}}}function ci(i){return i>=10?i.toString():`0${i}`}function ui(i){const e=ci(Math.floor(i/1e3/60));return e<60?`${e} min`:"> 60 min"}function di(i,e,l){let t,n,{milliseconds:s=0}=e;return fe(async()=>{setInterval(()=>{t=new Date,l(0,n=ui(t-s))},1e3)}),i.$$set=r=>{"milliseconds"in r&&l(1,s=r.milliseconds)},t=new Date,l(0,n=null),[n,s]}class $e extends ${constructor(e){super(),x(this,e,di,ai,ee,{milliseconds:1})}}function jt(i){let e,l,t,n,s,r,f=i[2].lastModification&&Lt(i);l=new In({props:{id:i[0],version:i[1],context:bi,data:i[2],start:i[3],submit:gi}}),l.$on("submited",i[5]),l.$on("submit",i[7]),l.$on("error",i[8]),l.$on("success",i[9]);let o=i[2].existingFiles&&Rt(i),a=i[4]&&Ut();return{c(){f&&f.c(),e=H(),j(l.$$.fragment),t=H(),o&&o.c(),n=H(),a&&a.c(),s=q()},l(u){f&&f.l(u),e=z(u),L(l.$$.fragment,u),t=z(u),o&&o.l(u),n=z(u),a&&a.l(u),s=q()},m(u,c){f&&f.m(u,c),y(u,e,c),R(l,u,c),y(u,t,c),o&&o.m(u,c),y(u,n,c),a&&a.m(u,c),y(u,s,c),r=!0},p(u,c){u[2].lastModification?f?(f.p(u,c),c&4&&p(f,1)):(f=Lt(u),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(Y(),E(f,1,1,()=>{f=null}),J());const d={};c&1&&(d.id=u[0]),c&2&&(d.version=u[1]),c&4&&(d.data=u[2]),c&8&&(d.start=u[3]),l.$set(d),u[2].existingFiles?o?(o.p(u,c),c&4&&p(o,1)):(o=Rt(u),o.c(),p(o,1),o.m(n.parentNode,n)):o&&(Y(),E(o,1,1,()=>{o=null}),J()),u[4]?a?c&16&&p(a,1):(a=Ut(),a.c(),p(a,1),a.m(s.parentNode,s)):a&&(Y(),E(a,1,1,()=>{a=null}),J())},i(u){r||(p(f),p(l.$$.fragment,u),p(o),p(a),r=!0)},o(u){E(f),E(l.$$.fragment,u),E(o),E(a),r=!1},d(u){f&&f.d(u),u&&_(e),U(l,u),u&&_(t),o&&o.d(u),u&&_(n),a&&a.d(u),u&&_(s)}}}function Lt(i){let e,l;return e=new $e({props:{milliseconds:new Date(i[2].lastModification).getTime()}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&4&&(s.milliseconds=new Date(t[2].lastModification).getTime()),e.$set(s)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Rt(i){let e,l;return e=new fi({props:{id:i[0],files:i[2].existingFiles,descriptionType:i[2].descriptionType,save:_i,remove:hi}}),e.$on("success",i[5]),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.id=t[0]),n&4&&(s.files=t[2].existingFiles),n&4&&(s.descriptionType=t[2].descriptionType),e.$set(s)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ut(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function mi(i){let e,l,t=i[2]!=null&&jt(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[2]!=null?t?(t.p(n,s),s&4&&p(t,1)):(t=jt(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}let _i="/dcm/fileupload/saveFileDescription",hi="/dcm/fileupload/removefile",gi="/dcm/fileupload/upload",bi="fileupload";function pi(i,e,l){let t,{id:n=0}=e,{version:s=1}=e,{hook:r}=e,f;fe(async()=>{a()});let o="";Ne();async function a(){l(2,f=await Ye(r.start,n,s)),l(3,o=r.start),l(4,t=!1),console.log("FileUploadHook",f)}async function u(){Ke.set(Date.now()),a()}const c=()=>l(4,t=!0);function d(w){Je.call(this,i,w)}function g(w){Je.call(this,i,w)}return i.$$set=w=>{"id"in w&&l(0,n=w.id),"version"in w&&l(1,s=w.version),"hook"in w&&l(6,r=w.hook)},i.$$.update=()=>{i.$$.dirty&4},l(4,t=!1),[n,s,f,o,t,u,r,c,d,g]}class vi extends ${constructor(e){super(),x(this,e,pi,mi,ee,{id:0,version:1,hook:6})}}function qt(i){let e,l,t;return l=new Ml({props:{items:i[0],groupBy:i[2]}}),l.$on("change",i[1]),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var s=O(e);L(l.$$.fragment,s),s.forEach(_),this.h()},h(){C(e,"class","grid grid-cols-2 py-3")},m(n,s){y(n,e,s),R(l,e,null),t=!0},p(n,s){const r={};s&1&&(r.items=n[0]),l.$set(r)},i(n){t||(p(l.$$.fragment,n),t=!0)},o(n){E(l.$$.fragment,n),t=!1},d(n){n&&_(e),U(l)}}}function ki(i){let e,l,t=i[0]&&qt(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[0]?t?(t.p(n,s),s&1&&p(t,1)):(t=qt(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function wi(i,e,l){let t,{id:n=0}=e,{files:s}=e;function r(c){Dl("/dcm/StructureSuggestion/?id="+n+"&file="+c)}let f;function o(){l(0,t=[]),t.push({value:"create new",label:"create new",group:"options"}),s!==null&&s.forEach(c=>t.push({value:c.name,label:c.name,group:"files"}))}fe(async()=>{o(),console.log("select list",t)});function a(c){c.detail.type==="options"?console.log("go to create a datastructure"):r(c.detail.value)}const u=c=>c.group;return i.$$set=c=>{"id"in c&&l(3,n=c.id),"files"in c&&l(4,s=c.files)},l(0,t=f),[t,a,u,n,s]}class Ei extends ${constructor(e){super(),x(this,e,wi,ki,ee,{id:3,files:4})}}const Di=async(i,e)=>{try{return(await pe.delete("/dcm/datadescription/delete","{id,structureId}")).data}catch(l){console.error(l)}};function Gt(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ii(i){let e,l,t,n,s,r,f,o,a,u,c,d,g,w,m,b,k,v,h;d=new ne({props:{icon:rl}});let D=i[3]&&Gt();return{c(){e=S("div"),l=S("div"),t=S("h2"),n=G(i[1]),s=G(" ("),r=G(i[0]),f=G(")"),o=H(),a=S("div"),u=S("div"),c=S("button"),j(d.$$.fragment),g=H(),D&&D.c(),w=H(),m=S("p"),b=G(i[2]),this.h()},l(M){e=A(M,"DIV",{class:!0});var F=O(e);l=A(F,"DIV",{});var T=O(l);t=A(T,"H2",{class:!0});var B=O(t);n=K(B,i[1]),s=K(B," ("),r=K(B,i[0]),f=K(B,")"),B.forEach(_),T.forEach(_),o=z(F),a=A(F,"DIV",{});var W=O(a);u=A(W,"DIV",{class:!0});var V=O(u);c=A(V,"BUTTON",{class:!0});var P=O(c);L(d.$$.fragment,P),P.forEach(_),V.forEach(_),g=z(W),D&&D.l(W),W.forEach(_),w=z(F),m=A(F,"P",{});var le=O(m);b=K(le,i[2]),le.forEach(_),F.forEach(_),this.h()},h(){C(t,"class","h2"),C(c,"class","btn bg-warning-500"),C(u,"class","text-end"),C(e,"class","show-datadescription-header-container grid grid-cols-2")},m(M,F){y(M,e,F),I(e,l),I(l,t),I(t,n),I(t,s),I(t,r),I(t,f),I(e,o),I(e,a),I(a,u),I(u,c),R(d,c,null),I(a,g),D&&D.m(a,null),I(e,w),I(e,m),I(m,b),k=!0,v||(h=Z(c,"click",i[4]),v=!0)},p(M,[F]){(!k||F&2)&&te(n,M[1]),(!k||F&1)&&te(r,M[0]),M[3]?D?F&8&&p(D,1):(D=Gt(),D.c(),p(D,1),D.m(a,null)):D&&(Y(),E(D,1,1,()=>{D=null}),J()),(!k||F&4)&&te(b,M[2])},i(M){k||(p(d.$$.fragment,M),p(D),k=!0)},o(M){E(d.$$.fragment,M),E(D),k=!1},d(M){M&&_(e),U(d),D&&D.d(),v=!1,h()}}}function Fi(i,e,l){let{id:t}=e,{structureId:n}=e,{title:s}=e,{description:r}=e,f=!1;async function o(){l(3,f=!0);const a=await Di();console.log(a),(a.success=!0)&&We.set(Date.now),l(3,f=!1)}return i.$$set=a=>{"id"in a&&l(5,t=a.id),"structureId"in a&&l(0,n=a.structureId),"title"in a&&l(1,s=a.title),"description"in a&&l(2,r=a.description)},[n,s,r,f,o,t]}class Ti extends ${constructor(e){super(),x(this,e,Fi,Ii,ee,{id:5,structureId:0,title:1,description:2})}}function Kt(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function Wt(i){let e,l,t,n,s,r,f,o,a,u,c,d,g,w,m,b,k,v=i[4],h=[];for(let D=0;D<v.length;D+=1)h[D]=Yt(Kt(i,v,D));return{c(){e=S("div"),l=S("table"),t=S("thead"),n=S("tr"),s=S("th"),r=G("Id"),f=H(),o=S("th"),a=G("Name"),u=H(),c=S("th"),d=G("Unit"),g=H(),w=S("th"),m=G("Datatype"),b=H(),k=S("tbody");for(let D=0;D<h.length;D+=1)h[D].c();this.h()},l(D){e=A(D,"DIV",{class:!0});var M=O(e);l=A(M,"TABLE",{class:!0});var F=O(l);t=A(F,"THEAD",{});var T=O(t);n=A(T,"TR",{});var B=O(n);s=A(B,"TH",{});var W=O(s);r=K(W,"Id"),W.forEach(_),f=z(B),o=A(B,"TH",{});var V=O(o);a=K(V,"Name"),V.forEach(_),u=z(B),c=A(B,"TH",{});var P=O(c);d=K(P,"Unit"),P.forEach(_),g=z(B),w=A(B,"TH",{});var le=O(w);m=K(le,"Datatype"),le.forEach(_),B.forEach(_),T.forEach(_),b=z(F),k=A(F,"TBODY",{});var ue=O(k);for(let de=0;de<h.length;de+=1)h[de].l(ue);ue.forEach(_),F.forEach(_),M.forEach(_),this.h()},h(){C(l,"class","table table-compact"),C(e,"class","table-container")},m(D,M){y(D,e,M),I(e,l),I(l,t),I(t,n),I(n,s),I(s,r),I(n,f),I(n,o),I(o,a),I(n,u),I(n,c),I(c,d),I(n,g),I(n,w),I(w,m),I(l,b),I(l,k);for(let F=0;F<h.length;F+=1)h[F]&&h[F].m(k,null)},p(D,M){if(M&16){v=D[4];let F;for(F=0;F<v.length;F+=1){const T=Kt(D,v,F);h[F]?h[F].p(T,M):(h[F]=Yt(T),h[F].c(),h[F].m(k,null))}for(;F<h.length;F+=1)h[F].d(1);h.length=v.length}},d(D){D&&_(e),ve(h,D)}}}function Yt(i){let e,l,t=i[5].id+"",n,s,r,f=i[5].name+"",o,a,u,c=i[5].unit+"",d,g,w,m=i[5].Datatype+"",b,k;return{c(){e=S("tr"),l=S("td"),n=G(t),s=H(),r=S("td"),o=G(f),a=H(),u=S("td"),d=G(c),g=H(),w=S("td"),b=G(m),k=H()},l(v){e=A(v,"TR",{});var h=O(e);l=A(h,"TD",{});var D=O(l);n=K(D,t),D.forEach(_),s=z(h),r=A(h,"TD",{});var M=O(r);o=K(M,f),M.forEach(_),a=z(h),u=A(h,"TD",{});var F=O(u);d=K(F,c),F.forEach(_),g=z(h),w=A(h,"TD",{});var T=O(w);b=K(T,m),T.forEach(_),k=z(h),h.forEach(_)},m(v,h){y(v,e,h),I(e,l),I(l,n),I(e,s),I(e,r),I(r,o),I(e,a),I(e,u),I(u,d),I(e,g),I(e,w),I(w,b),I(e,k)},p(v,h){h&16&&t!==(t=v[5].id+"")&&te(n,t),h&16&&f!==(f=v[5].name+"")&&te(o,f),h&16&&c!==(c=v[5].unit+"")&&te(d,c),h&16&&m!==(m=v[5].Datatype+"")&&te(b,m)},d(v){v&&_(e)}}}function yi(i){let e,l,t,n;e=new Ti({props:{id:i[0],structureId:i[3],title:i[1],description:i[2]}});let s=i[4]&&Wt(i);return{c(){j(e.$$.fragment),l=H(),s&&s.c(),t=q()},l(r){L(e.$$.fragment,r),l=z(r),s&&s.l(r),t=q()},m(r,f){R(e,r,f),y(r,l,f),s&&s.m(r,f),y(r,t,f),n=!0},p(r,[f]){const o={};f&1&&(o.id=r[0]),f&8&&(o.structureId=r[3]),f&2&&(o.title=r[1]),f&4&&(o.description=r[2]),e.$set(o),r[4]?s?s.p(r,f):(s=Wt(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(r){n||(p(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){U(e,r),r&&_(l),s&&s.d(r),r&&_(t)}}}function Ni(i,e,l){let{id:t}=e,{title:n}=e,{description:s}=e,{structureId:r}=e,{variables:f=[]}=e;return i.$$set=o=>{"id"in o&&l(0,t=o.id),"title"in o&&l(1,n=o.title),"description"in o&&l(2,s=o.description),"structureId"in o&&l(3,r=o.structureId),"variables"in o&&l(4,f=o.variables)},[t,n,s,r,f]}class Si extends ${constructor(e){super(),x(this,e,Ni,yi,ee,{id:0,title:1,description:2,structureId:3,variables:4})}}function Jt(i){let e,l,t,n;const s=[Vi,Ai],r=[];function f(o,a){return o[0].allFilesReadable==!0?0:1}return e=f(i),l=r[e]=s[e](i),{c(){l.c(),t=q()},l(o){l.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),n=!0},p(o,a){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),E(r[u],1,1,()=>{r[u]=null}),J(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){n||(p(l),n=!0)},o(o){E(l),n=!1},d(o){r[e].d(o),o&&_(t)}}}function Ai(i){let e,l;return{c(){e=S("span"),l=G("not available")},l(t){e=A(t,"SPAN",{});var n=O(e);l=K(n,"not available"),n.forEach(_)},m(t,n){y(t,e,n),I(e,l)},p:X,i:X,o:X,d(t){t&&_(e)}}}function Vi(i){let e,l,t,n,s,r,f=i[0].lastModification&&Xt(i);const o=[Bi,Oi],a=[];function u(d,g){return d[0]&&d[0].structureId>0?0:1}l=u(i),t=a[l]=o[l](i);let c=i[1]&&Qt();return{c(){f&&f.c(),e=H(),t.c(),n=H(),c&&c.c(),s=q()},l(d){f&&f.l(d),e=z(d),t.l(d),n=z(d),c&&c.l(d),s=q()},m(d,g){f&&f.m(d,g),y(d,e,g),a[l].m(d,g),y(d,n,g),c&&c.m(d,g),y(d,s,g),r=!0},p(d,g){d[0].lastModification?f?(f.p(d,g),g&1&&p(f,1)):(f=Xt(d),f.c(),p(f,1),f.m(e.parentNode,e)):f&&(Y(),E(f,1,1,()=>{f=null}),J());let w=l;l=u(d),l===w?a[l].p(d,g):(Y(),E(a[w],1,1,()=>{a[w]=null}),J(),t=a[l],t?t.p(d,g):(t=a[l]=o[l](d),t.c()),p(t,1),t.m(n.parentNode,n)),d[1]?c?g&2&&p(c,1):(c=Qt(),c.c(),p(c,1),c.m(s.parentNode,s)):c&&(Y(),E(c,1,1,()=>{c=null}),J())},i(d){r||(p(f),p(t),p(c),r=!0)},o(d){E(f),E(t),E(c),r=!1},d(d){f&&f.d(d),d&&_(e),a[l].d(d),d&&_(n),c&&c.d(d),d&&_(s)}}}function Xt(i){let e,l;return e=new $e({props:{milliseconds:new Date(i[0].lastModification)}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.milliseconds=new Date(t[0].lastModification)),e.$set(s)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Oi(i){let e,l,t;const n=[i[0]];function s(f){i[7](f)}let r={};for(let f=0;f<n.length;f+=1)r=ie(r,n[f]);return i[0].readableFiles!==void 0&&(r.files=i[0].readableFiles),e=new Ei({props:r}),be.push(()=>Fe(e,"files",s)),{c(){j(e.$$.fragment)},l(f){L(e.$$.fragment,f)},m(f,o){R(e,f,o),t=!0},p(f,o){const a=o&1?re(n,[se(f[0])]):{};!l&&o&1&&(l=!0,a.files=f[0].readableFiles,Te(()=>l=!1)),e.$set(a)},i(f){t||(p(e.$$.fragment,f),t=!0)},o(f){E(e.$$.fragment,f),t=!1},d(f){U(e,f)}}}function Bi(i){let e,l;const t=[i[0]];let n={};for(let s=0;s<t.length;s+=1)n=ie(n,t[s]);return e=new Si({props:n}),{c(){j(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,r){R(e,s,r),l=!0},p(s,r){const f=r&1?re(t,[se(s[0])]):{};e.$set(f)},i(s){l||(p(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){U(e,s)}}}function Qt(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Mi(i){let e,l,t=i[0]&&Jt(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[0]?t?(t.p(n,s),s&1&&p(t,1)):(t=Jt(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Ci(i,e,l){let t,n,s,r;ye(i,We,w=>l(5,s=w)),ye(i,Ke,w=>l(6,r=w));let{id:f=0}=e,{version:o=1}=e,{hook:a}=e,u;fe(async()=>{c()});async function c(){l(0,t=await Ye(a.start,f,o))}async function d(){c()}function g(w){i.$$.not_equal(t.readableFiles,w)&&(t.readableFiles=w,l(0,t),l(8,u))}return i.$$set=w=>{"id"in w&&l(2,f=w.id),"version"in w&&l(3,o=w.version),"hook"in w&&l(4,a=w.hook)},i.$$.update=()=>{i.$$.dirty&64&&d(),i.$$.dirty&32&&d()},l(0,t=u),l(1,n=!1),[t,n,f,o,a,s,r,g]}class Hi extends ${constructor(e){super(),x(this,e,Ci,Mi,ee,{id:2,version:3,hook:4})}}function zi(i){let e,l,t,n,s,r,f,o,a,u,c,d,g,w,m,b,k,v,h,D,M,F,T,B,W,V,P,le,ue,de;return{c(){e=S("div"),l=S("b"),t=G("Metadata"),n=H(),s=S("button"),r=G("Edit"),f=H(),o=S("div"),a=S("span"),u=G("Last Modfied"),c=H(),d=S("b"),g=G("Visibility"),w=H(),m=S("span"),b=G("not implemented"),k=H(),v=S("button"),h=G("Edit"),D=H(),M=S("b"),F=G("Status"),T=H(),B=S("span"),W=G("not implemented"),V=H(),P=S("button"),le=G("Edit"),this.h()},l(he){e=A(he,"DIV",{class:!0});var Q=O(e);l=A(Q,"B",{class:!0});var Ve=O(l);t=K(Ve,"Metadata"),Ve.forEach(_),n=z(Q),s=A(Q,"BUTTON",{class:!0});var Oe=O(s);r=K(Oe,"Edit"),Oe.forEach(_),f=z(Q),o=A(Q,"DIV",{class:!0});var ke=O(o);a=A(ke,"SPAN",{});var Be=O(a);u=K(Be,"Last Modfied"),Be.forEach(_),ke.forEach(_),c=z(Q),d=A(Q,"B",{class:!0});var Me=O(d);g=K(Me,"Visibility"),Me.forEach(_),w=z(Q),m=A(Q,"SPAN",{class:!0});var ge=O(m);b=K(ge,"not implemented"),ge.forEach(_),k=z(Q),v=A(Q,"BUTTON",{class:!0});var Ce=O(v);h=K(Ce,"Edit"),Ce.forEach(_),D=z(Q),M=A(Q,"B",{class:!0});var ce=O(M);F=K(ce,"Status"),ce.forEach(_),T=z(Q),B=A(Q,"SPAN",{class:!0});var He=O(B);W=K(He,"not implemented"),He.forEach(_),V=z(Q),P=A(Q,"BUTTON",{class:!0});var ze=O(P);le=K(ze,"Edit"),ze.forEach(_),Q.forEach(_),this.h()},h(){C(l,"class","self-center"),C(s,"class","btn bg-secondary-500 text-white w-1/2"),C(o,"class","self-center"),C(d,"class","self-center"),C(m,"class","self-center"),C(v,"class","btn bg-secondary-500 text-white btn-sm w-1/2"),C(M,"class","self-center"),C(B,"class","self-center"),C(P,"class","btn bg-secondary-500 text-white btn-sm w-1/2"),C(e,"class","grid grid-cols-3 w-1/3 gap-3 content-center")},m(he,Q){y(he,e,Q),I(e,l),I(l,t),I(e,n),I(e,s),I(s,r),I(e,f),I(e,o),I(o,a),I(a,u),I(e,c),I(e,d),I(d,g),I(e,w),I(e,m),I(m,b),I(e,k),I(e,v),I(v,h),I(e,D),I(e,M),I(M,F),I(e,T),I(e,B),I(B,W),I(e,V),I(e,P),I(P,le),ue||(de=[Z(s,"click",i[0]),Z(v,"click",Pi),Z(P,"click",ji)],ue=!0)},p:X,i:X,o:X,d(he){he&&_(e),ue=!1,nl(de)}}}function Pi(){}function ji(){}function Li(i,e,l){let{id:t}=e,{version:n}=e,{status:s}=e,{start:r}=e,f=kl+r+"?id="+t+"&version="+n;function o(){var a;(a=window.open(f,"_blank"))==null||a.focus()}return i.$$set=a=>{"id"in a&&l(1,t=a.id),"version"in a&&l(2,n=a.version),"status"in a&&l(3,s=a.status),"start"in a&&l(4,r=a.start)},[o,t,n,s,r]}class Ri extends ${constructor(e){super(),x(this,e,Li,zi,ee,{id:1,version:2,status:3,start:4})}}function Ui(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function qi(i){let e,l,t,n,s,r,f,o,a;const u=[i[3]];let c={$$slots:{view:[Gi]},$$scope:{ctx:i}};for(let v=0;v<u.length;v+=1)c=ie(c,u[v]);l=new Ee({props:c});const d=[i[4]];let g={$$slots:{view:[Ki]},$$scope:{ctx:i}};for(let v=0;v<d.length;v+=1)g=ie(g,d[v]);n=new Ee({props:g});const w=[i[5]];let m={$$slots:{view:[Wi,({errorHandler:v,successHandler:h})=>({11:v,12:h}),({errorHandler:v,successHandler:h})=>(v?2048:0)|(h?4096:0)]},$$scope:{ctx:i}};for(let v=0;v<w.length;v+=1)m=ie(m,w[v]);r=new Ee({props:m});const b=[i[6]];let k={$$slots:{view:[Yi]},$$scope:{ctx:i}};for(let v=0;v<b.length;v+=1)k=ie(k,b[v]);return o=new Ee({props:k}),{c(){e=S("div"),j(l.$$.fragment),t=H(),j(n.$$.fragment),s=H(),j(r.$$.fragment),f=H(),j(o.$$.fragment),this.h()},l(v){e=A(v,"DIV",{class:!0});var h=O(e);L(l.$$.fragment,h),t=z(h),L(n.$$.fragment,h),s=z(h),L(r.$$.fragment,h),f=z(h),L(o.$$.fragment,h),h.forEach(_),this.h()},h(){C(e,"class","grid divide-y")},m(v,h){y(v,e,h),R(l,e,null),I(e,t),R(n,e,null),I(e,s),R(r,e,null),I(e,f),R(o,e,null),a=!0},p(v,h){const D=h&8?re(u,[se(v[3])]):{};h&8203&&(D.$$scope={dirty:h,ctx:v}),l.$set(D);const M=h&16?re(d,[se(v[4])]):{};h&8211&&(M.$$scope={dirty:h,ctx:v}),n.$set(M);const F=h&32?re(w,[se(v[5])]):{};h&14371&&(F.$$scope={dirty:h,ctx:v}),r.$set(F);const T=h&64?re(b,[se(v[6])]):{};h&8259&&(T.$$scope={dirty:h,ctx:v}),o.$set(T)},i(v){a||(p(l.$$.fragment,v),p(n.$$.fragment,v),p(r.$$.fragment,v),p(o.$$.fragment,v),a=!0)},o(v){E(l.$$.fragment,v),E(n.$$.fragment,v),E(r.$$.fragment,v),E(o.$$.fragment,v),a=!1},d(v){v&&_(e),U(l),U(n),U(r),U(o)}}}function Gi(i){let e,l,t;const n=[{id:i[0]},{version:i[1]},i[3]];let s={};for(let r=0;r<n.length;r+=1)s=ie(s,n[r]);return l=new Ri({props:s}),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(l.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(l,e,null),t=!0},p(r,f){const o=f&11?re(n,[f&1&&{id:r[0]},f&2&&{version:r[1]},f&8&&se(r[3])]):{};l.$set(o)},i(r){t||(p(l.$$.fragment,r),t=!0)},o(r){E(l.$$.fragment,r),t=!1},d(r){r&&_(e),U(l)}}}function Ki(i){let e,l,t;return l=new Hi({props:{id:i[0],version:i[1],hook:i[4]}}),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{slot:!0});var s=O(e);L(l.$$.fragment,s),s.forEach(_),this.h()},h(){C(e,"slot","view")},m(n,s){y(n,e,s),R(l,e,null),t=!0},p(n,s){const r={};s&1&&(r.id=n[0]),s&2&&(r.version=n[1]),s&16&&(r.hook=n[4]),l.$set(r)},i(n){t||(p(l.$$.fragment,n),t=!0)},o(n){E(l.$$.fragment,n),t=!1},d(n){n&&_(e),U(l)}}}function Wi(i){let e,l,t;function n(...r){return i[7](i[11],...r)}function s(...r){return i[8](i[12],...r)}return l=new vi({props:{id:i[0],version:i[1],hook:i[5]}}),l.$on("error",n),l.$on("success",s),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(l.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(l,e,null),t=!0},p(r,f){i=r;const o={};f&1&&(o.id=i[0]),f&2&&(o.version=i[1]),f&32&&(o.hook=i[5]),l.$set(o)},i(r){t||(p(l.$$.fragment,r),t=!0)},o(r){E(l.$$.fragment,r),t=!1},d(r){r&&_(e),U(l)}}}function Yi(i){let e,l,t;const n=[{id:i[0]},{version:i[1]},i[6]];let s={};for(let r=0;r<n.length;r+=1)s=ie(s,n[r]);return l=new $n({props:s}),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(l.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(l,e,null),t=!0},p(r,f){const o=f&67?re(n,[f&1&&{id:r[0]},f&2&&{version:r[1]},f&64&&se(r[6])]):{};l.$set(o)},i(r){t||(p(l.$$.fragment,r),t=!0)},o(r){E(l.$$.fragment,r),t=!1},d(r){r&&_(e),U(l)}}}function Ji(i){let e,l,t,n;const s=[qi,Ui],r=[];function f(o,a){return o[2]?0:1}return e=f(i),l=r[e]=s[e](i),{c(){l.c(),t=q()},l(o){l.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),n=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),E(r[u],1,1,()=>{r[u]=null}),J(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){n||(p(l),n=!0)},o(o){E(l),n=!1},d(o){r[e].d(o),o&&_(t)}}}function Xi(i,e,l){let{id:t}=e,{version:n}=e,{hooks:s}=e,r,f,o,a;function u(g){g.forEach(w=>{w.name=="metadata"&&l(3,r=w),w.name=="fileupload"&&l(5,o=w),w.name=="validation"&&l(6,a=w),w.name=="datadescription"&&l(4,f=w),w.name=="submit"})}const c=(g,w)=>g(w),d=(g,w)=>g(w);return i.$$set=g=>{"id"in g&&l(0,t=g.id),"version"in g&&l(1,n=g.version),"hooks"in g&&l(2,s=g.hooks)},i.$$.update=()=>{i.$$.dirty&4&&u(s)},[t,n,s,r,f,o,a,c,d]}class Qi extends ${constructor(e){super(),x(this,e,Xi,Ji,ee,{id:0,version:1,hooks:2})}}function Zt(i){let e,l,t,n,s=i[1].lastModification&&$t(i),r=i[1].existingFiles&&xt(),f=i[0]&&el();return{c(){s&&s.c(),e=H(),r&&r.c(),l=H(),f&&f.c(),t=q()},l(o){s&&s.l(o),e=z(o),r&&r.l(o),l=z(o),f&&f.l(o),t=q()},m(o,a){s&&s.m(o,a),y(o,e,a),r&&r.m(o,a),y(o,l,a),f&&f.m(o,a),y(o,t,a),n=!0},p(o,a){o[1].lastModification?s?(s.p(o,a),a&2&&p(s,1)):(s=$t(o),s.c(),p(s,1),s.m(e.parentNode,e)):s&&(Y(),E(s,1,1,()=>{s=null}),J()),o[1].existingFiles?r||(r=xt(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null),o[0]?f?a&1&&p(f,1):(f=el(),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(Y(),E(f,1,1,()=>{f=null}),J())},i(o){n||(p(s),p(f),n=!0)},o(o){E(s),E(f),n=!1},d(o){s&&s.d(o),o&&_(e),r&&r.d(o),o&&_(l),f&&f.d(o),o&&_(t)}}}function $t(i){let e,l;return e=new $e({props:{milliseconds:new Date(i[1].lastModification)}}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.milliseconds=new Date(t[1].lastModification)),e.$set(s)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function xt(i){return{c:X,l:X,m:X,d:X}}function el(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Zi(i){let e,l,t=i[1]&&Zt(i);return{c(){t&&t.c(),e=q()},l(n){t&&t.l(n),e=q()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[1]?t?(t.p(n,s),s&2&&p(t,1)):(t=Zt(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Y(),E(t,1,1,()=>{t=null}),J())},i(n){l||(p(t),l=!0)},o(n){E(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function $i(i,e,l){let t,n,{id:s=0}=e,{version:r=1}=e,{hook:f}=e;fe(async()=>{o()});async function o(){l(1,t=await Ye(f.start,s,r)),f.start,l(0,n=!1)}return i.$$set=a=>{"id"in a&&l(2,s=a.id),"version"in a&&l(3,r=a.version),"hook"in a&&l(4,f=a.hook)},l(1,t=null),l(0,n=!1),[n,t,s,r,f]}class xi extends ${constructor(e){super(),x(this,e,$i,Zi,ee,{id:2,version:3,hook:4})}}function tl(i,e,l){const t=i.slice();return t[8]=e[l],t}function er(i){let e,l;return e=new ae({}),{c(){j(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:X,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function tr(i){let e,l,t,n;const s=[i[2],{color:qe}];let r={$$slots:{view:[lr,({errorHandler:u,successHandler:c})=>({11:u,12:c}),({errorHandler:u,successHandler:c})=>(u?2048:0)|(c?4096:0)]},$$scope:{ctx:i}};for(let u=0;u<s.length;u+=1)r=ie(r,s[u]);e=new Ee({props:r});let f=i[3],o=[];for(let u=0;u<f.length;u+=1)o[u]=ll(tl(i,f,u));const a=u=>E(o[u],1,1,()=>{o[u]=null});return{c(){j(e.$$.fragment),l=H();for(let u=0;u<o.length;u+=1)o[u].c();t=q()},l(u){L(e.$$.fragment,u),l=z(u);for(let c=0;c<o.length;c+=1)o[c].l(u);t=q()},m(u,c){R(e,u,c),y(u,l,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(u,c);y(u,t,c),n=!0},p(u,c){const d=c&4?re(s,[c&4&&se(u[2]),c&0&&{color:qe}]):{};if(c&14343&&(d.$$scope={dirty:c,ctx:u}),e.$set(d),c&11){f=u[3];let g;for(g=0;g<f.length;g+=1){const w=tl(u,f,g);o[g]?(o[g].p(w,c),p(o[g],1)):(o[g]=ll(w),o[g].c(),p(o[g],1),o[g].m(t.parentNode,t))}for(Y(),g=f.length;g<o.length;g+=1)a(g);J()}},i(u){if(!n){p(e.$$.fragment,u);for(let c=0;c<f.length;c+=1)p(o[c]);n=!0}},o(u){E(e.$$.fragment,u),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)E(o[c]);n=!1},d(u){U(e,u),u&&_(l),ve(o,u),u&&_(t)}}}function lr(i){let e,l,t;function n(...r){return i[5](i[11],...r)}function s(...r){return i[6](i[12],...r)}return l=new xi({props:{id:i[0],version:i[1],hook:i[2]}}),l.$on("error",n),l.$on("success",s),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(r){e=A(r,"DIV",{slot:!0});var f=O(e);L(l.$$.fragment,f),f.forEach(_),this.h()},h(){C(e,"slot","view")},m(r,f){y(r,e,f),R(l,e,null),t=!0},p(r,f){i=r;const o={};f&1&&(o.id=i[0]),f&2&&(o.version=i[1]),f&4&&(o.hook=i[2]),l.$set(o)},i(r){t||(p(l.$$.fragment,r),t=!0)},o(r){E(l.$$.fragment,r),t=!1},d(r){r&&_(e),U(l)}}}function nr(i){let e,l,t,n;const s=[{id:i[0]},{version:i[1]},i[8]];let r={};for(let f=0;f<s.length;f+=1)r=ie(r,s[f]);return l=new Pn({props:r}),{c(){e=S("div"),j(l.$$.fragment),t=H(),this.h()},l(f){e=A(f,"DIV",{slot:!0});var o=O(e);L(l.$$.fragment,o),t=z(o),o.forEach(_),this.h()},h(){C(e,"slot","view")},m(f,o){y(f,e,o),R(l,e,null),I(e,t),n=!0},p(f,o){const a=o&11?re(s,[o&1&&{id:f[0]},o&2&&{version:f[1]},o&8&&se(f[8])]):{};l.$set(a)},i(f){n||(p(l.$$.fragment,f),n=!0)},o(f){E(l.$$.fragment,f),n=!1},d(f){f&&_(e),U(l)}}}function ll(i){let e,l;const t=[i[8],{color:qe}];let n={$$slots:{view:[nr]},$$scope:{ctx:i}};for(let s=0;s<t.length;s+=1)n=ie(n,t[s]);return e=new Ee({props:n}),{c(){j(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,r){R(e,s,r),l=!0},p(s,r){const f=r&8?re(t,[r&8&&se(s[8]),r&0&&{color:qe}]):{};r&8203&&(f.$$scope={dirty:r,ctx:s}),e.$set(f)},i(s){l||(p(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){U(e,s)}}}function ir(i){let e,l,t,n;const s=[tr,er],r=[];function f(o,a){return o[3]?0:1}return e=f(i),l=r[e]=s[e](i),{c(){l.c(),t=q()},l(o){l.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),n=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),E(r[u],1,1,()=>{r[u]=null}),J(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){n||(p(l),n=!0)},o(o){E(l),n=!1},d(o){r[e].d(o),o&&_(t)}}}let qe="bg-surface-300";function rr(i,e,l){let t,{id:n}=e,{version:s}=e,{hooks:r=[]}=e,f;function o(c){c.forEach(d=>{d.name=="attachments"?l(2,f=d):t.push(d)})}const a=(c,d)=>c(d),u=(c,d)=>c(d);return i.$$set=c=>{"id"in c&&l(0,n=c.id),"version"in c&&l(1,s=c.version),"hooks"in c&&l(4,r=c.hooks)},i.$$.update=()=>{i.$$.dirty&16&&o(r)},l(3,t=[]),[n,s,f,t,r,a,u]}class sr extends ${constructor(e){super(),x(this,e,rr,ir,ee,{id:0,version:1,hooks:4})}}function or(i){return"id"in i}function fr(i){let e,l,t;return l=new ae({props:{label:"loading edit page",position:"center"}}),{c(){e=S("div"),j(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var s=O(e);L(l.$$.fragment,s),s.forEach(_),this.h()},h(){C(e,"class","h-screen")},m(n,s){y(n,e,s),R(l,e,null),t=!0},p:X,i(n){t||(p(l.$$.fragment,n),t=!0)},o(n){E(l.$$.fragment,n),t=!1},d(n){n&&_(e),U(l)}}}function ar(i){let e,l,t,n,s,r,f,o,a,u;e=new On({props:{id:i[0],version:i[1],title:i[2]}});function c(m){i[8](m)}let d={id:i[0],version:i[1]};i[5]!==void 0&&(d.hooks=i[5]),t=new Qi({props:d}),be.push(()=>Fe(t,"hooks",c));function g(m){i[9](m)}let w={id:i[0],version:i[1]};return i[6]!==void 0&&(w.hooks=i[6]),o=new sr({props:w}),be.push(()=>Fe(o,"hooks",g)),{c(){j(e.$$.fragment),l=H(),j(t.$$.fragment),s=H(),r=S("hr"),f=H(),j(o.$$.fragment),this.h()},l(m){L(e.$$.fragment,m),l=z(m),L(t.$$.fragment,m),s=z(m),r=A(m,"HR",{class:!0}),f=z(m),L(o.$$.fragment,m),this.h()},h(){C(r,"class","!border-dashed")},m(m,b){R(e,m,b),y(m,l,b),R(t,m,b),y(m,s,b),y(m,r,b),y(m,f,b),R(o,m,b),u=!0},p(m,b){const k={};b&1&&(k.id=m[0]),b&2&&(k.version=m[1]),b&4&&(k.title=m[2]),e.$set(k);const v={};b&1&&(v.id=m[0]),b&2&&(v.version=m[1]),!n&&b&32&&(n=!0,v.hooks=m[5],Te(()=>n=!1)),t.$set(v);const h={};b&1&&(h.id=m[0]),b&2&&(h.version=m[1]),!a&&b&64&&(a=!0,h.hooks=m[6],Te(()=>a=!1)),o.$set(h)},i(m){u||(p(e.$$.fragment,m),p(t.$$.fragment,m),p(o.$$.fragment,m),u=!0)},o(m){E(e.$$.fragment,m),E(t.$$.fragment,m),E(o.$$.fragment,m),u=!1},d(m){U(e,m),m&&_(l),U(t,m),m&&_(s),m&&_(r),m&&_(f),U(o,m)}}}function cr(i){let e,l,t,n;const s=[ar,fr],r=[];function f(o,a){return o[3]&&o[4]?0:1}return e=f(i),l=r[e]=s[e](i),{c(){l.c(),t=q()},l(o){l.l(o),t=q()},m(o,a){r[e].m(o,a),y(o,t,a),n=!0},p(o,[a]){let u=e;e=f(o),e===u?r[e].p(o,a):(Y(),E(r[u],1,1,()=>{r[u]=null}),J(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),p(l,1),l.m(t.parentNode,t))},i(o){n||(p(l),n=!0)},o(o){E(l),n=!1},d(o){r[e].d(o),o&&_(t)}}}function ur(i,e,l){let t;ye(i,Qe,T=>l(14,t=T));let n,s=0,r,f="",o={id:0,versionId:0,version:0,title:"",hooks:[],views:[]},a,u,c,d,g,w,m;fe(async()=>{n=document.getElementById("edit"),l(0,s=Number(n==null?void 0:n.getAttribute("dataset"))),l(1,r=Number(n==null?void 0:n.getAttribute("version"))),console.log("start edit",s,r),tt("https://localhost:44345","davidschoene","123456"),b()}),Ke.subscribe(T=>{k()}),We.subscribe(T=>{k()});async function b(){l(3,o=await Dt(s)),or(o)&&(console.log("editmodel",o),u=o.hooks,g=o.views,l(2,f=o.title),l(1,r=o.version),D(u),v(u),h(g))}async function k(){console.log("reload"),tt("https://localhost:44345","davidschoene","123456"),l(3,o=await Dt(s)),u=o.hooks,setTimeout(async()=>{D(o.hooks)},1e3)}function v(T){T.forEach(B=>{B.name=="metadata"||B.name=="fileupload"||B.name=="validation"||B.name=="submit"||B.name=="datadescription"?c.push(B):d.push(B)})}function h(T){T.forEach(B=>{B.name=="messages"?l(7,m=B):w.push(B)}),console.log(m),console.log(w)}async function D(T){let B={[""]:0};T.forEach(W=>{B[W.name]=W.status}),console.log("before",t),Qe.set(B),console.log("updateStatus",t),console.log("length",t.length),l(4,a=t)}function M(T){c=T,l(5,c)}function F(T){d=T,l(6,d)}return i.$$.update=()=>{i.$$.dirty&128},u=[],l(5,c=[]),l(6,d=[]),g=[],w=[],[s,r,f,o,a,c,d,m,M,F]}class kr extends ${constructor(e){super(),x(this,e,ur,cr,ee,{})}}export{kr as component};
