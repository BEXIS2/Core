import{S as j,i as Q,s as W,C as ke,R as U,k as M,l as F,m as K,h as p,V as re,b as w,E as we,F as ve,G as Se,W as Te,f as m,t as $,Q as le,T as Ee,w as g,a as y,x as d,c as I,y as h,z as b,q as P,r as G,u as X,e as L,Y as Re,af as Xe,n as te,D as q,I as Ue,M as O,_ as B,$ as A,U as De,o as ye,g as ie,d as ue,K as Ie,B as J,X as Ye,p as Ze,ag as Je,ah as xe,Z as et,aa as qe,a0 as tt,ae as Me}from"../../../chunks/index-c0dba9d5.js";import{L as oe,a as x,I as ce,B as fe,F as me,h as nt,g as st,e as rt,c as Fe}from"../../../chunks/Label-a65e89be.js";import{b as lt,s as at,d as ft,C as it,c as ut,e as ot,f as ct,a as mt,h as $t,i as _t,j as pt,g as gt}from"../../../chunks/EntityTemplateCaller-c2194b75.js";import{C as ze}from"../../../chunks/Container-089c5a99.js";import{c as Ce,S as je,R as se,C as z}from"../../../chunks/Spinner-f7729107.js";import{s as Qe}from"../../../chunks/Api-4944ddfe.js";import{S as dt,C as ht,a as bt,b as kt,c as wt}from"../../../chunks/Select-4879d919.js";import{K as vt,V as St,v as he,w as ne}from"../../../chunks/vest.production-f8a8982b.js";import{b as Tt,f as Et}from"../../../chunks/index-e740ee3c.js";function yt(l){let e,n;const t=l[4].default,f=ke(t,l,l[3],null);let s=[l[1],{class:l[0]}],r={};for(let i=0;i<s.length;i+=1)r=U(r,s[i]);return{c(){e=M("h6"),f&&f.c(),this.h()},l(i){e=F(i,"H6",{class:!0});var a=K(e);f&&f.l(a),a.forEach(p),this.h()},h(){re(e,r)},m(i,a){w(i,e,a),f&&f.m(e,null),n=!0},p(i,[a]){f&&f.p&&(!n||a&8)&&we(f,t,i,i[3],n?Se(t,i[3],a,null):ve(i[3]),null),re(e,r=Te(s,[a&2&&i[1],(!n||a&1)&&{class:i[0]}]))},i(i){n||(m(f,i),n=!0)},o(i){$(f,i),n=!1},d(i){i&&p(e),f&&f.d(i)}}}function It(l,e,n){let t;const f=["class"];let s=le(e,f),{$$slots:r={},$$scope:i}=e,{class:a=""}=e;return l.$$set=u=>{e=U(U({},e),Ee(u)),n(1,s=le(e,f)),"class"in u&&n(2,a=u.class),"$$scope"in u&&n(3,i=u.$$scope)},l.$$.update=()=>{l.$$.dirty&4&&n(0,t=Ce(a,"card-subtitle"))},[t,s,a,i,r]}class Ct extends j{constructor(e){super(),Q(this,e,It,yt,W,{class:2})}}function Nt(l){let e,n;const t=l[4].default,f=ke(t,l,l[3],null);let s=[l[1],{class:l[0]}],r={};for(let i=0;i<s.length;i+=1)r=U(r,s[i]);return{c(){e=M("p"),f&&f.c(),this.h()},l(i){e=F(i,"P",{class:!0});var a=K(e);f&&f.l(a),a.forEach(p),this.h()},h(){re(e,r)},m(i,a){w(i,e,a),f&&f.m(e,null),n=!0},p(i,[a]){f&&f.p&&(!n||a&8)&&we(f,t,i,i[3],n?Se(t,i[3],a,null):ve(i[3]),null),re(e,r=Te(s,[a&2&&i[1],(!n||a&1)&&{class:i[0]}]))},i(i){n||(m(f,i),n=!0)},o(i){$(f,i),n=!1},d(i){i&&p(e),f&&f.d(i)}}}function Dt(l,e,n){let t;const f=["class"];let s=le(e,f),{$$slots:r={},$$scope:i}=e,{class:a=""}=e;return l.$$set=u=>{e=U(U({},e),Ee(u)),n(1,s=le(e,f)),"class"in u&&n(2,a=u.class),"$$scope"in u&&n(3,i=u.$$scope)},l.$$.update=()=>{l.$$.dirty&4&&n(0,t=Ce(a,"card-text"))},[t,s,a,i,r]}class qt extends j{constructor(e){super(),Q(this,e,Dt,Nt,W,{class:2})}}function Mt(l){let e,n;const t=l[4].default,f=ke(t,l,l[3],null);let s=[l[1],{class:l[0]}],r={};for(let i=0;i<s.length;i+=1)r=U(r,s[i]);return{c(){e=M("h5"),f&&f.c(),this.h()},l(i){e=F(i,"H5",{class:!0});var a=K(e);f&&f.l(a),a.forEach(p),this.h()},h(){re(e,r)},m(i,a){w(i,e,a),f&&f.m(e,null),n=!0},p(i,[a]){f&&f.p&&(!n||a&8)&&we(f,t,i,i[3],n?Se(t,i[3],a,null):ve(i[3]),null),re(e,r=Te(s,[a&2&&i[1],(!n||a&1)&&{class:i[0]}]))},i(i){n||(m(f,i),n=!0)},o(i){$(f,i),n=!1},d(i){i&&p(e),f&&f.d(i)}}}function Ft(l,e,n){let t;const f=["class"];let s=le(e,f),{$$slots:r={},$$scope:i}=e,{class:a=""}=e;return l.$$set=u=>{e=U(U({},e),Ee(u)),n(1,s=le(e,f)),"class"in u&&n(2,a=u.class),"$$scope"in u&&n(3,i=u.$$scope)},l.$$.update=()=>{l.$$.dirty&4&&n(0,t=Ce(a,"card-title"))},[t,s,a,i,r]}class Pt extends j{constructor(e){super(),Q(this,e,Ft,Mt,W,{class:2})}}function Pe(l,e,n){const t=l.slice();return t[7]=e[n],t}function Gt(l){let e;return{c(){e=P(l[2])},l(n){e=G(n,l[2])},m(n,t){w(n,e,t)},p(n,t){t&4&&X(e,n[2])},d(n){n&&p(e)}}}function Ge(l){let e,n,t,f,s,r=l[7].value+"",i,a,u,o,_;return{c(){e=M("div"),n=M("input"),f=y(),s=M("label"),i=P(r),u=y(),this.h()},l(T){e=F(T,"DIV",{class:!0});var N=K(e);n=F(N,"INPUT",{class:!0,type:!0}),f=I(N),s=F(N,"LABEL",{class:!0,for:!0});var V=K(s);i=G(V,r),V.forEach(p),u=I(N),N.forEach(p),this.h()},h(){te(n,"class","form-check-input"),te(n,"type","checkbox"),n.__value=t=l[7].key,n.value=n.__value,l[6][0].push(n),te(s,"class","form-check-label"),te(s,"for",a=l[3]+"}"),te(e,"class","form-check")},m(T,N){w(T,e,N),q(e,n),n.checked=~l[0].indexOf(n.__value),q(e,f),q(e,s),q(s,i),q(e,u),o||(_=Ue(n,"change",l[5]),o=!0)},p(T,N){N&2&&t!==(t=T[7].key)&&(n.__value=t,n.value=n.__value),N&1&&(n.checked=~T[0].indexOf(n.__value)),N&2&&r!==(r=T[7].value+"")&&X(i,r),N&8&&a!==(a=T[3]+"}")&&te(s,"for",a)},d(T){T&&p(e),l[6][0].splice(l[6][0].indexOf(n),1),o=!1,_()}}}function Vt(l){let e,n=l[1],t=[];for(let f=0;f<n.length;f+=1)t[f]=Ge(Pe(l,n,f));return{c(){for(let f=0;f<t.length;f+=1)t[f].c();e=L()},l(f){for(let s=0;s<t.length;s+=1)t[s].l(f);e=L()},m(f,s){for(let r=0;r<t.length;r+=1)t[r].m(f,s);w(f,e,s)},p(f,s){if(s&11){n=f[1];let r;for(r=0;r<n.length;r+=1){const i=Pe(f,n,r);t[r]?t[r].p(i,s):(t[r]=Ge(i),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(f){Re(t,f),f&&p(e)}}}function Ht(l){let e,n,t,f;return e=new oe({props:{for:l[3],$$slots:{default:[Gt]},$$scope:{ctx:l}}}),t=new x({props:{style:"max-height: 210px; overflow:auto; overflow-x:hidden;",$$slots:{default:[Vt]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,[r]){const i={};r&8&&(i.for=s[3]),r&1028&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&1035&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function Kt(l,e,n){let{source:t}=e,{target:f}=e,{title:s}=e,{description:r=""}=e,{key:i}=e;const a=[[]];function u(){f=Xe(a[0],this.__value,this.checked),n(0,f)}return l.$$set=o=>{"source"in o&&n(1,t=o.source),"target"in o&&n(0,f=o.target),"title"in o&&n(2,s=o.title),"description"in o&&n(4,r=o.description),"key"in o&&n(3,i=o.key)},[f,t,s,i,r,u,a]}class Lt extends j{constructor(e){super(),Q(this,e,Kt,Ht,W,{source:1,target:0,title:2,description:4,key:3})}}function Ve(l,e,n){const t=l.slice();return t[13]=e[n],t}function Ot(l){let e;return{c(){e=P(l[2])},l(n){e=G(n,l[2])},m(n,t){w(n,e,t)},p(n,t){t&4&&X(e,n[2])},d(n){n&&p(e)}}}function He(l){let e,n=l[13].text+"",t,f;return{c(){e=M("option"),t=P(n),this.h()},l(s){e=F(s,"OPTION",{});var r=K(e);t=G(r,n),r.forEach(p),this.h()},h(){e.__value=f=l[13].id,e.value=e.__value},m(s,r){w(s,e,r),q(e,t)},p(s,r){r&2&&n!==(n=s[13].text+"")&&X(t,n),r&2&&f!==(f=s[13].id)&&(e.__value=f,e.value=e.__value)},d(s){s&&p(e)}}}function Bt(l){let e,n,t,f,s=l[1],r=[];for(let i=0;i<s.length;i+=1)r[i]=He(Ve(l,s,i));return{c(){e=M("option"),n=P("-- Please select --"),t=y();for(let i=0;i<r.length;i+=1)r[i].c();f=L(),this.h()},l(i){e=F(i,"OPTION",{});var a=K(e);n=G(a,"-- Please select --"),a.forEach(p),t=I(i);for(let u=0;u<r.length;u+=1)r[u].l(i);f=L(),this.h()},h(){e.__value=null,e.value=e.__value},m(i,a){w(i,e,a),q(e,n),w(i,t,a);for(let u=0;u<r.length;u+=1)r[u].m(i,a);w(i,f,a)},p(i,a){if(a&2){s=i[1];let u;for(u=0;u<s.length;u+=1){const o=Ve(i,s,u);r[u]?r[u].p(o,a):(r[u]=He(o),r[u].c(),r[u].m(f.parentNode,f))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}},d(i){i&&p(e),i&&p(t),Re(r,i),i&&p(f)}}}function At(l){let e,n,t,f,s;e=new oe({props:{$$slots:{default:[Ot]},$$scope:{ctx:l}}});function r(a){l[8](a)}let i={type:"select",id:l[0],valid:l[3],invalid:l[4],feedback:l[5],$$slots:{default:[Bt]},$$scope:{ctx:l}};return l[6]!==void 0&&(i.value=l[6]),t=new ce({props:i}),O.push(()=>B(t,"value",r,l[6])),t.$on("change",l[9]),t.$on("select",l[10]),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(a){d(e.$$.fragment,a),n=I(a),d(t.$$.fragment,a)},m(a,u){h(e,a,u),w(a,n,u),h(t,a,u),s=!0},p(a,u){const o={};u&65540&&(o.$$scope={dirty:u,ctx:a}),e.$set(o);const _={};u&1&&(_.id=a[0]),u&8&&(_.valid=a[3]),u&16&&(_.invalid=a[4]),u&32&&(_.feedback=a[5]),u&65538&&(_.$$scope={dirty:u,ctx:a}),!f&&u&64&&(f=!0,_.value=a[6],A(()=>f=!1)),t.$set(_)},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(t.$$.fragment,a),s=!1},d(a){b(e,a),a&&p(n),b(t,a)}}}function Rt(l){let e,n;return e=new x({props:{$$slots:{default:[At]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,[f]){const s={};f&65663&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ut(l,e,n){let t,{id:f}=e,{source:s}=e,{target:r}=e,{title:i}=e,{valid:a}=e,{invalid:u}=e,{feedback:o}=e;function _(c){c!=null&&n(6,t=c.id)}function T(c){n(7,r=s.find(E=>E.id===c))}function N(c){t=c,n(6,t)}function V(c){De.call(this,l,c)}function v(c){De.call(this,l,c)}return l.$$set=c=>{"id"in c&&n(0,f=c.id),"source"in c&&n(1,s=c.source),"target"in c&&n(7,r=c.target),"title"in c&&n(2,i=c.title),"valid"in c&&n(3,a=c.valid),"invalid"in c&&n(4,u=c.invalid),"feedback"in c&&n(5,o=c.feedback)},l.$$.update=()=>{l.$$.dirty&128&&_(r),l.$$.dirty&64&&T(t)},n(6,t=null),[f,s,i,a,u,o,t,r,N,V,v]}class We extends j{constructor(e){super(),Q(this,e,Ut,Rt,W,{id:0,source:1,target:7,title:2,valid:3,invalid:4,feedback:5})}}function zt(l){let e;return{c(){e=P(l[1])},l(n){e=G(n,l[1])},m(n,t){w(n,e,t)},p(n,t){t&2&&X(e,n[1])},d(n){n&&p(e)}}}function jt(l){let e,n,t;function f(r){l[9](r)}let s={items:l[0],optionIdentifier:l[2],labelIdentifier:l[3],isMulti:l[4],placeholder:"-- Please select --"};return l[5]!==void 0&&(s.value=l[5]),e=new dt({props:s}),O.push(()=>B(e,"value",f,l[5])),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&1&&(a.items=r[0]),i&4&&(a.optionIdentifier=r[2]),i&8&&(a.labelIdentifier=r[3]),i&16&&(a.isMulti=r[4]),!n&&i&32&&(n=!0,a.value=r[5],A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function Qt(l){let e,n,t,f;return e=new oe({props:{$$slots:{default:[zt]},$$scope:{ctx:l}}}),t=new x({props:{$$slots:{default:[jt]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,[r]){const i={};r&4098&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&4157&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function Wt(l,e,n){let t,{source:f}=e,{target:s}=e,{title:r}=e,{optionIdentifier:i="value"}=e,{labelIdentifier:a="label"}=e,{isMulti:u=!0}=e,{isComplex:o=!1}=e,{isTargetComplex:_=!1}=e,T=!1;function N(v){if(console.log("------"),o&&!_&&T){n(6,s=[]);for(let c in v){let E=v[c];s.push(E.key)}}if(!o&&!_&&T){n(6,s=[]);for(let c in v)s.push(v[c].value)}console.log("selection "+r,v),console.log("target "+r,s)}ye(async()=>{if(o&&!_){let v=[];for(let c in s){let E=s[c];v.push(f.find(D=>D.key===E))}T=!0,v.length>0&&n(5,t=v),console.log(t)}!o&&!_&&(console.log("source",f),console.log("target",s),T=!0,s!=null&&s!==void 0&&s!=""&&n(5,t=s))});function V(v){t=v,n(5,t)}return l.$$set=v=>{"source"in v&&n(0,f=v.source),"target"in v&&n(6,s=v.target),"title"in v&&n(1,r=v.title),"optionIdentifier"in v&&n(2,i=v.optionIdentifier),"labelIdentifier"in v&&n(3,a=v.labelIdentifier),"isMulti"in v&&n(4,u=v.isMulti),"isComplex"in v&&n(7,o=v.isComplex),"isTargetComplex"in v&&n(8,_=v.isTargetComplex)},l.$$.update=()=>{l.$$.dirty&32&&N(t)},n(5,t=null),[f,r,i,a,u,t,s,o,_,V]}class $e extends j{constructor(e){super(),Q(this,e,Wt,Qt,W,{source:0,target:6,title:1,optionIdentifier:2,labelIdentifier:3,isMulti:4,isComplex:7,isTargetComplex:8})}}const be=vt((l={},e)=>{St(e),he("name","name is required",()=>{ne(l.name).isNotBlank()}),he("description","description is required",()=>{ne(l.description).isNotBlank()}),he("metadataStructure","metadatastructure is required",()=>{ne(l.metadataStructure).isNotNull(),ne(l.metadataStructure).isNotUndefined()}),he("entityType","entity is required",()=>{ne(l.entityType).isNotNull(),ne(l.entityType).isNotUndefined()})});function Xt(l){let e,n;return e=new je({props:{color:"info",size:"sm",type:"grow","text-center":!0}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Yt(l){let e,n,t,f,s,r,i,a,u,o,_,T,N,V,v,c,E,D,R,H,ee,ae,_e;return n=new se({props:{$$slots:{default:[tn]},$$scope:{ctx:l}}}),f=new se({props:{$$slots:{default:[ln]},$$scope:{ctx:l}}}),r=new se({props:{$$slots:{default:[cn]},$$scope:{ctx:l}}}),_=new se({props:{$$slots:{default:[_n]},$$scope:{ctx:l}}}),c=new se({props:{$$slots:{default:[dn]},$$scope:{ctx:l}}}),D=new fe({props:{type:"submit",color:"primary",disabled:l[9],$$slots:{default:[hn]},$$scope:{ctx:l}}}),H=new fe({props:{type:"button",color:"danger",$$slots:{default:[bn]},$$scope:{ctx:l}}}),H.$on("click",l[26]),{c(){e=M("form"),g(n.$$.fragment),t=y(),g(f.$$.fragment),s=y(),g(r.$$.fragment),i=y(),a=M("h3"),u=P("Group"),o=y(),g(_.$$.fragment),T=y(),N=M("h3"),V=P("Additional"),v=y(),g(c.$$.fragment),E=y(),g(D.$$.fragment),R=y(),g(H.$$.fragment)},l(C){e=F(C,"FORM",{});var S=K(e);d(n.$$.fragment,S),t=I(S),d(f.$$.fragment,S),s=I(S),d(r.$$.fragment,S),i=I(S),a=F(S,"H3",{});var Y=K(a);u=G(Y,"Group"),Y.forEach(p),o=I(S),d(_.$$.fragment,S),T=I(S),N=F(S,"H3",{});var Z=K(N);V=G(Z,"Additional"),Z.forEach(p),v=I(S),d(c.$$.fragment,S),E=I(S),d(D.$$.fragment,S),R=I(S),d(H.$$.fragment,S),S.forEach(p)},m(C,S){w(C,e,S),h(n,e,null),q(e,t),h(f,e,null),q(e,s),h(r,e,null),q(e,i),q(e,a),q(a,u),q(e,o),h(_,e,null),q(e,T),q(e,N),q(N,V),q(e,v),h(c,e,null),q(e,E),h(D,e,null),q(e,R),h(H,e,null),ee=!0,ae||(_e=Ue(e,"submit",Ye(l[11])),ae=!0)},p(C,S){const Y={};S&268435856&&(Y.$$scope={dirty:S,ctx:C}),n.$set(Y);const Z={};S&268435840&&(Z.$$scope={dirty:S,ctx:C}),f.$set(Z);const pe={};S&268435854&&(pe.$$scope={dirty:S,ctx:C}),r.$set(pe);const ge={};S&268435744&&(ge.$$scope={dirty:S,ctx:C}),_.$set(ge);const de={};S&268435777&&(de.$$scope={dirty:S,ctx:C}),c.$set(de);const k={};S&512&&(k.disabled=C[9]),S&268435456&&(k.$$scope={dirty:S,ctx:C}),D.$set(k);const Ne={};S&268435456&&(Ne.$$scope={dirty:S,ctx:C}),H.$set(Ne)},i(C){ee||(m(n.$$.fragment,C),m(f.$$.fragment,C),m(r.$$.fragment,C),m(_.$$.fragment,C),m(c.$$.fragment,C),m(D.$$.fragment,C),m(H.$$.fragment,C),ee=!0)},o(C){$(n.$$.fragment,C),$(f.$$.fragment,C),$(r.$$.fragment,C),$(_.$$.fragment,C),$(c.$$.fragment,C),$(D.$$.fragment,C),$(H.$$.fragment,C),ee=!1},d(C){C&&p(e),b(n),b(f),b(r),b(_),b(c),b(D),b(H),ae=!1,_e()}}}function Zt(l){let e;return{c(){e=P("Name")},l(n){e=G(n,"Name")},m(n,t){w(n,e,t)},d(n){n&&p(e)}}}function Jt(l){let e,n,t,f,s;e=new oe({props:{for:"name",$$slots:{default:[Zt]},$$scope:{ctx:l}}});function r(a){l[14](a)}let i={id:"name",valid:l[7].isValid("name"),invalid:l[7].hasErrors("name"),feedback:l[7].getErrors("name"),required:!0};return l[8].name!==void 0&&(i.value=l[8].name),t=new ce({props:i}),O.push(()=>B(t,"value",r,l[8].name)),t.$on("input",l[12]),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(a){d(e.$$.fragment,a),n=I(a),d(t.$$.fragment,a)},m(a,u){h(e,a,u),w(a,n,u),h(t,a,u),s=!0},p(a,u){const o={};u&268435456&&(o.$$scope={dirty:u,ctx:a}),e.$set(o);const _={};u&128&&(_.valid=a[7].isValid("name")),u&128&&(_.invalid=a[7].hasErrors("name")),u&128&&(_.feedback=a[7].getErrors("name")),!f&&u&256&&(f=!0,_.value=a[8].name,A(()=>f=!1)),t.$set(_)},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(t.$$.fragment,a),s=!1},d(a){b(e,a),a&&p(n),b(t,a)}}}function xt(l){let e,n;return e=new x({props:{$$slots:{default:[Jt]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,f){const s={};f&268435840&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function en(l){let e,n,t;function f(r){l[15](r)}let s={id:"entityType",title:"Entity",source:l[4],valid:l[7].isValid("entityType"),invalid:l[7].hasErrors("entityType"),feedback:l[7].getErrors("entityType")};return l[8].entityType!==void 0&&(s.target=l[8].entityType),e=new We({props:s}),O.push(()=>B(e,"target",f,l[8].entityType)),e.$on("change",l[12]),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&16&&(a.source=r[4]),i&128&&(a.valid=r[7].isValid("entityType")),i&128&&(a.invalid=r[7].hasErrors("entityType")),i&128&&(a.feedback=r[7].getErrors("entityType")),!n&&i&256&&(n=!0,a.target=r[8].entityType,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function tn(l){let e,n,t,f;return e=new z({props:{xs:"6",$$slots:{default:[xt]},$$scope:{ctx:l}}}),t=new z({props:{xs:"6",$$slots:{default:[en]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,r){const i={};r&268435840&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&268435856&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function nn(l){let e;return{c(){e=P("Description")},l(n){e=G(n,"Description")},m(n,t){w(n,e,t)},d(n){n&&p(e)}}}function sn(l){let e,n,t,f,s;e=new oe({props:{for:"description",$$slots:{default:[nn]},$$scope:{ctx:l}}});function r(a){l[16](a)}let i={id:"description",type:"textarea",valid:l[7].isValid("description"),invalid:l[7].hasErrors("description"),feedback:l[7].getErrors("description"),required:!0};return l[8].description!==void 0&&(i.value=l[8].description),t=new ce({props:i}),O.push(()=>B(t,"value",r,l[8].description)),t.$on("input",l[12]),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(a){d(e.$$.fragment,a),n=I(a),d(t.$$.fragment,a)},m(a,u){h(e,a,u),w(a,n,u),h(t,a,u),s=!0},p(a,u){const o={};u&268435456&&(o.$$scope={dirty:u,ctx:a}),e.$set(o);const _={};u&128&&(_.valid=a[7].isValid("description")),u&128&&(_.invalid=a[7].hasErrors("description")),u&128&&(_.feedback=a[7].getErrors("description")),!f&&u&256&&(f=!0,_.value=a[8].description,A(()=>f=!1)),t.$set(_)},i(a){s||(m(e.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(t.$$.fragment,a),s=!1},d(a){b(e,a),a&&p(n),b(t,a)}}}function rn(l){let e,n;return e=new x({props:{$$slots:{default:[sn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,f){const s={};f&268435840&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ln(l){let e,n;return e=new z({props:{xs:"12",$$slots:{default:[rn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,f){const s={};f&268435840&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function an(l){let e,n,t;function f(r){l[19](r)}let s={id:"metadataInvalidSaveMode",type:"switch",label:"Invalid save mode"};return l[8].metadataInvalidSaveMode!==void 0&&(s.value=l[8].metadataInvalidSaveMode),e=new ce({props:s}),O.push(()=>B(e,"value",f,l[8].metadataInvalidSaveMode)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};!n&&i&256&&(n=!0,a.value=r[8].metadataInvalidSaveMode,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function fn(l){let e,n,t,f,s,r,i,a,u,o,_;function T(c){l[17](c)}let N={id:"metadataStructure",title:"Structure",source:l[1],valid:l[7].isValid("metadataStructure"),invalid:l[7].hasErrors("metadataStructure"),feedback:l[7].getErrors("metadataStructure")};l[8].metadataStructure!==void 0&&(N.target=l[8].metadataStructure),f=new We({props:N}),O.push(()=>B(f,"target",T,l[8].metadataStructure)),f.$on("change",l[12]);function V(c){l[18](c)}let v={title:"Required input fields",source:l[3],optionIdentifier:"key",labelIdentifier:"value",isComplex:!0};return l[8].metadataFields!==void 0&&(v.target=l[8].metadataFields),i=new $e({props:v}),O.push(()=>B(i,"target",V,l[8].metadataFields)),o=new x({props:{$$slots:{default:[an]},$$scope:{ctx:l}}}),{c(){e=M("h3"),n=P("Metadata"),t=y(),g(f.$$.fragment),r=y(),g(i.$$.fragment),u=y(),g(o.$$.fragment)},l(c){e=F(c,"H3",{});var E=K(e);n=G(E,"Metadata"),E.forEach(p),t=I(c),d(f.$$.fragment,c),r=I(c),d(i.$$.fragment,c),u=I(c),d(o.$$.fragment,c)},m(c,E){w(c,e,E),q(e,n),w(c,t,E),h(f,c,E),w(c,r,E),h(i,c,E),w(c,u,E),h(o,c,E),_=!0},p(c,E){const D={};E&2&&(D.source=c[1]),E&128&&(D.valid=c[7].isValid("metadataStructure")),E&128&&(D.invalid=c[7].hasErrors("metadataStructure")),E&128&&(D.feedback=c[7].getErrors("metadataStructure")),!s&&E&256&&(s=!0,D.target=c[8].metadataStructure,A(()=>s=!1)),f.$set(D);const R={};E&8&&(R.source=c[3]),!a&&E&256&&(a=!0,R.target=c[8].metadataFields,A(()=>a=!1)),i.$set(R);const H={};E&268435712&&(H.$$scope={dirty:E,ctx:c}),o.$set(H)},i(c){_||(m(f.$$.fragment,c),m(i.$$.fragment,c),m(o.$$.fragment,c),_=!0)},o(c){$(f.$$.fragment,c),$(i.$$.fragment,c),$(o.$$.fragment,c),_=!1},d(c){c&&p(e),c&&p(t),b(f,c),c&&p(r),b(i,c),c&&p(u),b(o,c)}}}function un(l){let e,n,t;function f(r){l[20](r)}let s={id:"hasDatastructure",type:"switch",label:"Use datastructures?"};return l[8].hasDatastructure!==void 0&&(s.checked=l[8].hasDatastructure),e=new ce({props:s}),O.push(()=>B(e,"checked",f,l[8].hasDatastructure)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};!n&&i&256&&(n=!0,a.checked=r[8].hasDatastructure,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function Ke(l){let e,n,t;function f(r){l[21](r)}let s={key:"datastructures",title:"Datastructures",source:l[2]};return l[8].datastructureList!==void 0&&(s.target=l[8].datastructureList),e=new Lt({props:s}),O.push(()=>B(e,"target",f,l[8].datastructureList)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&4&&(a.source=r[2]),!n&&i&256&&(n=!0,a.target=r[8].datastructureList,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function on(l){let e,n,t,f,s,r,i;f=new x({props:{$$slots:{default:[un]},$$scope:{ctx:l}}});let a=l[8].hasDatastructure&&Ke(l);return{c(){e=M("h3"),n=P("Datastructure"),t=y(),g(f.$$.fragment),s=y(),a&&a.c(),r=L()},l(u){e=F(u,"H3",{});var o=K(e);n=G(o,"Datastructure"),o.forEach(p),t=I(u),d(f.$$.fragment,u),s=I(u),a&&a.l(u),r=L()},m(u,o){w(u,e,o),q(e,n),w(u,t,o),h(f,u,o),w(u,s,o),a&&a.m(u,o),w(u,r,o),i=!0},p(u,o){const _={};o&268435712&&(_.$$scope={dirty:o,ctx:u}),f.$set(_),u[8].hasDatastructure?a?(a.p(u,o),o&256&&m(a,1)):(a=Ke(u),a.c(),m(a,1),a.m(r.parentNode,r)):a&&(ie(),$(a,1,1,()=>{a=null}),ue())},i(u){i||(m(f.$$.fragment,u),m(a),i=!0)},o(u){$(f.$$.fragment,u),$(a),i=!1},d(u){u&&p(e),u&&p(t),b(f,u),u&&p(s),a&&a.d(u),u&&p(r)}}}function cn(l){let e,n,t,f;return e=new z({props:{$$slots:{default:[fn]},$$scope:{ctx:l}}}),t=new z({props:{$$slots:{default:[on]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,r){const i={};r&268435850&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&268435716&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function mn(l){let e,n,t;function f(r){l[22](r)}let s={title:"Permission",source:l[5],optionIdentifier:"key",labelIdentifier:"value",isComplex:!0};return l[8].permissionGroups!==void 0&&(s.target=l[8].permissionGroups),e=new $e({props:s}),O.push(()=>B(e,"target",f,l[8].permissionGroups)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&32&&(a.source=r[5]),!n&&i&256&&(n=!0,a.target=r[8].permissionGroups,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function $n(l){let e,n,t;function f(r){l[23](r)}let s={title:"Notification",source:l[5],optionIdentifier:"key",labelIdentifier:"value",isComplex:!0};return l[8].notificationGroups!==void 0&&(s.target=l[8].notificationGroups),e=new $e({props:s}),O.push(()=>B(e,"target",f,l[8].notificationGroups)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&32&&(a.source=r[5]),!n&&i&256&&(n=!0,a.target=r[8].notificationGroups,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function _n(l){let e,n,t,f;return e=new z({props:{$$slots:{default:[mn]},$$scope:{ctx:l}}}),t=new z({props:{$$slots:{default:[$n]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,r){const i={};r&268435744&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&268435744&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function pn(l){let e,n,t;function f(r){l[24](r)}let s={title:"Disabled hooks",source:l[0]};return l[8].disabledHooks!==void 0&&(s.target=l[8].disabledHooks),e=new $e({props:s}),O.push(()=>B(e,"target",f,l[8].disabledHooks)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&1&&(a.source=r[0]),!n&&i&256&&(n=!0,a.target=r[8].disabledHooks,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function gn(l){let e,n,t;function f(r){l[25](r)}let s={title:"Allowed file types",source:l[6]};return l[8].allowedFileTypes!==void 0&&(s.target=l[8].allowedFileTypes),e=new $e({props:s}),O.push(()=>B(e,"target",f,l[8].allowedFileTypes)),{c(){g(e.$$.fragment)},l(r){d(e.$$.fragment,r)},m(r,i){h(e,r,i),t=!0},p(r,i){const a={};i&64&&(a.source=r[6]),!n&&i&256&&(n=!0,a.target=r[8].allowedFileTypes,A(()=>n=!1)),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r)}}}function dn(l){let e,n,t,f;return e=new z({props:{$$slots:{default:[pn]},$$scope:{ctx:l}}}),t=new z({props:{$$slots:{default:[gn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,r){const i={};r&268435713&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&268435776&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function hn(l){let e,n;return e=new me({props:{icon:Tt}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function bn(l){let e,n;return e=new me({props:{icon:Et}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function kn(l){let e,n,t,f;const s=[Yt,Xt],r=[];function i(a,u){return a[8]?0:1}return e=i(l),n=r[e]=s[e](l),{c(){n.c(),t=L()},l(a){n.l(a),t=L()},m(a,u){r[e].m(a,u),w(a,t,u),f=!0},p(a,[u]){let o=e;e=i(a),e===o?r[e].p(a,u):(ie(),$(r[o],1,1,()=>{r[o]=null}),ue(),n=r[e],n?n.p(a,u):(n=r[e]=s[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){f||(m(n),f=!0)},o(a){$(n),f=!1},d(a){r[e].d(a),a&&p(t)}}}function wn(l,e,n){let t,f,{id:s=0}=e,{hooks:r=[]}=e,{metadataStructures:i=[]}=e,{dataStructures:a=[]}=e,{systemKeys:u=[]}=e,{entities:o=[]}=e,{groups:_=[]}=e,{filetypes:T=[]}=e;const N=Ie();ye(async()=>{console.log("start entity template",s),Qe("https://localhost:44345","davidschoene","123456"),V(),be.reset()});async function V(){n(8,t=await lt(s)),console.log("load entity",t),s>0&&n(7,c=be(t))}async function v(){console.log("before submit",t);const k=await at(t);k!=!1&&(console.log("save",k),N("save",k))}let c=be.get();function E(k){setTimeout(async()=>{n(7,c=be(t,k.target.id))},10)}function D(k){l.$$.not_equal(t.name,k)&&(t.name=k,n(8,t))}function R(k){l.$$.not_equal(t.entityType,k)&&(t.entityType=k,n(8,t))}function H(k){l.$$.not_equal(t.description,k)&&(t.description=k,n(8,t))}function ee(k){l.$$.not_equal(t.metadataStructure,k)&&(t.metadataStructure=k,n(8,t))}function ae(k){l.$$.not_equal(t.metadataFields,k)&&(t.metadataFields=k,n(8,t))}function _e(k){l.$$.not_equal(t.metadataInvalidSaveMode,k)&&(t.metadataInvalidSaveMode=k,n(8,t))}function C(k){l.$$.not_equal(t.hasDatastructure,k)&&(t.hasDatastructure=k,n(8,t))}function S(k){l.$$.not_equal(t.datastructureList,k)&&(t.datastructureList=k,n(8,t))}function Y(k){l.$$.not_equal(t.permissionGroups,k)&&(t.permissionGroups=k,n(8,t))}function Z(k){l.$$.not_equal(t.notificationGroups,k)&&(t.notificationGroups=k,n(8,t))}function pe(k){l.$$.not_equal(t.disabledHooks,k)&&(t.disabledHooks=k,n(8,t))}function ge(k){l.$$.not_equal(t.allowedFileTypes,k)&&(t.allowedFileTypes=k,n(8,t))}const de=()=>N("cancel");return l.$$set=k=>{"id"in k&&n(13,s=k.id),"hooks"in k&&n(0,r=k.hooks),"metadataStructures"in k&&n(1,i=k.metadataStructures),"dataStructures"in k&&n(2,a=k.dataStructures),"systemKeys"in k&&n(3,u=k.systemKeys),"entities"in k&&n(4,o=k.entities),"groups"in k&&n(5,_=k.groups),"filetypes"in k&&n(6,T=k.filetypes)},l.$$.update=()=>{l.$$.dirty&128&&n(9,f=!c.isValid())},n(8,t=null),[r,i,a,u,o,_,T,c,t,f,N,v,E,s,D,R,H,ee,ae,_e,C,S,Y,Z,pe,ge,de]}class vn extends j{constructor(e){super(),Q(this,e,wn,kn,W,{id:13,hooks:0,metadataStructures:1,dataStructures:2,systemKeys:3,entities:4,groups:5,filetypes:6})}}function Sn(l){let e;return{c(){e=P(l[0])},l(n){e=G(n,l[0])},m(n,t){w(n,e,t)},p(n,t){t&1&&X(e,n[0])},d(n){n&&p(e)}}}function Tn(l){let e,n;return e=new Pt({props:{$$slots:{default:[Sn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,f){const s={};f&65&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Le(l){let e;return{c(){e=P(l[1])},l(n){e=G(n,l[1])},m(n,t){w(n,e,t)},p(n,t){t&2&&X(e,n[1])},d(n){n&&p(e)}}}function En(l){let e,n=l[1]&&Le(l);return{c(){n&&n.c(),e=L()},l(t){n&&n.l(t),e=L()},m(t,f){n&&n.m(t,f),w(t,e,f)},p(t,f){t[1]?n?n.p(t,f):(n=Le(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&p(e)}}}function yn(l){let e,n=l[2].text+"",t,f,s,r,i,a=l[3].text+"",u;return{c(){e=M("span"),t=P(n),f=y(),s=M("br"),r=y(),i=M("span"),u=P(a)},l(o){e=F(o,"SPAN",{});var _=K(e);t=G(_,n),_.forEach(p),f=I(o),s=F(o,"BR",{}),r=I(o),i=F(o,"SPAN",{});var T=K(i);u=G(T,a),T.forEach(p)},m(o,_){w(o,e,_),q(e,t),w(o,f,_),w(o,s,_),w(o,r,_),w(o,i,_),q(i,u)},p(o,_){_&4&&n!==(n=o[2].text+"")&&X(t,n),_&8&&a!==(a=o[3].text+"")&&X(u,a)},d(o){o&&p(e),o&&p(f),o&&p(s),o&&p(r),o&&p(i)}}}function In(l){let e,n,t,f;return e=new Ct({props:{$$slots:{default:[En]},$$scope:{ctx:l}}}),t=new qt({props:{$$slots:{default:[yn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,r){const i={};r&66&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&76&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function Cn(l){let e;return{c(){e=P("no action setup")},l(n){e=G(n,"no action setup")},m(n,t){w(n,e,t)},d(n){n&&p(e)}}}function Nn(l){let e;const n=l[5].default,t=ke(n,l,l[6],null),f=t||Cn();return{c(){f&&f.c()},l(s){f&&f.l(s)},m(s,r){f&&f.m(s,r),e=!0},p(s,r){t&&t.p&&(!e||r&64)&&we(t,n,s,s[6],e?Se(n,s[6],r,null):ve(s[6]),null)},i(s){e||(m(f,s),e=!0)},o(s){$(f,s),e=!1},d(s){f&&f.d(s)}}}function Dn(l){let e,n,t,f,s,r;return e=new bt({props:{$$slots:{default:[Tn]},$$scope:{ctx:l}}}),t=new kt({props:{$$slots:{default:[In]},$$scope:{ctx:l}}}),s=new wt({props:{$$slots:{default:[Nn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment),f=y(),g(s.$$.fragment)},l(i){d(e.$$.fragment,i),n=I(i),d(t.$$.fragment,i),f=I(i),d(s.$$.fragment,i)},m(i,a){h(e,i,a),w(i,n,a),h(t,i,a),w(i,f,a),h(s,i,a),r=!0},p(i,a){const u={};a&65&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const o={};a&78&&(o.$$scope={dirty:a,ctx:i}),t.$set(o);const _={};a&64&&(_.$$scope={dirty:a,ctx:i}),s.$set(_)},i(i){r||(m(e.$$.fragment,i),m(t.$$.fragment,i),m(s.$$.fragment,i),r=!0)},o(i){$(e.$$.fragment,i),$(t.$$.fragment,i),$(s.$$.fragment,i),r=!1},d(i){b(e,i),i&&p(n),b(t,i),i&&p(f),b(s,i)}}}function qn(l){let e,n;return e=new ht({props:{class:"mb-3",$$slots:{default:[Dn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,[f]){const s={};f&79&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Mn(l,e,n){let{$$slots:t={},$$scope:f}=e,{id:s}=e,{name:r=""}=e,{description:i=""}=e,{entityType:a}=e,{metadataStructure:u}=e;return Ie(),l.$$set=o=>{"id"in o&&n(4,s=o.id),"name"in o&&n(0,r=o.name),"description"in o&&n(1,i=o.description),"entityType"in o&&n(2,a=o.entityType),"metadataStructure"in o&&n(3,u=o.metadataStructure),"$$scope"in o&&n(6,f=o.$$scope)},[r,i,a,u,s,t,f]}class Fn extends j{constructor(e){super(),Q(this,e,Mn,qn,W,{id:4,name:0,description:1,entityType:2,metadataStructure:3})}}function Oe(l,e,n){const t=l.slice();return t[4]=e[n],t[6]=n,t}function Pn(l){let e,n;return e=new je({props:{color:"info",size:"sm",type:"grow","text-center":!0}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Gn(l){let e=[],n=new Map,t,f,s=l[0];const r=i=>i[4].id;for(let i=0;i<s.length;i+=1){let a=Oe(l,s,i),u=r(a);n.set(u,e[i]=Be(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=L()},l(i){for(let a=0;a<e.length;a+=1)e[a].l(i);t=L()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);w(i,t,a),f=!0},p(i,a){a&7&&(s=i[0],ie(),e=Je(e,a,r,1,i,s,n,t.parentNode,xe,Be,t,Oe),ue())},i(i){if(!f){for(let a=0;a<s.length;a+=1)m(e[a]);f=!0}},o(i){for(let a=0;a<e.length;a+=1)$(e[a]);f=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&p(t)}}}function Vn(l){let e,n;return e=new me({props:{icon:nt}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Hn(l){let e,n;return e=new me({props:{icon:st}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Kn(l){let e,n,t,f;return e=new fe({props:{$$slots:{default:[Vn]},$$scope:{ctx:l}}}),e.$on("click",function(){qe(l[1](l[4].id))&&l[1](l[4].id).apply(this,arguments)}),t=new fe({props:{$$slots:{default:[Hn]},$$scope:{ctx:l}}}),t.$on("click",function(){qe(l[2](l[6],l[4].id))&&l[2](l[6],l[4].id).apply(this,arguments)}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,r){l=s;const i={};r&128&&(i.$$scope={dirty:r,ctx:l}),e.$set(i);const a={};r&128&&(a.$$scope={dirty:r,ctx:l}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function Ln(l){let e,n,t;const f=[l[4]];let s={$$slots:{default:[Kn]},$$scope:{ctx:l}};for(let r=0;r<f.length;r+=1)s=U(s,f[r]);return e=new Fn({props:s}),{c(){g(e.$$.fragment),n=y()},l(r){d(e.$$.fragment,r),n=I(r)},m(r,i){h(e,r,i),w(r,n,i),t=!0},p(r,i){const a=i&1?Te(f,[et(r[4])]):{};i&129&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){b(e,r),r&&p(n)}}}function Be(l,e){let n,t,f;return t=new z({props:{xs:"6",ms:"4",md:"5",$$slots:{default:[Ln]},$$scope:{ctx:e}}}),{key:l,first:null,c(){n=L(),g(t.$$.fragment),this.h()},l(s){n=L(),d(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,r){w(s,n,r),h(t,s,r),f=!0},p(s,r){e=s;const i={};r&129&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(s){f||(m(t.$$.fragment,s),f=!0)},o(s){$(t.$$.fragment,s),f=!1},d(s){s&&p(n),b(t,s)}}}function On(l){let e,n,t,f;const s=[Gn,Pn],r=[];function i(a,u){return a[0]?0:1}return e=i(l),n=r[e]=s[e](l),{c(){n.c(),t=L()},l(a){n.l(a),t=L()},m(a,u){r[e].m(a,u),w(a,t,u),f=!0},p(a,u){let o=e;e=i(a),e===o?r[e].p(a,u):(ie(),$(r[o],1,1,()=>{r[o]=null}),ue(),n=r[e],n?n.p(a,u):(n=r[e]=s[e](a),n.c()),m(n,1),n.m(t.parentNode,t))},i(a){f||(m(n),f=!0)},o(a){$(n),f=!1},d(a){r[e].d(a),a&&p(t)}}}function Bn(l){let e,n,t;return n=new se({props:{$$slots:{default:[On]},$$scope:{ctx:l}}}),{c(){e=M("div"),g(n.$$.fragment),this.h()},l(f){e=F(f,"DIV",{style:!0});var s=K(e);d(n.$$.fragment,s),s.forEach(p),this.h()},h(){Ze(e,"padding-top","20px")},m(f,s){w(f,e,s),h(n,e,null),t=!0},p(f,[s]){const r={};s&129&&(r.$$scope={dirty:s,ctx:f}),n.$set(r)},i(f){t||(m(n.$$.fragment,f),t=!0)},o(f){$(n.$$.fragment,f),t=!1},d(f){f&&p(e),b(n)}}}function An(l,e,n){const t=Ie();let{entitytemplates:f=null}=e;function s(i){console.log("edit",i),t("edit",i)}async function r(i,a){console.log(i,a),await ft(a)===!0&&n(0,f=f.filter((o,_)=>_!==i))}return l.$$set=i=>{"entitytemplates"in i&&n(0,f=i.entitytemplates)},[f,s,r]}class Rn extends j{constructor(e){super(),Q(this,e,An,Bn,W,{entitytemplates:0})}}function Un(l){let e,n;return e=new vn({props:{id:l[8],hooks:l[0],metadataStructures:l[1],dataStructures:l[2],systemKeys:l[3],entities:l[4],groups:l[5],filetypes:l[6]}}),e.$on("save",l[10]),e.$on("cancel",l[13]),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,f){const s={};f&256&&(s.id=t[8]),f&1&&(s.hooks=t[0]),f&2&&(s.metadataStructures=t[1]),f&4&&(s.dataStructures=t[2]),f&8&&(s.systemKeys=t[3]),f&16&&(s.entities=t[4]),f&32&&(s.groups=t[5]),f&64&&(s.filetypes=t[6]),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function zn(l){let e,n;return e=new ze({props:{$$slots:{default:[Un]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p(t,f){const s={};f&131583&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ae(l){let e,n,t,f;return n=new fe({props:{color:"primary",class:"mb-3",disabled:l[7],$$slots:{default:[jn]},$$scope:{ctx:l}}}),n.$on("click",l[11]),{c(){e=M("div"),g(n.$$.fragment)},l(s){e=F(s,"DIV",{});var r=K(e);d(n.$$.fragment,r),r.forEach(p)},m(s,r){w(s,e,r),h(n,e,null),f=!0},p(s,r){const i={};r&128&&(i.disabled=s[7]),r&131072&&(i.$$scope={dirty:r,ctx:s}),n.$set(i)},i(s){f||(m(n.$$.fragment,s),tt(()=>{t||(t=Me(e,Fe,{},!0)),t.run(1)}),f=!0)},o(s){$(n.$$.fragment,s),t||(t=Me(e,Fe,{},!1)),t.run(0),f=!1},d(s){s&&p(e),b(n),s&&t&&t.end()}}}function jn(l){let e,n;return e=new me({props:{icon:rt}}),{c(){g(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,f){h(e,t,f),n=!0},p:J,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Qn(l){let e,n,t,f,s=!l[7]&&Ae(l);function r(a){l[14](a)}let i={};return l[9]!==void 0&&(i.entitytemplates=l[9]),n=new Rn({props:i}),O.push(()=>B(n,"entitytemplates",r,l[9])),n.$on("edit",l[12]),{c(){s&&s.c(),e=y(),g(n.$$.fragment)},l(a){s&&s.l(a),e=I(a),d(n.$$.fragment,a)},m(a,u){s&&s.m(a,u),w(a,e,u),h(n,a,u),f=!0},p(a,u){a[7]?s&&(ie(),$(s,1,1,()=>{s=null}),ue()):s?(s.p(a,u),u&128&&m(s,1)):(s=Ae(a),s.c(),m(s,1),s.m(e.parentNode,e));const o={};!t&&u&512&&(t=!0,o.entitytemplates=a[9],A(()=>t=!1)),n.$set(o)},i(a){f||(m(s),m(n.$$.fragment,a),f=!0)},o(a){$(s),$(n.$$.fragment,a),f=!1},d(a){s&&s.d(a),a&&p(e),b(n,a)}}}function Wn(l){let e,n,t,f;return e=new it({props:{isOpen:l[7],$$slots:{default:[zn]},$$scope:{ctx:l}}}),t=new ze({props:{$$slots:{default:[Qn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment)},l(s){d(e.$$.fragment,s),n=I(s),d(t.$$.fragment,s)},m(s,r){h(e,s,r),w(s,n,r),h(t,s,r),f=!0},p(s,[r]){const i={};r&128&&(i.isOpen=s[7]),r&131583&&(i.$$scope={dirty:r,ctx:s}),e.$set(i);const a={};r&131712&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){f||(m(e.$$.fragment,s),m(t.$$.fragment,s),f=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),f=!1},d(s){b(e,s),s&&p(n),b(t,s)}}}function Xn(l,e,n){let t,f,s=[],r=[],i=[],a=[],u=[],o=[],_=[],T=!1;ye(async()=>{console.log("start entity template"),Qe("https://localhost:44345","davidschoene","123456"),n(0,s=await ut()),n(1,r=await ot()),n(2,i=await ct()),n(3,a=await mt()),n(4,u=await $t()),n(5,o=await _t()),n(6,_=await pt()),n(9,f=await gt()),console.log("hooks",s),console.log("metadataStructures",r),console.log("dataStructures",i),console.log("systemKeys",a),console.log("entities",u),console.log("groups",o),console.log("filetypes",_),console.log("entitytemplates",f)});async function N(D){const R=D.detail;console.log(R),n(9,f=f.filter(H=>H.id!==R.id)),n(9,f=[...f,R]),n(7,T=!1)}async function V(){n(8,t=0),n(7,T=!T)}async function v(D){""+D.detail,n(7,T=!1),setTimeout(async()=>{n(8,t=D.detail),n(7,T=!0)},500)}const c=()=>n(7,T=!1);function E(D){f=D,n(9,f)}return n(8,t=0),n(9,f=[]),[s,r,i,a,u,o,_,T,t,f,N,V,v,c,E]}class ls extends j{constructor(e){super(),Q(this,e,Xn,Wn,W,{})}}export{ls as default};
