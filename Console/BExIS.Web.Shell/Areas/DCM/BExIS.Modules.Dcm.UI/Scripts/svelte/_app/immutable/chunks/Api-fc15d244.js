import{w as a}from"./index-f8b8ac1b.js";let c="window.location.origin",g="",_="";const u=a(""),d=a(""),h=a("");u.subscribe(e=>{c=e});d.subscribe(e=>{g=e});h.subscribe(e=>{_=e});function S(e,t,n){console.log("overwrite settings"),u.update(o=>e),d.update(o=>t),h.update(o=>n)}console.log("setup fetch");const s=(e,t,n)=>{console.log("url",t),console.log("host",c),console.log("request",n),console.log("method",e);const o=c+t;let i="",p;console.log("destination",o),e!=="get"&&(p=JSON.stringify(n),i="application/json");const r={authorization:"Basic "+btoa(g+":"+_),"content-type":i};return console.log(r),fetch(o,{method:e,headers:r,body:p}).then(l=>l).catch(l=>(console.log("err",l),Promise.reject(l)))},y=(e,t="")=>s("get",e,t),f=(e,t)=>s("delete",e,t),v=(e,t)=>s("post",e,t),b=(e,t)=>s("put",e,t),w=(e,t)=>s("patch",e,t),A={get:y,delete:f,post:v,put:b,patch:w};export{A,c as h,S as s};
